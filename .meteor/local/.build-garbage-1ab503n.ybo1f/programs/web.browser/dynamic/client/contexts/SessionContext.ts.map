{"version":3,"sources":["meteor://ðŸ’»app/client/contexts/SessionContext.ts"],"names":[],"mappings":";;;;;;;;AAAA,OAAO,MAAP,CAAS;AAAA,gBAAe,sBAAf;AAAwC,YAAS,QAAM,UAAvD;AAA+D;AAA/D,CAAT;AAAwE;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAQjE,MAAM,cAAc,gBAAG,aAAa,CAAsB;AAChE,OAAK,EAAE,OAAO;AACb,mBAAe,EAAE,MAAiB,SADrB;AAEb,aAAS,EAAE,MAAmB,MAAY;AAF7B,GAAP,CADyD;AAKhE,UAAQ,EAAE,MAAY;AAL0C,CAAtB,CAApC;;AAQA,MAAM,UAAU,GAAI,IAAD,IAA0B;AACnD,QAAM;AAAE;AAAF,MAAY,UAAU,CAAC,cAAD,CAA5B;AACA,QAAM,YAAY,GAAG,OAAO,CAAC,MAAM,KAAK,CAAC,IAAD,CAAZ,EAAoB,CAAC,KAAD,EAAQ,IAAR,CAApB,CAA5B;AACA,SAAO,eAAe,CAAC,YAAD,CAAtB;AACA,CAJM;;AAMA,MAAM,kBAAkB,GAAI,IAAD,IAA6C;AAC9E,QAAM;AAAE;AAAF,MAAe,UAAU,CAAC,cAAD,CAA/B;AACA,SAAO,WAAW,CAAE,KAAD,IAAW,QAAQ,CAAC,IAAD,EAAO,KAAP,CAApB,EAAmC,CAAC,QAAD,EAAW,IAAX,CAAnC,CAAlB;AACA,CAHM,C","file":"dynamic/client/contexts/SessionContext.ts","sourcesContent":["import { createContext, useCallback, useContext, useMemo } from 'react';\nimport { useSubscription, Subscription, Unsubscribe } from 'use-subscription';\n\ntype SessionContextValue = {\n\tquery: (name: string) => Subscription<unknown>;\n\tdispatch: (name: string, value: unknown) => void;\n};\n\nexport const SessionContext = createContext<SessionContextValue>({\n\tquery: () => ({\n\t\tgetCurrentValue: (): undefined => undefined,\n\t\tsubscribe: (): Unsubscribe => (): void => undefined,\n\t}),\n\tdispatch: (): void => undefined,\n});\n\nexport const useSession = (name: string): unknown => {\n\tconst { query } = useContext(SessionContext);\n\tconst subscription = useMemo(() => query(name), [query, name]);\n\treturn useSubscription(subscription);\n};\n\nexport const useSessionDispatch = (name: string): ((value: unknown) => void) => {\n\tconst { dispatch } = useContext(SessionContext);\n\treturn useCallback((value) => dispatch(name, value), [dispatch, name]);\n};\n"]}