{"version":3,"sources":["meteor://ðŸ’»app/client/lib/settings/PrivateSettingsCachedCollection.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAAS,MAAe,KAAf,CAAqB,sCAArB,EAAyD;AAAA;AAAA;AAAA;;AAAA,CAAzD,EAAyD,CAAzD;;AAAyD;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAlE,OAAO,MAAP,CAAS;AAAA,iCAAqB;AAArB,CAAT;AAAkE;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAG5D,MAAO,+BAAP,SAA+C,gBAA/C,CAA+D;AACpE;AACC,UAAM;AACL,UAAI,EAAE,kBADD;AAEL,eAAS,EAAE;AAFN,KAAN;AAIA;;AAEkB,QAAb,aAAa;AAClB,iBAAa,CAAC,QAAd,CAAuB,KAAK,SAA5B,EAAuC,OAAO,CAAP,WAAyD;AAAA,UAAvC;AAAE;AAAF,OAAuC;AAAA,UAA7B,MAA6B;;AAC/F,WAAK,GAAL,CAAS,iBAAT,EAA4B,CAA5B;AAAiC;AAAjC,SAAyC,MAAzC;AACA,WAAK,UAAL,CAAgB,MAAhB,CAAuB;AAAE;AAAF,OAAvB,EAAgC,MAAhC;AACA,WAAK,IAAL;AACA,KAJD;AAKA;;AAIS,SAAH,GAAG;AACT,QAAI,CAAC,+BAA+B,CAAC,QAArC,EAA+C;AAC9C,qCAA+B,CAAC,QAAhC,GAA2C,IAAI,+BAAJ,EAA3C;AACA;;AAED,WAAO,+BAA+B,CAAC,QAAvC;AACA;;AAxBmE;;AAAxD,+B,CAgBL,Q","file":"dynamic/client/lib/settings/PrivateSettingsCachedCollection.ts","sourcesContent":["import { Notifications } from '../../../app/notifications/client';\nimport { CachedCollection } from '../../../app/ui-cached-collection/client';\n\nexport class PrivateSettingsCachedCollection extends CachedCollection {\n\tconstructor() {\n\t\tsuper({\n\t\t\tname: 'private-settings',\n\t\t\teventType: 'onLogged',\n\t\t});\n\t}\n\n\tasync setupListener(): Promise<void> {\n\t\tNotifications.onLogged(this.eventName, async (t: string, { _id, ...record }: { _id: string }) => {\n\t\t\tthis.log('record received', t, { _id, ...record });\n\t\t\tthis.collection.upsert({ _id }, record);\n\t\t\tthis.sync();\n\t\t});\n\t}\n\n\tstatic instance: PrivateSettingsCachedCollection;\n\n\tstatic get(): PrivateSettingsCachedCollection {\n\t\tif (!PrivateSettingsCachedCollection.instance) {\n\t\t\tPrivateSettingsCachedCollection.instance = new PrivateSettingsCachedCollection();\n\t\t}\n\n\t\treturn PrivateSettingsCachedCollection.instance;\n\t}\n}\n"]}