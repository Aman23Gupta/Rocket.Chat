{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/federationDashboard/OverviewSection.js"],"names":["Box","Skeleton","module","link","v","React","useMemo","default","CounterSet","useTranslation","AsyncStatePhase","usePolledMethodData","OverviewSection","t","value","overviewData","phase","overviewStatus","eventCount","LOADING","REJECTED","data","userCount","serverCount","count","description","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/federationDashboard/OverviewSection.js","sourcesContent":["import { Box, Skeleton } from '@rocket.chat/fuselage';\nimport React, { useMemo } from 'react';\n\nimport CounterSet from '../../../components/data/CounterSet';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { AsyncStatePhase } from '../../../hooks/useAsyncState';\nimport { usePolledMethodData } from '../../../hooks/usePolledMethodData';\n\nfunction OverviewSection() {\n\tconst t = useTranslation();\n\tconst { value: overviewData, phase: overviewStatus } = usePolledMethodData(\n\t\t'federation:getOverviewData',\n\t\tuseMemo(() => [], []),\n\t\t10000,\n\t);\n\n\tconst eventCount =\n\t\t(overviewStatus === AsyncStatePhase.LOADING && <Skeleton variant='text' />) ||\n\t\t(overviewStatus === AsyncStatePhase.REJECTED && <Box color='danger'>Error</Box>) ||\n\t\toverviewData?.data[0]?.value;\n\tconst userCount =\n\t\t(overviewStatus === AsyncStatePhase.LOADING && <Skeleton variant='text' />) ||\n\t\t(overviewStatus === AsyncStatePhase.REJECTED && <Box color='danger'>Error</Box>) ||\n\t\toverviewData?.data[1]?.value;\n\tconst serverCount =\n\t\t(overviewStatus === AsyncStatePhase.LOADING && <Skeleton variant='text' />) ||\n\t\t(overviewStatus === AsyncStatePhase.REJECTED && <Box color='danger'>Error</Box>) ||\n\t\toverviewData?.data[2]?.value;\n\n\treturn (\n\t\t<CounterSet\n\t\t\tcounters={[\n\t\t\t\t{\n\t\t\t\t\tcount: eventCount,\n\t\t\t\t\tdescription: t('Number_of_events'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcount: userCount,\n\t\t\t\t\tdescription: t('Number_of_federated_users'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcount: serverCount,\n\t\t\t\t\tdescription: t('Number_of_federated_servers'),\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t);\n}\n\nexport default OverviewSection;\n"]}