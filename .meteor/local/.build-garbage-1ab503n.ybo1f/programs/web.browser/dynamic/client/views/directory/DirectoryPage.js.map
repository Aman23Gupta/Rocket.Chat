{"version":3,"sources":["meteor://ðŸ’»app/client/views/directory/DirectoryPage.js"],"names":["Tabs","module","link","v","React","useEffect","useCallback","default","Page","useCurrentRoute","useRoute","useRouteParameter","useSetting","useTranslation","ChannelsTab","TeamsTab","UserTab","DirectoryPage","t","defaultTab","federationEnabled","routeName","tab","directoryRoute","replace","handleTabClick","push","displayName","exportDefault"],"mappings":"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","file":"dynamic/client/views/directory/DirectoryPage.js","sourcesContent":["import { Tabs } from '@rocket.chat/fuselage';\nimport React, { useEffect, useCallback } from 'react';\n\nimport Page from '../../components/Page';\nimport { useCurrentRoute, useRoute, useRouteParameter } from '../../contexts/RouterContext';\nimport { useSetting } from '../../contexts/SettingsContext';\nimport { useTranslation } from '../../contexts/TranslationContext';\nimport ChannelsTab from './ChannelsTab';\nimport TeamsTab from './TeamsTab';\nimport UserTab from './UserTab';\n\nfunction DirectoryPage() {\n\tconst t = useTranslation();\n\n\tconst defaultTab = useSetting('Accounts_Directory_DefaultView');\n\tconst federationEnabled = useSetting('FEDERATION_Enabled');\n\tconst [routeName] = useCurrentRoute();\n\tconst tab = useRouteParameter('tab');\n\tconst directoryRoute = useRoute('directory');\n\n\tuseEffect(() => {\n\t\tif (routeName !== 'directory') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!tab || (tab === 'external' && !federationEnabled)) {\n\t\t\treturn directoryRoute.replace({ tab: defaultTab });\n\t\t}\n\t}, [routeName, directoryRoute, tab, federationEnabled, defaultTab]);\n\n\tconst handleTabClick = useCallback((tab) => () => directoryRoute.push({ tab }), [directoryRoute]);\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Directory')} />\n\t\t\t<Tabs flexShrink={0}>\n\t\t\t\t<Tabs.Item selected={tab === 'channels'} onClick={handleTabClick('channels')}>\n\t\t\t\t\t{t('Channels')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t<Tabs.Item selected={tab === 'users'} onClick={handleTabClick('users')}>\n\t\t\t\t\t{t('Users')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t<Tabs.Item selected={tab === 'teams'} onClick={handleTabClick('teams')}>\n\t\t\t\t\t{t('Teams')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t{federationEnabled && (\n\t\t\t\t\t<Tabs.Item selected={tab === 'external'} onClick={handleTabClick('external')}>\n\t\t\t\t\t\t{t('External_Users')}\n\t\t\t\t\t</Tabs.Item>\n\t\t\t\t)}\n\t\t\t</Tabs>\n\t\t\t<Page.Content>\n\t\t\t\t{(tab === 'users' && <UserTab />) ||\n\t\t\t\t\t(tab === 'channels' && <ChannelsTab />) ||\n\t\t\t\t\t(tab === 'teams' && <TeamsTab />) ||\n\t\t\t\t\t(federationEnabled && tab === 'external' && <UserTab workspace='external' />)}\n\t\t\t</Page.Content>\n\t\t</Page>\n\t);\n}\n\nDirectoryPage.displayName = 'DirectoryPage';\n\nexport default DirectoryPage;\n"]}