{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/customUserStatus/AddCustomUserStatus.js"],"names":["_objectWithoutProperties","module","link","default","v","Button","ButtonGroup","TextInput","Field","Select","React","useCallback","useState","VerticalBar","useMethod","useToastMessageDispatch","useTranslation","AddCustomUserStatus","goToNew","close","onChange","props","t","dispatchToastMessage","name","setName","statusType","setStatusType","saveStatus","handleSave","result","type","message","error","presenceOptions","e","currentTarget","value","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/customUserStatus/AddCustomUserStatus.js","sourcesContent":["import { Button, ButtonGroup, TextInput, Field, Select } from '@rocket.chat/fuselage';\nimport React, { useCallback, useState } from 'react';\n\nimport VerticalBar from '../../../components/VerticalBar';\nimport { useMethod } from '../../../contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\n\nfunction AddCustomUserStatus({ goToNew, close, onChange, ...props }) {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst [name, setName] = useState('');\n\tconst [statusType, setStatusType] = useState('online');\n\n\tconst saveStatus = useMethod('insertOrUpdateUserStatus');\n\tconst handleSave = useCallback(async () => {\n\t\ttry {\n\t\t\tconst result = await saveStatus({\n\t\t\t\tname,\n\t\t\t\tstatusType,\n\t\t\t});\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('Custom_User_Status_Updated_Successfully'),\n\t\t\t});\n\t\t\tgoToNew(result)();\n\t\t\tonChange();\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [dispatchToastMessage, goToNew, name, onChange, saveStatus, statusType, t]);\n\n\tconst presenceOptions = [\n\t\t['online', t('Online')],\n\t\t['busy', t('Busy')],\n\t\t['away', t('Away')],\n\t\t['offline', t('Offline')],\n\t];\n\n\treturn (\n\t\t<VerticalBar.ScrollableContent {...props}>\n\t\t\t<Field>\n\t\t\t\t<Field.Label>{t('Name')}</Field.Label>\n\t\t\t\t<Field.Row>\n\t\t\t\t\t<TextInput value={name} onChange={(e) => setName(e.currentTarget.value)} placeholder={t('Name')} />\n\t\t\t\t</Field.Row>\n\t\t\t</Field>\n\t\t\t<Field>\n\t\t\t\t<Field.Label>{t('Presence')}</Field.Label>\n\t\t\t\t<Field.Row>\n\t\t\t\t\t<Select value={statusType} onChange={(value) => setStatusType(value)} placeholder={t('Presence')} options={presenceOptions} />\n\t\t\t\t</Field.Row>\n\t\t\t</Field>\n\t\t\t<Field>\n\t\t\t\t<Field.Row>\n\t\t\t\t\t<ButtonGroup stretch w='full'>\n\t\t\t\t\t\t<Button mie='x4' onClick={close}>\n\t\t\t\t\t\t\t{t('Cancel')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button primary onClick={handleSave} disabled={name === ''}>\n\t\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</Field.Row>\n\t\t\t</Field>\n\t\t</VerticalBar.ScrollableContent>\n\t);\n}\n\nexport default AddCustomUserStatus;\n"]}