{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/agents/AgentInfoActions.js"],"names":["useMutableCallback","module","link","v","React","default","GenericModal","useSetModal","useRouteParameter","useRoute","useToastMessageDispatch","useTranslation","useEndpointAction","AgentInfo","AgentInfoActions","reload","t","_id","agentsRoute","deleteAction","setModal","dispatchToastMessage","handleRemoveClick","result","success","push","handleDelete","e","stopPropagation","onDeleteAgent","type","message","error","handleEditClick","context","id","exportDefault"],"mappings":"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","file":"dynamic/client/views/omnichannel/agents/AgentInfoActions.js","sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React from 'react';\n\nimport GenericModal from '../../../components/GenericModal';\nimport { useSetModal } from '../../../contexts/ModalContext';\nimport { useRouteParameter, useRoute } from '../../../contexts/RouterContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useEndpointAction } from '../../../hooks/useEndpointAction';\nimport AgentInfo from './AgentInfo';\n\nfunction AgentInfoActions({ reload }) {\n\tconst t = useTranslation();\n\tconst _id = useRouteParameter('id');\n\tconst agentsRoute = useRoute('omnichannel-agents');\n\tconst deleteAction = useEndpointAction('DELETE', `livechat/users/agent/${_id}`);\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleRemoveClick = useMutableCallback(async () => {\n\t\tconst result = await deleteAction();\n\t\tif (result.success === true) {\n\t\t\tagentsRoute.push({});\n\t\t\treload();\n\t\t}\n\t});\n\n\tconst handleDelete = useMutableCallback((e) => {\n\t\te.stopPropagation();\n\t\tconst onDeleteAgent = async () => {\n\t\t\ttry {\n\t\t\t\tawait handleRemoveClick();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Agent_removed') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tsetModal();\n\t\t};\n\n\t\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteAgent} onCancel={() => setModal()} confirmText={t('Delete')} />);\n\t});\n\n\tconst handleEditClick = useMutableCallback(() =>\n\t\tagentsRoute.push({\n\t\t\tcontext: 'edit',\n\t\t\tid: _id,\n\t\t}),\n\t);\n\n\treturn [\n\t\t<AgentInfo.Action key={t('Remove')} title={t('Remove')} label={t('Remove')} onClick={handleDelete} icon={'trash'} />,\n\t\t<AgentInfo.Action key={t('Edit')} title={t('Edit')} label={t('Edit')} onClick={handleEditClick} icon={'edit'} />,\n\t];\n}\n\nexport default AgentInfoActions;\n"]}