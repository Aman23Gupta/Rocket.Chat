{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/import/ImportHistoryPage.js"],"names":["_extends","module","link","default","v","Button","ButtonGroup","Table","useMediaQuery","useSafely","React","useState","useEffect","useMemo","ProgressStep","Page","useRoute","useEndpoint","useToastMessageDispatch","useTranslation","ImportOperationSummary","ImportHistoryPage","t","dispatchToastMessage","isLoading","setLoading","currentOperation","setCurrentOperation","latestOperations","setLatestOperations","getCurrentImportOperation","getLatestImportOperations","downloadPendingFiles","downloadPendingAvatars","newImportRoute","importProgressRoute","loadData","operation","error","type","message","operations","hasAnySuccessfulImport","some","status","DONE","handleNewImportClick","push","handleDownloadPendingFilesClick","count","console","handleDownloadPendingAvatarsClick","small","Array","from","length","_","i","valid","filter","_id","map","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/import/ImportHistoryPage.js","sourcesContent":["import { Button, ButtonGroup, Table } from '@rocket.chat/fuselage';\nimport { useMediaQuery, useSafely } from '@rocket.chat/fuselage-hooks';\nimport React, { useState, useEffect, useMemo } from 'react';\n\nimport { ProgressStep } from '../../../../app/importer/lib/ImporterProgressStep';\nimport Page from '../../../components/Page';\nimport { useRoute } from '../../../contexts/RouterContext';\nimport { useEndpoint } from '../../../contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport ImportOperationSummary from './ImportOperationSummary';\n\nfunction ImportHistoryPage() {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst [isLoading, setLoading] = useSafely(useState(true));\n\tconst [currentOperation, setCurrentOperation] = useSafely(useState());\n\tconst [latestOperations, setLatestOperations] = useSafely(useState([]));\n\n\tconst getCurrentImportOperation = useEndpoint('GET', 'getCurrentImportOperation');\n\tconst getLatestImportOperations = useEndpoint('GET', 'getLatestImportOperations');\n\tconst downloadPendingFiles = useEndpoint('POST', 'downloadPendingFiles');\n\tconst downloadPendingAvatars = useEndpoint('POST', 'downloadPendingAvatars');\n\n\tconst newImportRoute = useRoute('admin-import-new');\n\tconst importProgressRoute = useRoute('admin-import-progress');\n\n\tuseEffect(() => {\n\t\tconst loadData = async () => {\n\t\t\tsetLoading(true);\n\n\t\t\ttry {\n\t\t\t\tconst { operation } = await getCurrentImportOperation();\n\t\t\t\tsetCurrentOperation(operation);\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: t('Failed_To_Load_Import_Operation') });\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst operations = await getLatestImportOperations();\n\t\t\t\tsetLatestOperations(operations);\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: t('Failed_To_Load_Import_History') });\n\t\t\t}\n\n\t\t\tsetLoading(false);\n\t\t};\n\n\t\tloadData();\n\t}, [dispatchToastMessage, getCurrentImportOperation, getLatestImportOperations, setCurrentOperation, setLatestOperations, setLoading, t]);\n\n\tconst hasAnySuccessfulImport = useMemo(() => latestOperations?.some(({ status }) => status === ProgressStep.DONE), [latestOperations]);\n\n\tconst handleNewImportClick = () => {\n\t\tnewImportRoute.push();\n\t};\n\n\tconst handleDownloadPendingFilesClick = async () => {\n\t\ttry {\n\t\t\tsetLoading(true);\n\t\t\tconst { count } = await downloadPendingFiles();\n\n\t\t\tif (!count) {\n\t\t\t\tdispatchToastMessage({ type: 'info', message: t('No_files_left_to_download') });\n\t\t\t\tsetLoading(false);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatchToastMessage({ type: 'info', message: t('File_Downloads_Started') });\n\t\t\timportProgressRoute.push();\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tdispatchToastMessage({ type: 'error', message: t('Failed_To_Download_Files') });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst handleDownloadPendingAvatarsClick = async () => {\n\t\ttry {\n\t\t\tsetLoading(true);\n\t\t\tconst { count } = await downloadPendingAvatars();\n\n\t\t\tif (!count) {\n\t\t\t\tdispatchToastMessage({ type: 'info', message: t('No_files_left_to_download') });\n\t\t\t\tsetLoading(false);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatchToastMessage({ type: 'info', message: t('File_Downloads_Started') });\n\t\t\timportProgressRoute.push();\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tdispatchToastMessage({ type: 'error', message: t('Failed_To_Download_Files') });\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst small = useMediaQuery('(max-width: 768px)');\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Import')}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button primary disabled={isLoading} onClick={handleNewImportClick}>\n\t\t\t\t\t\t{t('Import_New_File')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t{hasAnySuccessfulImport && (\n\t\t\t\t\t\t<Button disabled={isLoading} onClick={handleDownloadPendingFilesClick}>\n\t\t\t\t\t\t\t{t('Download_Pending_Files')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasAnySuccessfulImport && (\n\t\t\t\t\t\t<Button disabled={isLoading} onClick={handleDownloadPendingAvatarsClick}>\n\t\t\t\t\t\t\t{t('Download_Pending_Avatars')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</ButtonGroup>\n\t\t\t</Page.Header>\n\t\t\t<Page.ScrollableContentWithShadow>\n\t\t\t\t<Table fixed>\n\t\t\t\t\t<Table.Head>\n\t\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t\t<Table.Cell is='th' rowSpan={2} width='x140'>\n\t\t\t\t\t\t\t\t{t('Import_Type')}\n\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell is='th' rowSpan={2}>\n\t\t\t\t\t\t\t\t{t('Last_Updated')}\n\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t{!small && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Table.Cell is='th' rowSpan={2}>\n\t\t\t\t\t\t\t\t\t\t{t('Last_Status')}\n\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t<Table.Cell is='th' rowSpan={2}>\n\t\t\t\t\t\t\t\t\t\t{t('File')}\n\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t\t<Table.Cell is='th' align='center' colSpan={4} width='x320'>\n\t\t\t\t\t\t\t\t\t\t{t('Counters')}\n\t\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t{!small && (\n\t\t\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t\t\t<Table.Cell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Users')}\n\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t<Table.Cell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Channels')}\n\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t<Table.Cell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Messages')}\n\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t\t<Table.Cell is='th' align='center'>\n\t\t\t\t\t\t\t\t\t{t('Total')}\n\t\t\t\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Table.Head>\n\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t{isLoading ? (\n\t\t\t\t\t\t\tArray.from({ length: 20 }, (_, i) => <ImportOperationSummary.Skeleton small={small} key={i} />)\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{currentOperation?.valid && <ImportOperationSummary {...currentOperation} small={small} />}\n\t\t\t\t\t\t\t\t{latestOperations\n\t\t\t\t\t\t\t\t\t?.filter(({ _id }) => currentOperation?._id !== _id || !currentOperation?.valid)\n\t\t\t\t\t\t\t\t\t// Forcing valid=false as the current API only accept preparation/progress over currentOperation\n\t\t\t\t\t\t\t\t\t?.map((operation) => (\n\t\t\t\t\t\t\t\t\t\t<ImportOperationSummary key={operation._id} {...operation} valid={false} small={small} />\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Table.Body>\n\t\t\t\t</Table>\n\t\t\t</Page.ScrollableContentWithShadow>\n\t\t</Page>\n\t);\n}\n\nexport default ImportHistoryPage;\n"]}