{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/customSounds/lib.js"],"names":["module","export","validate","createSoundData","soundData","soundFile","errors","name","push","_id","previousSound","test","type","previousData","extension","split","pop","previousName","previousExtension","newFile","trim"],"mappings":";;;;;;;;AAAAA,MAAM,CAACC,MAAP,CAAc;AAACC,UAAQ,EAAC,MAAIA,QAAd;AAAuBC,iBAAe,EAAC,MAAIA;AAA3C,CAAd;;AACO,SAASD,QAAT,CAAkBE,SAAlB,EAA6BC,SAA7B,EAAwC;AAC9C,QAAMC,MAAM,GAAG,EAAf;;AAEA,MAAI,CAACF,SAAS,CAACG,IAAf,EAAqB;AACpBD,UAAM,CAACE,IAAP,CAAY,MAAZ;AACA;;AAED,MAAI,CAACJ,SAAS,CAACK,GAAX,IAAkB,CAACJ,SAAvB,EAAkC;AACjCC,UAAM,CAACE,IAAP,CAAY,YAAZ;AACA;;AAED,MAAIH,SAAJ,EAAe;AACd,QAAI,CAACD,SAAS,CAACM,aAAX,IAA4BN,SAAS,CAACM,aAAV,KAA4BL,SAA5D,EAAuE;AACtE,UAAI,CAAC,aAAaM,IAAb,CAAkBN,SAAS,CAACO,IAA5B,CAAD,IAAsC,CAAC,cAAcD,IAAd,CAAmBN,SAAS,CAACO,IAA7B,CAAvC,IAA6E,CAAC,gBAAgBD,IAAhB,CAAqBN,SAAS,CAACO,IAA/B,CAAlF,EAAwH;AACvHN,cAAM,CAACE,IAAP,CAAY,UAAZ;AACA;AACD;AACD;;AAED,SAAOF,MAAP;AACA;;AAEM,SAASH,eAAT,CAAyBE,SAAzB,EAA6D;AAAA,MAAzBE,IAAyB,uEAAlB,EAAkB;AAAA,MAAdM,YAAc;AACnE,QAAMT,SAAS,GAAG;AACjBU,aAAS,EAAET,SAAS,CAACE,IAAV,CAAeQ,KAAf,CAAqB,GAArB,EAA0BC,GAA1B;AADM,GAAlB;;AAIA,MAAIH,YAAJ,EAAkB;AACjBT,aAAS,CAACK,GAAV,GAAgBI,YAAY,CAACJ,GAA7B;AACAL,aAAS,CAACa,YAAV,GAAyBJ,YAAY,CAACI,YAAtC;AACAb,aAAS,CAACM,aAAV,GAA0BG,YAAY,CAACH,aAAvC;AACAN,aAAS,CAACc,iBAAV,GAA8BL,YAAY,CAACH,aAAb,CAA2BI,SAAzD;AACAV,aAAS,CAACG,IAAV,GAAiBA,IAAjB;AACAH,aAAS,CAACe,OAAV,GAAoB,KAApB;AACA,GAPD,MAOO;AACNf,aAAS,CAACG,IAAV,GAAiBA,IAAI,CAACa,IAAL,EAAjB;AACAhB,aAAS,CAACe,OAAV,GAAoB,IAApB;AACA;;AAED,SAAOf,SAAP;AACA,C","file":"dynamic/client/views/admin/customSounds/lib.js","sourcesContent":["// Here previousData will define if it is an update or a new entry\nexport function validate(soundData, soundFile) {\n\tconst errors = [];\n\n\tif (!soundData.name) {\n\t\terrors.push('Name');\n\t}\n\n\tif (!soundData._id && !soundFile) {\n\t\terrors.push('Sound File');\n\t}\n\n\tif (soundFile) {\n\t\tif (!soundData.previousSound || soundData.previousSound !== soundFile) {\n\t\t\tif (!/audio\\/mp3/.test(soundFile.type) && !/audio\\/mpeg/.test(soundFile.type) && !/audio\\/x-mpeg/.test(soundFile.type)) {\n\t\t\t\terrors.push('FileType');\n\t\t\t}\n\t\t}\n\t}\n\n\treturn errors;\n}\n\nexport function createSoundData(soundFile, name = '', previousData) {\n\tconst soundData = {\n\t\textension: soundFile.name.split('.').pop(),\n\t};\n\n\tif (previousData) {\n\t\tsoundData._id = previousData._id;\n\t\tsoundData.previousName = previousData.previousName;\n\t\tsoundData.previousSound = previousData.previousSound;\n\t\tsoundData.previousExtension = previousData.previousSound.extension;\n\t\tsoundData.name = name;\n\t\tsoundData.newFile = false;\n\t} else {\n\t\tsoundData.name = name.trim();\n\t\tsoundData.newFile = true;\n\t}\n\n\treturn soundData;\n}\n"]}