{"version":3,"sources":["meteor://ðŸ’»app/client/views/teams/CreateTeamModal/CreateTeamModal.tsx"],"names":[],"mappings":"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","file":"dynamic/client/views/teams/CreateTeamModal/CreateTeamModal.tsx","sourcesContent":["import { Box, Modal, ButtonGroup, Button, TextInput, Field, ToggleSwitch, FieldGroup } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useDebouncedCallback, useAutoFocus } from '@rocket.chat/fuselage-hooks';\nimport React, { FC, memo, Ref, useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { IUser } from '../../../../definition/IUser';\nimport { usePermission } from '../../../contexts/AuthorizationContext';\nimport { useMethod } from '../../../contexts/ServerContext';\nimport { useSetting } from '../../../contexts/SettingsContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useEndpointActionExperimental } from '../../../hooks/useEndpointActionExperimental';\nimport { useForm } from '../../../hooks/useForm';\nimport { goToRoomById } from '../../../lib/utils/goToRoomById';\nimport TeamNameInput from './TeamNameInput';\nimport UsersInput from './UsersInput';\n\ntype CreateTeamModalState = {\n\tname: any;\n\tnameError: any;\n\tonChangeName: any;\n\tdescription: any;\n\tonChangeDescription: any;\n\ttype: any;\n\tonChangeType: any;\n\treadOnly: any;\n\tcanChangeReadOnly: any;\n\tonChangeReadOnly: any;\n\tencrypted: any;\n\tcanChangeEncrypted: any;\n\tonChangeEncrypted: any;\n\tbroadcast: any;\n\tonChangeBroadcast: any;\n\tmembers: any;\n\tonChangeMembers: any;\n\thasUnsavedChanges: any;\n\tisCreateButtonEnabled: any;\n\tonCreate: any;\n};\n\nconst useCreateTeamModalState = (onClose: () => void): CreateTeamModalState => {\n\tconst e2eEnabled = useSetting('E2E_Enable');\n\tconst e2eEnabledForPrivateByDefault = useSetting('E2E_Enabled_Default_PrivateRooms');\n\tconst namesValidation = useSetting('UTF8_Channel_Names_Validation');\n\tconst allowSpecialNames = useSetting('UI_Allow_room_names_with_special_chars');\n\n\tconst { values, handlers, hasUnsavedChanges } = useForm({\n\t\tmembers: [],\n\t\tname: '',\n\t\tdescription: '',\n\t\ttype: true,\n\t\treadOnly: false,\n\t\tencrypted: e2eEnabledForPrivateByDefault ?? false,\n\t\tbroadcast: false,\n\t});\n\n\tconst { name, description, type, readOnly, broadcast, encrypted, members } = values as {\n\t\tname: string;\n\t\tdescription: string;\n\t\ttype: boolean;\n\t\treadOnly: boolean;\n\t\tbroadcast: boolean;\n\t\tencrypted: boolean;\n\t\tmembers: Exclude<IUser['username'], undefined>[];\n\t};\n\n\tconst { handleMembers, handleEncrypted, handleType, handleBroadcast, handleReadOnly } = handlers;\n\n\tconst t = useTranslation();\n\n\tconst teamNameRegex = useMemo(() => {\n\t\tif (allowSpecialNames) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn new RegExp(`^${namesValidation}$`);\n\t}, [allowSpecialNames, namesValidation]);\n\n\tconst [nameError, setNameError] = useState<string>();\n\n\tconst teamNameExists = useMethod('roomNameExists');\n\n\tconst checkName = useDebouncedCallback(\n\t\tasync (name: string) => {\n\t\t\tsetNameError(undefined);\n\n\t\t\tif (!hasUnsavedChanges) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!name || name.length === 0) {\n\t\t\t\tsetNameError(t('Field_required'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (teamNameRegex && !teamNameRegex.test(name)) {\n\t\t\t\tsetNameError(t('error-invalid-name'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isNotAvailable = await teamNameExists(name);\n\t\t\tif (isNotAvailable) {\n\t\t\t\tsetNameError(t('Teams_Errors_team_name', { name }));\n\t\t\t}\n\t\t},\n\t\t230,\n\t\t[name],\n\t);\n\n\tuseEffect(() => {\n\t\tcheckName(name);\n\t}, [checkName, name]);\n\n\tconst canChangeReadOnly = !broadcast;\n\n\tconst canChangeEncrypted = type && !broadcast && e2eEnabled && !e2eEnabledForPrivateByDefault;\n\n\tconst onChangeName = handlers.handleName;\n\n\tconst onChangeDescription = handlers.handleDescription;\n\n\tconst onChangeType = useMutableCallback((value) => {\n\t\thandleEncrypted(!value);\n\t\treturn handleType(value);\n\t});\n\n\tconst onChangeReadOnly = handlers.handleReadOnly;\n\n\tconst onChangeEncrypted = handlers.handleEncrypted;\n\n\tconst onChangeBroadcast = useCallback(\n\t\t(value) => {\n\t\t\thandleEncrypted(!value);\n\t\t\thandleReadOnly(value);\n\t\t\treturn handleBroadcast(value);\n\t\t},\n\t\t[handleBroadcast, handleEncrypted, handleReadOnly],\n\t);\n\n\tconst onChangeMembers = useCallback(\n\t\t(value, action) => {\n\t\t\tif (!action) {\n\t\t\t\tif (members.includes(value)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn handleMembers([...members, value]);\n\t\t\t}\n\t\t\thandleMembers(members.filter((current) => current !== value));\n\t\t},\n\t\t[handleMembers, members],\n\t);\n\n\tconst canSave = hasUnsavedChanges && !nameError;\n\tconst canCreateTeam = usePermission('create-team');\n\tconst isCreateButtonEnabled = canSave && canCreateTeam;\n\n\tconst createTeam = useEndpointActionExperimental('POST', 'teams.create');\n\n\tconst onCreate = useCallback(async () => {\n\t\tconst params = {\n\t\t\tname,\n\t\t\tmembers,\n\t\t\ttype: type ? 1 : 0,\n\t\t\troom: {\n\t\t\t\treadOnly,\n\t\t\t\textraData: {\n\t\t\t\t\tdescription,\n\t\t\t\t\tbroadcast,\n\t\t\t\t\tencrypted,\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\n\t\tconst data = await createTeam(params);\n\n\t\tgoToRoomById(data.team.roomId);\n\n\t\tonClose();\n\t}, [name, members, type, readOnly, description, broadcast, encrypted, createTeam, onClose]);\n\n\treturn {\n\t\tname,\n\t\tnameError,\n\t\tonChangeName,\n\t\tdescription,\n\t\tonChangeDescription,\n\t\ttype,\n\t\tonChangeType,\n\t\treadOnly,\n\t\tcanChangeReadOnly,\n\t\tonChangeReadOnly,\n\t\tencrypted,\n\t\tcanChangeEncrypted,\n\t\tonChangeEncrypted,\n\t\tbroadcast,\n\t\tonChangeBroadcast,\n\t\tmembers,\n\t\tonChangeMembers,\n\t\thasUnsavedChanges,\n\t\tisCreateButtonEnabled,\n\t\tonCreate,\n\t};\n};\n\ntype CreateTeamModalProps = {\n\tonClose: () => void;\n};\n\nconst CreateTeamModal: FC<CreateTeamModalProps> = ({ onClose }) => {\n\tconst {\n\t\tname,\n\t\tnameError,\n\t\tonChangeName,\n\t\tdescription,\n\t\tonChangeDescription,\n\t\ttype,\n\t\tonChangeType,\n\t\treadOnly,\n\t\tcanChangeReadOnly,\n\t\tonChangeReadOnly,\n\t\tencrypted,\n\t\tcanChangeEncrypted,\n\t\tonChangeEncrypted,\n\t\tbroadcast,\n\t\tonChangeBroadcast,\n\t\tmembers,\n\t\tonChangeMembers,\n\t\thasUnsavedChanges,\n\t\tisCreateButtonEnabled,\n\t\tonCreate,\n\t} = useCreateTeamModalState(onClose);\n\n\tconst t = useTranslation();\n\n\tconst focusRef = useAutoFocus() as Ref<HTMLElement>;\n\n\treturn (\n\t\t<Modal>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Title>{t('Teams_New_Title')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<FieldGroup>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Teams_New_Name_Label')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TeamNameInput\n\t\t\t\t\t\t\t\tref={focusRef}\n\t\t\t\t\t\t\t\tprivate={type}\n\t\t\t\t\t\t\t\terror={hasUnsavedChanges ? nameError : undefined}\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={onChangeName}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t{hasUnsavedChanges && nameError && <Field.Error>{nameError}</Field.Error>}\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>\n\t\t\t\t\t\t\t{t('Teams_New_Description_Label')}{' '}\n\t\t\t\t\t\t\t<Box is='span' color='neutral-600'>\n\t\t\t\t\t\t\t\t({t('optional')})\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TextInput placeholder={t('Teams_New_Description_Placeholder')} value={description} onChange={onChangeDescription} />\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<Field.Label>{t('Teams_New_Private_Label')}</Field.Label>\n\t\t\t\t\t\t\t\t<Field.Description>\n\t\t\t\t\t\t\t\t\t{type ? t('Teams_New_Private_Description_Enabled') : t('Teams_New_Private_Description_Disabled')}\n\t\t\t\t\t\t\t\t</Field.Description>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<ToggleSwitch checked={type} onChange={onChangeType} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field disabled={!canChangeReadOnly}>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<Field.Label>{t('Teams_New_Read_only_Label')}</Field.Label>\n\t\t\t\t\t\t\t\t<Field.Description>\n\t\t\t\t\t\t\t\t\t{readOnly ? t('Only_authorized_users_can_write_new_messages') : t('Teams_New_Read_only_Description')}\n\t\t\t\t\t\t\t\t</Field.Description>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<ToggleSwitch checked={readOnly} disabled={!canChangeReadOnly} onChange={onChangeReadOnly} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field disabled={!canChangeEncrypted}>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<Field.Label>{t('Teams_New_Encrypted_Label')}</Field.Label>\n\t\t\t\t\t\t\t\t<Field.Description>\n\t\t\t\t\t\t\t\t\t{type ? t('Teams_New_Encrypted_Description_Enabled') : t('Teams_New_Encrypted_Description_Disabled')}\n\t\t\t\t\t\t\t\t</Field.Description>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<ToggleSwitch checked={encrypted} disabled={!canChangeEncrypted} onChange={onChangeEncrypted} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<Field.Label>{t('Teams_New_Broadcast_Label')}</Field.Label>\n\t\t\t\t\t\t\t\t<Field.Description>{t('Teams_New_Broadcast_Description')}</Field.Description>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<ToggleSwitch checked={broadcast} onChange={onChangeBroadcast} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>\n\t\t\t\t\t\t\t{t('Teams_New_Add_members_Label')}{' '}\n\t\t\t\t\t\t\t<Box is='span' color='neutral-600'>\n\t\t\t\t\t\t\t\t({t('optional')})\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field.Label>\n\t\t\t\t\t\t<UsersInput value={members} onChange={onChangeMembers} />\n\t\t\t\t\t</Field>\n\t\t\t\t</FieldGroup>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<ButtonGroup align='end'>\n\t\t\t\t\t<Button onClick={onClose}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button disabled={!isCreateButtonEnabled} onClick={onCreate} primary>\n\t\t\t\t\t\t{t('Create')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default memo(CreateTeamModal);\n"]}