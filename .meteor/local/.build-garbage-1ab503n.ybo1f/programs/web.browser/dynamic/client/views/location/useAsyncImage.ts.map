{"version":3,"sources":["meteor://ðŸ’»app/client/views/location/useAsyncImage.ts"],"names":[],"mappings":";;;;;;;;AAAA,OAAO,MAAP,CAAS;AAAA,eAAiB,QAAO;AAAxB,CAAT;AAAkC;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAI3B,MAAM,aAAa,GAAI,GAAD,IAAgD;AAC5E,QAAM;AAAE,SAAF;AAAS,WAAT;AAAkB,UAAlB;AAA0B;AAA1B,MAAoC,aAAa,EAAvD;AAEA,WAAS,CAAC,MAAK;AACd,SAAK;;AAEL,QAAI,CAAC,GAAL,EAAU;AACT;AACA;;AAED,UAAM,KAAK,GAAG,IAAI,KAAJ,EAAd;AACA,SAAK,CAAC,gBAAN,CAAuB,MAAvB,EAA+B,MAAK;AACnC,aAAO,CAAC,KAAK,CAAC,GAAP,CAAP;AACA,KAFD;AAGA,SAAK,CAAC,gBAAN,CAAuB,OAAvB,EAAiC,CAAD,IAAM;AACrC,YAAM,CAAC,CAAC,CAAC,KAAH,CAAN;AACA,KAFD;AAGA,SAAK,CAAC,GAAN,GAAY,GAAZ;AACA,GAfQ,EAeN,CAAC,GAAD,EAAM,OAAN,EAAe,MAAf,EAAuB,KAAvB,CAfM,CAAT;AAiBA,SAAO,KAAP;AACA,CArBM,C","file":"dynamic/client/views/location/useAsyncImage.ts","sourcesContent":["import { useEffect } from 'react';\n\nimport { useAsyncState } from '../../hooks/useAsyncState';\n\nexport const useAsyncImage = (src: string | undefined): string | undefined => {\n\tconst { value, resolve, reject, reset } = useAsyncState<string>();\n\n\tuseEffect(() => {\n\t\treset();\n\n\t\tif (!src) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst image = new Image();\n\t\timage.addEventListener('load', () => {\n\t\t\tresolve(image.src);\n\t\t});\n\t\timage.addEventListener('error', (e) => {\n\t\t\treject(e.error);\n\t\t});\n\t\timage.src = src;\n\t}, [src, resolve, reject, reset]);\n\n\treturn value;\n};\n"]}