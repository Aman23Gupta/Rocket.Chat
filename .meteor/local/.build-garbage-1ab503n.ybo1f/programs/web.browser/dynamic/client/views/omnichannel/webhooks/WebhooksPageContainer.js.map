{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/webhooks/WebhooksPageContainer.js"],"names":["_objectSpread","module","link","default","v","Callout","React","NotAuthorizedPage","Page","PageSkeleton","usePermission","useTranslation","AsyncStatePhase","useEndpointData","WebhooksPage","reduceSettings","settings","reduce","acc","_id","value","WebhooksPageContainer","t","data","phase","state","error","canViewLivechatWebhooks","LOADING","success","exportDefault"],"mappings":";;;;;;;;AAAA,IAAIA,aAAJ;;AAAkBC,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAACC,SAAO,CAACC,CAAD,EAAG;AAACJ,iBAAa,GAACI,CAAd;AAAgB;;AAA5B,CAAnD,EAAiF,CAAjF;AAAlB,IAAIC,OAAJ;AAAYJ,MAAM,CAACC,IAAP,CAAY,uBAAZ,EAAoC;AAACG,SAAO,CAACD,CAAD,EAAG;AAACC,WAAO,GAACD,CAAR;AAAU;;AAAtB,CAApC,EAA4D,CAA5D;AAA+D,IAAIE,KAAJ;AAAUL,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAACC,SAAO,CAACC,CAAD,EAAG;AAACE,SAAK,GAACF,CAAN;AAAQ;;AAApB,CAApB,EAA0C,CAA1C;AAA6C,IAAIG,iBAAJ;AAAsBN,MAAM,CAACC,IAAP,CAAY,uCAAZ,EAAoD;AAACC,SAAO,CAACC,CAAD,EAAG;AAACG,qBAAiB,GAACH,CAAlB;AAAoB;;AAAhC,CAApD,EAAsF,CAAtF;AAAyF,IAAII,IAAJ;AAASP,MAAM,CAACC,IAAP,CAAY,0BAAZ,EAAuC;AAACC,SAAO,CAACC,CAAD,EAAG;AAACI,QAAI,GAACJ,CAAL;AAAO;;AAAnB,CAAvC,EAA4D,CAA5D;AAA+D,IAAIK,YAAJ;AAAiBR,MAAM,CAACC,IAAP,CAAY,kCAAZ,EAA+C;AAACC,SAAO,CAACC,CAAD,EAAG;AAACK,gBAAY,GAACL,CAAb;AAAe;;AAA3B,CAA/C,EAA4E,CAA5E;AAA+E,IAAIM,aAAJ;AAAkBT,MAAM,CAACC,IAAP,CAAY,wCAAZ,EAAqD;AAACQ,eAAa,CAACN,CAAD,EAAG;AAACM,iBAAa,GAACN,CAAd;AAAgB;;AAAlC,CAArD,EAAyF,CAAzF;AAA4F,IAAIO,cAAJ;AAAmBV,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAACS,gBAAc,CAACP,CAAD,EAAG;AAACO,kBAAc,GAACP,CAAf;AAAiB;;AAApC,CAAnD,EAAyF,CAAzF;AAA4F,IAAIQ,eAAJ;AAAoBX,MAAM,CAACC,IAAP,CAAY,8BAAZ,EAA2C;AAACU,iBAAe,CAACR,CAAD,EAAG;AAACQ,mBAAe,GAACR,CAAhB;AAAkB;;AAAtC,CAA3C,EAAmF,CAAnF;AAAsF,IAAIS,eAAJ;AAAoBZ,MAAM,CAACC,IAAP,CAAY,gCAAZ,EAA6C;AAACW,iBAAe,CAACT,CAAD,EAAG;AAACS,mBAAe,GAACT,CAAhB;AAAkB;;AAAtC,CAA7C,EAAqF,CAArF;AAAwF,IAAIU,YAAJ;AAAiBb,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAACC,SAAO,CAACC,CAAD,EAAG;AAACU,gBAAY,GAACV,CAAb;AAAe;;AAA3B,CAA7B,EAA0D,CAA1D;;AAY71B,MAAMW,cAAc,GAAIC,QAAD,IACtBA,QAAQ,CAACC,MAAT,CAAgB,CAACC,GAAD,WAAyB;AAAA,MAAnB;AAAEC,OAAF;AAAOC;AAAP,GAAmB;AACxCF,KAAG,mCAAQA,GAAR;AAAa,KAACC,GAAD,GAAOC;AAApB,IAAH;AACA,SAAOF,GAAP;AACA,CAHD,EAGG,EAHH,CADD;;AAMA,MAAMG,qBAAqB,GAAG,MAAM;AACnC,QAAMC,CAAC,GAAGX,cAAc,EAAxB;AAEA,QAAM;AAAES,SAAK,EAAEG,IAAT;AAAeC,SAAK,EAAEC,KAAtB;AAA6BC;AAA7B,MAAuCb,eAAe,CAAC,gCAAD,CAA5D;AAEA,QAAMc,uBAAuB,GAAGjB,aAAa,CAAC,wBAAD,CAA7C;;AAEA,MAAI,CAACiB,uBAAL,EAA8B;AAC7B,wBAAO,oBAAC,iBAAD,OAAP;AACA;;AAED,MAAIF,KAAK,KAAKb,eAAe,CAACgB,OAA9B,EAAuC;AACtC,wBAAO,oBAAC,YAAD,OAAP;AACA;;AAED,MAAI,CAACL,IAAD,IAAS,CAACA,IAAI,CAACM,OAAf,IAA0B,CAACN,IAAI,CAACP,QAAhC,IAA4CU,KAAhD,EAAuD;AACtD,wBACC,oBAAC,IAAD,qBACC,oBAAC,IAAD,CAAM,MAAN;AAAa,WAAK,EAAEJ,CAAC,CAAC,UAAD;AAArB,MADD,eAEC,oBAAC,IAAD,CAAM,2BAAN,qBACC,oBAAC,OAAD;AAAS,UAAI,EAAC;AAAd,OAAwBA,CAAC,CAAC,OAAD,CAAzB,CADD,CAFD,CADD;AAQA;;AAED,sBAAO,oBAAC,YAAD;AAAc,YAAQ,EAAEP,cAAc,CAACQ,IAAI,CAACP,QAAN;AAAtC,IAAP;AACA,CA3BD;;AAlBAf,MAAM,CAAC6B,aAAP,CA+CeT,qBA/Cf,E","file":"dynamic/client/views/omnichannel/webhooks/WebhooksPageContainer.js","sourcesContent":["import { Callout } from '@rocket.chat/fuselage';\nimport React from 'react';\n\nimport NotAuthorizedPage from '../../../components/NotAuthorizedPage';\nimport Page from '../../../components/Page';\nimport PageSkeleton from '../../../components/PageSkeleton';\nimport { usePermission } from '../../../contexts/AuthorizationContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { AsyncStatePhase } from '../../../hooks/useAsyncState';\nimport { useEndpointData } from '../../../hooks/useEndpointData';\nimport WebhooksPage from './WebhooksPage';\n\nconst reduceSettings = (settings) =>\n\tsettings.reduce((acc, { _id, value }) => {\n\t\tacc = { ...acc, [_id]: value };\n\t\treturn acc;\n\t}, {});\n\nconst WebhooksPageContainer = () => {\n\tconst t = useTranslation();\n\n\tconst { value: data, phase: state, error } = useEndpointData('livechat/integrations.settings');\n\n\tconst canViewLivechatWebhooks = usePermission('view-livechat-webhooks');\n\n\tif (!canViewLivechatWebhooks) {\n\t\treturn <NotAuthorizedPage />;\n\t}\n\n\tif (state === AsyncStatePhase.LOADING) {\n\t\treturn <PageSkeleton />;\n\t}\n\n\tif (!data || !data.success || !data.settings || error) {\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Page.Header title={t('Webhooks')} />\n\t\t\t\t<Page.ScrollableContentWithShadow>\n\t\t\t\t\t<Callout type='danger'>{t('Error')}</Callout>\n\t\t\t\t</Page.ScrollableContentWithShadow>\n\t\t\t</Page>\n\t\t);\n\t}\n\n\treturn <WebhooksPage settings={reduceSettings(data.settings)} />;\n};\n\nexport default WebhooksPageContainer;\n"]}