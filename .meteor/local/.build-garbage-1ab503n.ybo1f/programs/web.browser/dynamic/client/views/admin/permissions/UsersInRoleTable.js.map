{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/permissions/UsersInRoleTable.js"],"names":["_extends","module","link","default","v","useMutableCallback","React","GenericModal","GenericTable","useSetModal","useEndpoint","useToastMessageDispatch","useTranslation","UserRow","UsersInRoleTable","data","reload","roleName","description","total","params","setParams","rid","t","dispatchToastMessage","setModal","closeModal","removeUser","onRemove","username","remove","type","message","error","props","_id","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/permissions/UsersInRoleTable.js","sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React from 'react';\n\nimport GenericModal from '../../../components/GenericModal';\nimport GenericTable from '../../../components/GenericTable';\nimport { useSetModal } from '../../../contexts/ModalContext';\nimport { useEndpoint } from '../../../contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport UserRow from './UserRow';\n\nfunction UsersInRoleTable({ data, reload, roleName, description, total, params, setParams, rid }) {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst setModal = useSetModal();\n\tconst closeModal = () => setModal();\n\n\tconst removeUser = useEndpoint('POST', 'roles.removeUserFromRole');\n\n\tconst onRemove = useMutableCallback((username) => {\n\t\tconst remove = async () => {\n\t\t\ttry {\n\t\t\t\tawait removeUser({ roleName, username, rid });\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_removed') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tcloseModal();\n\t\t\treload();\n\t\t};\n\n\t\tsetModal(\n\t\t\t<GenericModal variant='danger' onConfirm={remove} onCancel={closeModal} confirmText={t('Delete')}>\n\t\t\t\t{t('The_user_s_will_be_removed_from_role_s', username, description || roleName)}\n\t\t\t</GenericModal>,\n\t\t);\n\t});\n\n\treturn (\n\t\t<GenericTable\n\t\t\theader={\n\t\t\t\t<>\n\t\t\t\t\t<GenericTable.HeaderCell>{t('Name')}</GenericTable.HeaderCell>\n\t\t\t\t\t<GenericTable.HeaderCell>{t('Email')}</GenericTable.HeaderCell>\n\t\t\t\t\t<GenericTable.HeaderCell w='x80'></GenericTable.HeaderCell>\n\t\t\t\t</>\n\t\t\t}\n\t\t\tresults={data}\n\t\t\tparams={params}\n\t\t\tsetParams={setParams}\n\t\t\ttotal={total}\n\t\t>\n\t\t\t{(props) => <UserRow onRemove={onRemove} key={props._id} {...props} />}\n\t\t</GenericTable>\n\t);\n}\n\nexport default UsersInRoleTable;\n"]}