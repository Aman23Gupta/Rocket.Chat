{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/RoomMembers/AddUsers/AddUsersWithData.js"],"names":["useMutableCallback","module","link","v","React","default","useMethod","useToastMessageDispatch","useTranslation","useForm","useTabBarClose","AddUsers","AddUsersWithData","rid","onClickBack","reload","t","dispatchToastMessage","onClickClose","saveAction","values","handlers","users","handleUsers","onChangeUsers","value","action","includes","filter","current","handleSave","type","message","error","exportDefault"],"mappings":"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","file":"dynamic/client/views/room/contextualBar/RoomMembers/AddUsers/AddUsersWithData.js","sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React from 'react';\n\nimport { useMethod } from '../../../../../contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../../../contexts/TranslationContext';\nimport { useForm } from '../../../../../hooks/useForm';\nimport { useTabBarClose } from '../../../providers/ToolboxProvider';\nimport AddUsers from './AddUsers';\n\nconst AddUsersWithData = ({ rid, onClickBack, reload }) => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst onClickClose = useTabBarClose();\n\tconst saveAction = useMethod('addUsersToRoom');\n\n\tconst { values, handlers } = useForm({ users: [] });\n\tconst { users } = values;\n\tconst { handleUsers } = handlers;\n\n\tconst onChangeUsers = useMutableCallback((value, action) => {\n\t\tif (!action) {\n\t\t\tif (users.includes(value)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn handleUsers([...users, value]);\n\t\t}\n\t\thandleUsers(users.filter((current) => current !== value));\n\t});\n\n\tconst handleSave = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tawait saveAction({ rid, users });\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Users_added') });\n\t\t\tonClickBack();\n\t\t\treload();\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\treturn <AddUsers onClickClose={onClickClose} onClickBack={onClickBack} onClickSave={handleSave} value={users} onChange={onChangeUsers} />;\n};\n\nexport default AddUsersWithData;\n"]}