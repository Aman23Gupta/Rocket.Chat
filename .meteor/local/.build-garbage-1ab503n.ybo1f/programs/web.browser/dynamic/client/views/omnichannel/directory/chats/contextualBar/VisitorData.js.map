{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/directory/chats/contextualBar/VisitorData.js"],"names":["Box","module","link","v","React","default","useTranslation","AsyncStatePhase","useEndpointData","FormSkeleton","RoomEdit","VisitorData","room","reload","reloadInfo","close","t","_id","value","visitor","phase","stateVisitor","error","errorVisitor","includes","LOADING","visitorData","roomData","exportDefault"],"mappings":";;;;;;;;AAAA,IAAIA,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,uBAAZ,EAAoC;AAACF,KAAG,CAACG,CAAD,EAAG;AAACH,OAAG,GAACG,CAAJ;AAAM;;AAAd,CAApC,EAAoD,CAApD;AAAuD,IAAIC,KAAJ;AAAUH,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAACG,SAAO,CAACF,CAAD,EAAG;AAACC,SAAK,GAACD,CAAN;AAAQ;;AAApB,CAApB,EAA0C,CAA1C;AAA6C,IAAIG,cAAJ;AAAmBL,MAAM,CAACC,IAAP,CAAY,4CAAZ,EAAyD;AAACI,gBAAc,CAACH,CAAD,EAAG;AAACG,kBAAc,GAACH,CAAf;AAAiB;;AAApC,CAAzD,EAA+F,CAA/F;AAAkG,IAAII,eAAJ;AAAoBN,MAAM,CAACC,IAAP,CAAY,oCAAZ,EAAiD;AAACK,iBAAe,CAACJ,CAAD,EAAG;AAACI,mBAAe,GAACJ,CAAhB;AAAkB;;AAAtC,CAAjD,EAAyF,CAAzF;AAA4F,IAAIK,eAAJ;AAAoBP,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAACM,iBAAe,CAACL,CAAD,EAAG;AAACK,mBAAe,GAACL,CAAhB;AAAkB;;AAAtC,CAAnD,EAA2F,CAA3F;AAA8F,IAAIM,YAAJ;AAAiBR,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAACO,cAAY,CAACN,CAAD,EAAG;AAACM,gBAAY,GAACN,CAAb;AAAe;;AAAhC,CAA7B,EAA+D,CAA/D;AAAkE,IAAIO,QAAJ;AAAaT,MAAM,CAACC,IAAP,CAAY,YAAZ,EAAyB;AAACG,SAAO,CAACF,CAAD,EAAG;AAACO,YAAQ,GAACP,CAAT;AAAW;;AAAvB,CAAzB,EAAkD,CAAlD;;AAS7iB,SAASQ,WAAT,OAA0D;AAAA,MAArC;AAAEC,QAAF;AAAQC,UAAR;AAAgBC,cAAhB;AAA4BC;AAA5B,GAAqC;AACzD,QAAMC,CAAC,GAAGV,cAAc,EAAxB;AAEA,QAAM;AACLM,QAAI,EAAE;AACLT,OAAC,EAAE;AAAEc;AAAF;AADE;AADD,MAIFL,IAJJ;AAMA,QAAM;AAAEM,SAAK,EAAEC,OAAT;AAAkBC,SAAK,EAAEC,YAAzB;AAAuCC,SAAK,EAAEC;AAA9C,MAA+Df,eAAe,4CAAqCS,GAArC,EAApF;;AAEA,MAAI,CAACI,YAAD,EAAeG,QAAf,CAAwBjB,eAAe,CAACkB,OAAxC,CAAJ,EAAsD;AACrD,wBAAO,oBAAC,YAAD,OAAP;AACA;;AAED,MAAIF,YAAY,IAAI,CAACJ,OAAjB,IAA4B,CAACA,OAAO,CAACA,OAAzC,EAAkD;AACjD,wBAAO,oBAAC,GAAD;AAAK,SAAG,EAAC;AAAT,OAAgBH,CAAC,CAAC,mBAAD,CAAjB,CAAP;AACA;;AAED,QAAM;AAAEG,WAAO,EAAEO;AAAX,MAA2BP,OAAjC;AACA,QAAM;AAAEP,QAAI,EAAEe;AAAR,MAAqBf,IAA3B;AAEA,sBAAO,oBAAC,QAAD;AAAU,QAAI,EAAEe,QAAhB;AAA0B,WAAO,EAAED,WAAnC;AAAgD,UAAM,EAAEb,MAAxD;AAAgE,cAAU,EAAEC,UAA5E;AAAwF,SAAK,EAAEC;AAA/F,IAAP;AACA;;AAhCDd,MAAM,CAAC2B,aAAP,CAkCejB,WAlCf,E","file":"dynamic/client/views/omnichannel/directory/chats/contextualBar/VisitorData.js","sourcesContent":["import { Box } from '@rocket.chat/fuselage';\nimport React from 'react';\n\nimport { useTranslation } from '../../../../../contexts/TranslationContext';\nimport { AsyncStatePhase } from '../../../../../hooks/useAsyncState';\nimport { useEndpointData } from '../../../../../hooks/useEndpointData';\nimport { FormSkeleton } from '../../Skeleton';\nimport RoomEdit from './RoomEdit';\n\nfunction VisitorData({ room, reload, reloadInfo, close }) {\n\tconst t = useTranslation();\n\n\tconst {\n\t\troom: {\n\t\t\tv: { _id },\n\t\t},\n\t} = room;\n\n\tconst { value: visitor, phase: stateVisitor, error: errorVisitor } = useEndpointData(`livechat/visitors.info?visitorId=${_id}`);\n\n\tif ([stateVisitor].includes(AsyncStatePhase.LOADING)) {\n\t\treturn <FormSkeleton />;\n\t}\n\n\tif (errorVisitor || !visitor || !visitor.visitor) {\n\t\treturn <Box mbs='x16'>{t('Visitor_not_found')}</Box>;\n\t}\n\n\tconst { visitor: visitorData } = visitor;\n\tconst { room: roomData } = room;\n\n\treturn <RoomEdit room={roomData} visitor={visitorData} reload={reload} reloadInfo={reloadInfo} close={close} />;\n}\n\nexport default VisitorData;\n"]}