{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/permissions/NewRolePage.js"],"names":["Box","ButtonGroup","Button","Margins","module","link","v","useMutableCallback","React","default","VerticalBar","useRoute","useEndpoint","useToastMessageDispatch","useTranslation","useForm","RoleForm","NewRolePage","t","router","dispatchToastMessage","values","handlers","name","description","scope","mandatory2fa","saveRole","handleSave","type","message","push","error","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/permissions/NewRolePage.js","sourcesContent":["import { Box, ButtonGroup, Button, Margins } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React from 'react';\n\nimport VerticalBar from '../../../components/VerticalBar';\nimport { useRoute } from '../../../contexts/RouterContext';\nimport { useEndpoint } from '../../../contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useForm } from '../../../hooks/useForm';\nimport RoleForm from './RoleForm';\n\nconst NewRolePage = () => {\n\tconst t = useTranslation();\n\tconst router = useRoute('admin-permissions');\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst { values, handlers } = useForm({\n\t\tname: '',\n\t\tdescription: '',\n\t\tscope: 'Users',\n\t\tmandatory2fa: false,\n\t});\n\n\tconst saveRole = useEndpoint('POST', 'roles.create');\n\n\tconst handleSave = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tawait saveRole(values);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\trouter.push({});\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<VerticalBar.ScrollableContent>\n\t\t\t\t<Box w='full' alignSelf='center' mb='neg-x8'>\n\t\t\t\t\t<Margins block='x8'>\n\t\t\t\t\t\t<RoleForm values={values} handlers={handlers} />\n\t\t\t\t\t</Margins>\n\t\t\t\t</Box>\n\t\t\t</VerticalBar.ScrollableContent>\n\t\t\t<VerticalBar.Footer>\n\t\t\t\t<ButtonGroup stretch w='full'>\n\t\t\t\t\t<Button primary onClick={handleSave}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</VerticalBar.Footer>\n\t\t</>\n\t);\n};\n\nexport default NewRolePage;\n"]}