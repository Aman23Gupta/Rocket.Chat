{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/permissions/RoleCell.js"],"names":["Table","Margins","Box","CheckBox","Throbber","module","link","v","useMutableCallback","React","useState","memo","default","AuthorizationUtils","RoleCell","grantedRoles","_id","name","description","onChange","lineHovered","permissionId","granted","setGranted","includes","loading","setLoading","isRestrictedForRole","isPermissionRestrictedForRole","handleChange","result","isDisabled","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/permissions/RoleCell.js","sourcesContent":["import { Table, Margins, Box, CheckBox, Throbber } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { useState, memo } from 'react';\n\nimport { AuthorizationUtils } from '../../../../app/authorization/lib';\n\nconst RoleCell = ({ grantedRoles = [], _id, name, description, onChange, lineHovered, permissionId }) => {\n\tconst [granted, setGranted] = useState(() => !!grantedRoles.includes(_id));\n\tconst [loading, setLoading] = useState(false);\n\n\tconst isRestrictedForRole = AuthorizationUtils.isPermissionRestrictedForRole(permissionId, _id);\n\n\tconst handleChange = useMutableCallback(async () => {\n\t\tsetLoading(true);\n\t\tconst result = await onChange(_id, granted);\n\t\tsetGranted(result);\n\t\tsetLoading(false);\n\t});\n\n\tconst isDisabled = !!loading || !!isRestrictedForRole;\n\n\treturn (\n\t\t<Table.Cell withTruncatedText>\n\t\t\t<Margins inline='x2'>\n\t\t\t\t<CheckBox checked={granted} onChange={handleChange} disabled={isDisabled} />\n\t\t\t\t{!loading && (\n\t\t\t\t\t<Box display='inline' color='hint' invisible={!lineHovered}>\n\t\t\t\t\t\t{description || name}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{loading && <Throbber size='x12' display='inline-block' />}\n\t\t\t</Margins>\n\t\t</Table.Cell>\n\t);\n};\n\nexport default memo(RoleCell);\n"]}