{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/managers/RemoveManagerButton.js"],"names":["Table","Icon","Button","module","link","v","useMutableCallback","React","default","GenericModal","useSetModal","useToastMessageDispatch","useTranslation","useEndpointAction","RemoveManagerButton","_id","reload","t","deleteAction","setModal","dispatchToastMessage","handleRemoveClick","result","success","handleDelete","e","stopPropagation","onDeleteManager","type","message","error","exportDefault"],"mappings":"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","file":"dynamic/client/views/omnichannel/managers/RemoveManagerButton.js","sourcesContent":["import { Table, Icon, Button } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React from 'react';\n\nimport GenericModal from '../../../components/GenericModal';\nimport { useSetModal } from '../../../contexts/ModalContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useEndpointAction } from '../../../hooks/useEndpointAction';\n\nfunction RemoveManagerButton({ _id, reload }) {\n\tconst t = useTranslation();\n\tconst deleteAction = useEndpointAction('DELETE', `livechat/users/manager/${_id}`);\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleRemoveClick = useMutableCallback(async () => {\n\t\tconst result = await deleteAction();\n\t\tif (result.success === true) {\n\t\t\treload();\n\t\t}\n\t});\n\tconst handleDelete = useMutableCallback((e) => {\n\t\te.stopPropagation();\n\t\tconst onDeleteManager = async () => {\n\t\t\ttry {\n\t\t\t\tawait handleRemoveClick();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Manager_removed') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tsetModal();\n\t\t};\n\n\t\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteManager} onCancel={() => setModal()} confirmText={t('Delete')} />);\n\t});\n\n\treturn (\n\t\t<Table.Cell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t<Button small ghost title={t('Remove')} onClick={handleDelete}>\n\t\t\t\t<Icon name='trash' size='x16' />\n\t\t\t</Button>\n\t\t</Table.Cell>\n\t);\n}\n\nexport default RemoveManagerButton;\n"]}