{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/threads/ThreadView.tsx"],"names":[],"mappings":"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","file":"dynamic/client/views/room/threads/ThreadView.tsx","sourcesContent":["import { Modal, Box } from '@rocket.chat/fuselage';\nimport React, { ComponentProps, useCallback, useMemo, forwardRef } from 'react';\n\nimport VerticalBar from '../../../components/VerticalBar';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useLayoutContextualBarExpanded } from '../../../providers/LayoutProvider';\n\ntype ThreadViewProps = ComponentProps<typeof Box> & {\n\ttitle: string;\n\texpanded: boolean;\n\tfollowing: boolean;\n\tonToggleExpand: (expanded: boolean) => void;\n\tonToggleFollow: (following: boolean) => void;\n\tonClose: () => void;\n\tonClickBack: (e: unknown) => void;\n};\n\nconst ThreadView = forwardRef<HTMLElement, ThreadViewProps>(function ThreadView(\n\t{ title, expanded, following, onToggleExpand, onToggleFollow, onClose, onClickBack },\n\tref,\n) {\n\tconst hasExpand = useLayoutContextualBarExpanded();\n\n\tconst style = useMemo(\n\t\t() =>\n\t\t\tdocument.dir === 'rtl'\n\t\t\t\t? {\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\tborderTopRightRadius: 4,\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\tborderTopLeftRadius: 4,\n\t\t\t\t  },\n\t\t[],\n\t);\n\n\tconst t = useTranslation();\n\n\tconst expandLabel = expanded ? t('Collapse') : t('Expand');\n\tconst expandIcon = expanded ? 'arrow-collapse' : 'arrow-expand';\n\n\tconst handleExpandActionClick = useCallback(() => {\n\t\tonToggleExpand(expanded);\n\t}, [expanded, onToggleExpand]);\n\n\tconst followLabel = following ? t('Following') : t('Not_Following');\n\tconst followIcon = following ? 'bell' : 'bell-off';\n\n\tconst handleFollowActionClick = useCallback(() => {\n\t\tonToggleFollow(following);\n\t}, [following, onToggleFollow]);\n\n\treturn (\n\t\t<>\n\t\t\t{hasExpand && expanded && <Modal.Backdrop onClick={onClose} />}\n\n\t\t\t<Box flexGrow={1} position={expanded ? 'static' : 'relative'}>\n\t\t\t\t<VerticalBar\n\t\t\t\t\tclassName='rcx-thread-view'\n\t\t\t\t\tposition={hasExpand && expanded ? 'fixed' : 'absolute'}\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\twidth={'full'}\n\t\t\t\t\tmaxWidth={hasExpand && expanded ? 855 : undefined}\n\t\t\t\t\toverflow='hidden'\n\t\t\t\t\tzIndex={100}\n\t\t\t\t\tinsetBlock={0}\n\t\t\t\t\tstyle={style} // workaround due to a RTL bug in Fuselage\n\t\t\t\t>\n\t\t\t\t\t<VerticalBar.Header>\n\t\t\t\t\t\t{onClickBack && <VerticalBar.Action onClick={onClickBack} title={t('Back_to_threads')} name='arrow-back' />}\n\t\t\t\t\t\t<VerticalBar.Text dangerouslySetInnerHTML={{ __html: title }} />\n\t\t\t\t\t\t{hasExpand && <VerticalBar.Action title={expandLabel} name={expandIcon} onClick={handleExpandActionClick} />}\n\t\t\t\t\t\t<VerticalBar.Actions>\n\t\t\t\t\t\t\t<VerticalBar.Action title={followLabel} name={followIcon} onClick={handleFollowActionClick} />\n\t\t\t\t\t\t\t<VerticalBar.Close onClick={onClose} />\n\t\t\t\t\t\t</VerticalBar.Actions>\n\t\t\t\t\t</VerticalBar.Header>\n\t\t\t\t\t<VerticalBar.Content\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t{...{\n\t\t\t\t\t\t\tflexShrink: 1,\n\t\t\t\t\t\t\tflexGrow: 1,\n\t\t\t\t\t\t\tpaddingInline: 0,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</VerticalBar>\n\t\t\t</Box>\n\t\t</>\n\t);\n});\n\nexport default ThreadView;\n"]}