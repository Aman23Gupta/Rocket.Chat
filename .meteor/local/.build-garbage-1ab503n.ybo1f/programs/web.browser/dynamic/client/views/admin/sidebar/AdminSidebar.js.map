{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/sidebar/AdminSidebar.js"],"names":["React","useCallback","useMemo","useEffect","memo","module","link","default","v","menu","SideNav","PlanTag","Sidebar","useAtLeastOnePermission","useRoutePath","useCurrentRoute","useTranslation","isLayoutEmbedded","SettingsProvider","AdminSidebarPages","AdminSidebarSettings","AdminSidebar","t","canViewSettings","closeAdminFlex","close","closeFlex","currentRoute","currentPath","currentRouteGroupName","toggleFlex","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/sidebar/AdminSidebar.js","sourcesContent":["import React, { useCallback, useMemo, useEffect, memo } from 'react';\n\nimport { menu, SideNav } from '../../../../app/ui-utils/client';\nimport PlanTag from '../../../components/PlanTag';\nimport Sidebar from '../../../components/Sidebar';\nimport { useAtLeastOnePermission } from '../../../contexts/AuthorizationContext';\nimport { useRoutePath, useCurrentRoute } from '../../../contexts/RouterContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { isLayoutEmbedded } from '../../../lib/utils/isLayoutEmbedded';\nimport SettingsProvider from '../../../providers/SettingsProvider';\nimport AdminSidebarPages from './AdminSidebarPages';\nimport AdminSidebarSettings from './AdminSidebarSettings';\n\nfunction AdminSidebar() {\n\tconst t = useTranslation();\n\n\tconst canViewSettings = useAtLeastOnePermission(\n\t\tuseMemo(() => ['view-privileged-setting', 'edit-privileged-setting', 'manage-selected-settings'], []),\n\t);\n\n\tconst closeAdminFlex = useCallback(() => {\n\t\tif (isLayoutEmbedded()) {\n\t\t\tmenu.close();\n\t\t\treturn;\n\t\t}\n\n\t\tSideNav.closeFlex();\n\t}, []);\n\n\tconst currentRoute = useCurrentRoute();\n\tconst currentPath = useRoutePath(...currentRoute);\n\tconst [, , , currentRouteGroupName] = currentRoute;\n\n\tuseEffect(() => {\n\t\tif (currentRouteGroupName !== 'admin') {\n\t\t\tSideNav.toggleFlex(-1);\n\t\t}\n\t}, [currentRouteGroupName]);\n\n\t// TODO: uplift this provider\n\treturn (\n\t\t<SettingsProvider privileged>\n\t\t\t<Sidebar>\n\t\t\t\t<Sidebar.Header\n\t\t\t\t\tonClose={closeAdminFlex}\n\t\t\t\t\ttitle={\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{t('Administration')} <PlanTag />\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Sidebar.Content>\n\t\t\t\t\t<AdminSidebarPages currentPath={currentPath} />\n\t\t\t\t\t{canViewSettings && <AdminSidebarSettings currentPath={currentPath} />}\n\t\t\t\t</Sidebar.Content>\n\t\t\t</Sidebar>\n\t\t</SettingsProvider>\n\t);\n}\n\nexport default memo(AdminSidebar);\n"]}