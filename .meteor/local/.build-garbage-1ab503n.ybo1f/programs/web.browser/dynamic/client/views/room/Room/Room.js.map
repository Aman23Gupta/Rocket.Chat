{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/Room/Room.js"],"names":["_extends","module","link","default","v","useMutableCallback","React","useDebugValue","useMemo","ErrorBoundary","useTranslation","useUserPreference","Header","BlazeTemplate","RoomTemplate","VerticalBarOldActions","useRoom","AppsContextualBar","useAppsContextualBar","useTab","useTabBarOpen","useTabBarClose","useTabBarOpenUserInfo","Aside","Body","Footer","LazyComponent","Room","t","room","tab","open","close","openUserInfo","hideFlexTab","isOpen","template","appsContextualBarContext","tabBar","_id","undefined","id","teamId","viewId","roomId","payload","appInfo","exportDefault","Object","assign"],"mappings":"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","file":"dynamic/client/views/room/Room/Room.js","sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { useDebugValue, useMemo } from 'react';\n\nimport { ErrorBoundary } from '../../../components/ErrorBoundary';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useUserPreference } from '../../../contexts/UserContext';\nimport Header from '../Header';\nimport BlazeTemplate from '../components/BlazeTemplate';\nimport { RoomTemplate } from '../components/RoomTemplate/RoomTemplate';\nimport VerticalBarOldActions from '../components/VerticalBarOldActions';\nimport { useRoom } from '../contexts/RoomContext';\nimport AppsContextualBar from '../contextualBar/Apps';\nimport { useAppsContextualBar } from '../hooks/useAppsContextualBar';\nimport { useTab, useTabBarOpen, useTabBarClose, useTabBarOpenUserInfo } from '../providers/ToolboxProvider';\nimport Aside from './Aside';\nimport Body from './Body';\nimport Footer from './Footer';\nimport LazyComponent from './LazyComponent';\n\nconst Room = () => {\n\tconst t = useTranslation();\n\tconst room = useRoom();\n\tconst tab = useTab();\n\tconst open = useTabBarOpen();\n\tconst close = useTabBarClose();\n\tconst openUserInfo = useTabBarOpenUserInfo();\n\n\tconst hideFlexTab = useUserPreference('hideFlexTab');\n\tconst isOpen = useMutableCallback(() => !!(tab && tab.template));\n\n\tconst appsContextualBarContext = useAppsContextualBar();\n\n\tconst tabBar = useMemo(() => ({ open, close, isOpen, openUserInfo }), [open, close, isOpen, openUserInfo]);\n\n\tuseDebugValue(room);\n\tuseDebugValue(tab);\n\treturn (\n\t\t<RoomTemplate aria-label={t('Channel')} data-qa-rc-room={room._id}>\n\t\t\t<RoomTemplate.Header>\n\t\t\t\t<Header room={room} rid={room._id} />\n\t\t\t</RoomTemplate.Header>\n\t\t\t<RoomTemplate.Body>\n\t\t\t\t<BlazeTemplate onClick={hideFlexTab ? close : undefined} name='roomOld' tabBar={tabBar} rid={room._id} _id={room._id} />\n\t\t\t</RoomTemplate.Body>\n\t\t\t{tab && (\n\t\t\t\t<RoomTemplate.Aside data-qa-tabbar-name={tab.id}>\n\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t{typeof tab.template === 'string' && (\n\t\t\t\t\t\t\t<VerticalBarOldActions {...tab} name={tab.template} tabBar={tabBar} rid={room._id} _id={room._id} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{typeof tab.template !== 'string' && (\n\t\t\t\t\t\t\t<LazyComponent template={tab.template} tabBar={tabBar} rid={room._id} teamId={room.teamId} _id={room._id} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t</RoomTemplate.Aside>\n\t\t\t)}\n\t\t\t{appsContextualBarContext && (\n\t\t\t\t<RoomTemplate.Aside data-qa-tabbar-name={appsContextualBarContext.viewId}>\n\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t<LazyComponent\n\t\t\t\t\t\t\ttemplate={AppsContextualBar}\n\t\t\t\t\t\t\tviewId={appsContextualBarContext.viewId}\n\t\t\t\t\t\t\troomId={appsContextualBarContext.roomId}\n\t\t\t\t\t\t\tpayload={appsContextualBarContext.payload}\n\t\t\t\t\t\t\tappInfo={appsContextualBarContext.appInfo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t</RoomTemplate.Aside>\n\t\t\t)}\n\t\t</RoomTemplate>\n\t);\n};\n\nexport default Object.assign(Room, {\n\tHeader,\n\tBody,\n\tFooter,\n\tAside,\n});\n"]}