{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/Threads/normalizeThreadMessage.js"],"names":["_extends","module","link","default","v","export","normalizeThreadMessage","escapeHTML","renderMessageBody","message","msg","replace","attachments","attachment","find","title","description"],"mappings":";;;;;;;;AAAA,IAAIA,QAAJ;;AAAaC,MAAM,CAACC,IAAP,CAAY,gCAAZ,EAA6C;AAACC,SAAO,CAACC,CAAD,EAAG;AAACJ,YAAQ,GAACI,CAAT;AAAW;;AAAvB,CAA7C,EAAsE,CAAtE;AAAbH,MAAM,CAACI,MAAP,CAAc;AAACC,wBAAsB,EAAC,MAAIA;AAA5B,CAAd;AAAmE,IAAIC,UAAJ;AAAeN,MAAM,CAACC,IAAP,CAAY,6BAAZ,EAA0C;AAACK,YAAU,CAACH,CAAD,EAAG;AAACG,cAAU,GAACH,CAAX;AAAa;;AAA5B,CAA1C,EAAwE,CAAxE;AAA2E,IAAII,iBAAJ;AAAsBP,MAAM,CAACC,IAAP,CAAY,yCAAZ,EAAsD;AAACM,mBAAiB,CAACJ,CAAD,EAAG;AAACI,qBAAiB,GAACJ,CAAlB;AAAoB;;AAA1C,CAAtD,EAAkG,CAAlG;;AAI5K,MAAME,sBAAsB,GAAG,QAAoB;AAAA,MAAdG,OAAc;;AACzD,MAAIA,OAAO,CAACC,GAAZ,EAAiB;AAChB,WAAOF,iBAAiB,CAACC,OAAD,CAAjB,CAA2BE,OAA3B,CAAmC,aAAnC,EAAkD,GAAlD,CAAP;AACA;;AAED,MAAIF,OAAO,CAACG,WAAZ,EAAyB;AACxB,UAAMC,UAAU,GAAGJ,OAAO,CAACG,WAAR,CAAoBE,IAApB,CAA0BD,UAAD,IAAgBA,UAAU,CAACE,KAAX,IAAoBF,UAAU,CAACG,WAAxE,CAAnB;;AAEA,QAAIH,UAAU,IAAIA,UAAU,CAACG,WAA7B,EAA0C;AACzC,aAAOT,UAAU,CAACM,UAAU,CAACG,WAAZ,CAAjB;AACA;;AAED,QAAIH,UAAU,IAAIA,UAAU,CAACE,KAA7B,EAAoC;AACnC,aAAOR,UAAU,CAACM,UAAU,CAACE,KAAZ,CAAjB;AACA;AACD;AACD,CAhBM,C","file":"dynamic/client/views/room/contextualBar/Threads/normalizeThreadMessage.js","sourcesContent":["import { escapeHTML } from '@rocket.chat/string-helpers';\n\nimport { renderMessageBody } from '../../../../lib/utils/renderMessageBody';\n\nexport const normalizeThreadMessage = ({ ...message }) => {\n\tif (message.msg) {\n\t\treturn renderMessageBody(message).replace(/<br\\s?\\\\?>/g, ' ');\n\t}\n\n\tif (message.attachments) {\n\t\tconst attachment = message.attachments.find((attachment) => attachment.title || attachment.description);\n\n\t\tif (attachment && attachment.description) {\n\t\t\treturn escapeHTML(attachment.description);\n\t\t}\n\n\t\tif (attachment && attachment.title) {\n\t\t\treturn escapeHTML(attachment.title);\n\t\t}\n\t}\n};\n"]}