{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/info/InformationPage.tsx"],"names":[],"mappings":"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","file":"dynamic/client/views/admin/info/InformationPage.tsx","sourcesContent":["import { Box, Button, ButtonGroup, Callout, Icon, Margins } from '@rocket.chat/fuselage';\nimport { useResizeObserver } from '@rocket.chat/fuselage-hooks';\nimport React, { memo } from 'react';\n\nimport type { IInstance } from '../../../../definition/IInstance';\nimport type { IServerInfo } from '../../../../definition/IServerInfo';\nimport type { IStats } from '../../../../definition/IStats';\nimport SeatsCard from '../../../../ee/client/views/admin/info/SeatsCard';\nimport { DOUBLE_COLUMN_CARD_WIDTH } from '../../../components/Card';\nimport Page from '../../../components/Page';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport DeploymentCard from './DeploymentCard';\nimport FederationCard from './FederationCard';\nimport LicenseCard from './LicenseCard';\nimport UsageCard from './UsageCard';\n\ntype InformationPageProps = {\n\tcanViewStatistics: boolean;\n\tinfo: IServerInfo;\n\tstatistics: IStats;\n\tinstances: Array<IInstance>;\n\tonClickRefreshButton: () => void;\n\tonClickDownloadInfo: () => void;\n};\n\nconst InformationPage = memo(function InformationPage({\n\tcanViewStatistics,\n\tinfo,\n\tstatistics,\n\tinstances,\n\tonClickRefreshButton,\n\tonClickDownloadInfo,\n}: InformationPageProps) {\n\tconst t = useTranslation();\n\n\tconst { ref, contentBoxSize: { inlineSize = DOUBLE_COLUMN_CARD_WIDTH } = {} } = useResizeObserver();\n\n\tconst isSmall = inlineSize < DOUBLE_COLUMN_CARD_WIDTH;\n\n\tif (!info) {\n\t\treturn null;\n\t}\n\n\tconst alertOplogForMultipleInstances = statistics && statistics.instanceCount > 1 && !statistics.oplogEnabled;\n\n\treturn (\n\t\t<Page data-qa='admin-info'>\n\t\t\t<Page.Header title={t('Info')}>\n\t\t\t\t{canViewStatistics && (\n\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t<Button type='button' onClick={onClickDownloadInfo}>\n\t\t\t\t\t\t\t<Icon name='download' /> {t('Download_Info')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button primary type='button' onClick={onClickRefreshButton}>\n\t\t\t\t\t\t\t<Icon name='reload' /> {t('Refresh')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t)}\n\t\t\t</Page.Header>\n\n\t\t\t<Page.ScrollableContentWithShadow>\n\t\t\t\t<Box marginBlock='none' marginInline='auto' width='full'>\n\t\t\t\t\t{alertOplogForMultipleInstances && (\n\t\t\t\t\t\t<Callout\n\t\t\t\t\t\t\ttype='danger'\n\t\t\t\t\t\t\ttitle={t('Error_RocketChat_requires_oplog_tailing_when_running_in_multiple_instances')}\n\t\t\t\t\t\t\tmarginBlockEnd='x16'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box withRichContent>\n\t\t\t\t\t\t\t\t<p>{t('Error_RocketChat_requires_oplog_tailing_when_running_in_multiple_instances_details')}</p>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\trel='noopener noreferrer'\n\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\t'https://rocket.chat/docs/installation/manual-installation/multiple-instances-to-improve-' +\n\t\t\t\t\t\t\t\t\t\t\t'performance/#running-multiple-instances-per-host-to-improve-performance'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('Click_here_for_more_info')}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Callout>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<Box display='flex' flexDirection='row' w='full' flexWrap='wrap' justifyContent={isSmall ? 'center' : 'flex-start'} ref={ref}>\n\t\t\t\t\t\t<Margins all='x8'>\n\t\t\t\t\t\t\t<DeploymentCard info={info} statistics={statistics} instances={instances} />\n\t\t\t\t\t\t\t<LicenseCard />\n\t\t\t\t\t\t\t<UsageCard vertical={isSmall} statistics={statistics} />\n\t\t\t\t\t\t\t<FederationCard />\n\t\t\t\t\t\t\t<SeatsCard />\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Page.ScrollableContentWithShadow>\n\t\t</Page>\n\t);\n});\n\nexport default InformationPage;\n"]}