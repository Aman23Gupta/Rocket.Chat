{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/directory/chats/contextualBar/ContactField.js"],"names":["Avatar","Box","module","link","v","React","default","roomTypes","UserCard","UserStatus","useTranslation","useEndpointData","AsyncStatePhase","Field","Info","Label","FormSkeleton","ContactField","contact","room","t","status","fname","type","avatarUrl","getConfig","getAvatarPath","value","data","phase","state","error","_id","LOADING","visitor","username","name","displayName","display","exportDefault"],"mappings":"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","file":"dynamic/client/views/omnichannel/directory/chats/contextualBar/ContactField.js","sourcesContent":["import { Avatar, Box } from '@rocket.chat/fuselage';\nimport React from 'react';\n\nimport { roomTypes } from '../../../../../../app/utils/client';\nimport UserCard from '../../../../../components/UserCard';\nimport { UserStatus } from '../../../../../components/UserStatus';\nimport { useTranslation } from '../../../../../contexts/TranslationContext';\nimport { useEndpointData } from '../../../../../hooks/useEndpointData';\nimport { AsyncStatePhase } from '../../../../../lib/asyncState';\nimport Field from '../../../components/Field';\nimport Info from '../../../components/Info';\nimport Label from '../../../components/Label';\nimport { FormSkeleton } from '../../Skeleton';\n\nconst ContactField = ({ contact, room }) => {\n\tconst t = useTranslation();\n\tconst { status } = contact;\n\tconst { fname, t: type } = room;\n\tconst avatarUrl = roomTypes.getConfig(type).getAvatarPath(room);\n\n\tconst { value: data, phase: state, error } = useEndpointData(`livechat/visitors.info?visitorId=${contact._id}`);\n\n\tif (state === AsyncStatePhase.LOADING) {\n\t\treturn <FormSkeleton />;\n\t}\n\n\tif (error || !data || !data.visitor) {\n\t\treturn <Box mbs='x16'>{t('Contact_not_found')}</Box>;\n\t}\n\n\tconst {\n\t\tvisitor: { username, name },\n\t} = data;\n\n\tconst displayName = name || username;\n\n\treturn (\n\t\t<Field>\n\t\t\t<Label>{t('Contact')}</Label>\n\t\t\t<Info style={{ display: 'flex' }}>\n\t\t\t\t<Avatar size='x40' title={fname} url={avatarUrl} />\n\t\t\t\t<UserCard.Username mis='x10' name={displayName} status={<UserStatus status={status} />} />\n\t\t\t\t{username && name && (\n\t\t\t\t\t<Box display='flex' mis='x7' mb='x9' align='center' justifyContent='center'>\n\t\t\t\t\t\t({username})\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Info>\n\t\t</Field>\n\t);\n};\n\nexport default ContactField;\n"]}