{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/apps/AppSetting.js"],"names":["_extends","module","link","default","v","_objectWithoutProperties","React","useMemo","useCallback","MarkdownText","useRouteParameter","useTranslation","MemoizedSetting","useAppTranslation","appId","t","tApp","key","appKey","args","has","AppSetting","appSetting","onChange","value","props","id","type","i18nLabel","i18nDescription","values","required","label","hint","translatedValues","length","map","selectFieldEntry","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/apps/AppSetting.js","sourcesContent":["import React, { useMemo, useCallback } from 'react';\n\nimport MarkdownText from '../../../components/MarkdownText';\nimport { useRouteParameter } from '../../../contexts/RouterContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport MemoizedSetting from '../settings/MemoizedSetting';\n\nconst useAppTranslation = (appId) => {\n\tconst t = useTranslation();\n\n\tconst tApp = useCallback(\n\t\t(key, ...args) => {\n\t\t\tif (!key) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tconst appKey = `project:apps-${appId}-${key}`;\n\t\t\treturn t(t.has(appKey) ? appKey : key, ...args);\n\t\t},\n\t\t[t, appId],\n\t);\n\n\ttApp.has = useCallback(\n\t\t(key) => {\n\t\t\tif (!key) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn t.has(`project:apps-${appId}-${key}`) || t.has(key);\n\t\t},\n\t\t[t, appId],\n\t);\n\n\treturn tApp;\n};\n\nfunction AppSetting({ appSetting, onChange, value, ...props }) {\n\tconst appId = useRouteParameter('id');\n\tconst tApp = useAppTranslation(appId);\n\n\tconst { id, type, i18nLabel, i18nDescription, values, required } = appSetting;\n\n\tconst label = (i18nLabel && tApp(i18nLabel)) + (required ? ' *' : '') || id || tApp(id);\n\tconst hint = useMemo(() => i18nDescription && <MarkdownText content={tApp(i18nDescription)} />, [i18nDescription, tApp]);\n\n\tlet translatedValues;\n\tif (values?.length) {\n\t\ttranslatedValues = values.map((selectFieldEntry) => {\n\t\t\tconst { key, i18nLabel } = selectFieldEntry;\n\n\t\t\tif (!i18nLabel) {\n\t\t\t\treturn selectFieldEntry;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\ti18nLabel: tApp(i18nLabel),\n\t\t\t};\n\t\t});\n\t}\n\n\treturn (\n\t\t<MemoizedSetting\n\t\t\ttype={type}\n\t\t\tlabel={label}\n\t\t\thint={hint}\n\t\t\tvalue={value}\n\t\t\tonChangeValue={onChange}\n\t\t\t_id={id}\n\t\t\tvalues={translatedValues}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport default AppSetting;\n"]}