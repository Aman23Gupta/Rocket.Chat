{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/agents/AgentEditWithData.js"],"names":["Box","module","link","v","React","default","FormSkeleton","useTranslation","AsyncStatePhase","useEndpointData","AgentEdit","AgentEditWithData","uid","reload","t","value","data","phase","state","error","userDepartments","userDepartmentsState","userDepartmentsError","availableDepartments","availableDepartmentsState","availableDepartmentsError","includes","LOADING","user","exportDefault"],"mappings":";;;;;;;;AAAA,IAAIA,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,uBAAZ,EAAoC;AAACF,KAAG,CAACG,CAAD,EAAG;AAACH,OAAG,GAACG,CAAJ;AAAM;;AAAd,CAApC,EAAoD,CAApD;AAAuD,IAAIC,KAAJ;AAAUH,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAACG,SAAO,CAACF,CAAD,EAAG;AAACC,SAAK,GAACD,CAAN;AAAQ;;AAApB,CAApB,EAA0C,CAA1C;AAA6C,IAAIG,YAAJ;AAAiBL,MAAM,CAACC,IAAP,CAAY,8BAAZ,EAA2C;AAACI,cAAY,CAACH,CAAD,EAAG;AAACG,gBAAY,GAACH,CAAb;AAAe;;AAAhC,CAA3C,EAA6E,CAA7E;AAAgF,IAAII,cAAJ;AAAmBN,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAACK,gBAAc,CAACJ,CAAD,EAAG;AAACI,kBAAc,GAACJ,CAAf;AAAiB;;AAApC,CAAnD,EAAyF,CAAzF;AAA4F,IAAIK,eAAJ;AAAoBP,MAAM,CAACC,IAAP,CAAY,8BAAZ,EAA2C;AAACM,iBAAe,CAACL,CAAD,EAAG;AAACK,mBAAe,GAACL,CAAhB;AAAkB;;AAAtC,CAA3C,EAAmF,CAAnF;AAAsF,IAAIM,eAAJ;AAAoBR,MAAM,CAACC,IAAP,CAAY,gCAAZ,EAA6C;AAACO,iBAAe,CAACN,CAAD,EAAG;AAACM,mBAAe,GAACN,CAAhB;AAAkB;;AAAtC,CAA7C,EAAqF,CAArF;AAAwF,IAAIO,SAAJ;AAAcT,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAACG,SAAO,CAACF,CAAD,EAAG;AAACO,aAAS,GAACP,CAAV;AAAY;;AAAxB,CAA1B,EAAoD,CAApD;;AAS1iB,SAASQ,iBAAT,OAA4C;AAAA,MAAjB;AAAEC,OAAF;AAAOC;AAAP,GAAiB;AAC3C,QAAMC,CAAC,GAAGP,cAAc,EAAxB;AACA,QAAM;AAAEQ,SAAK,EAAEC,IAAT;AAAeC,SAAK,EAAEC,KAAtB;AAA6BC;AAA7B,MAAuCV,eAAe,gCAAyBG,GAAzB,EAA5D;AACA,QAAM;AACLG,SAAK,EAAEK,eADF;AAELH,SAAK,EAAEI,oBAFF;AAGLF,SAAK,EAAEG;AAHF,MAIFb,eAAe,2BAAoBG,GAApB,kBAJnB;AAKA,QAAM;AACLG,SAAK,EAAEQ,oBADF;AAELN,SAAK,EAAEO,yBAFF;AAGLL,SAAK,EAAEM;AAHF,MAIFhB,eAAe,CAAC,qBAAD,CAJnB;;AAMA,MAAI,CAACS,KAAD,EAAQM,yBAAR,EAAmCH,oBAAnC,EAAyDK,QAAzD,CAAkElB,eAAe,CAACmB,OAAlF,CAAJ,EAAgG;AAC/F,wBAAO,oBAAC,YAAD,OAAP;AACA;;AAED,MAAIR,KAAK,IAAIG,oBAAT,IAAiCG,yBAAjC,IAA8D,CAACT,IAA/D,IAAuE,CAACA,IAAI,CAACY,IAAjF,EAAuF;AACtF,wBAAO,oBAAC,GAAD;AAAK,SAAG,EAAC;AAAT,OAAgBd,CAAC,CAAC,gBAAD,CAAjB,CAAP;AACA;;AAED,sBAAO,oBAAC,SAAD;AAAW,OAAG,EAAEF,GAAhB;AAAqB,QAAI,EAAEI,IAA3B;AAAiC,mBAAe,EAAEI,eAAlD;AAAmE,wBAAoB,EAAEG,oBAAzF;AAA+G,SAAK,EAAEV;AAAtH,IAAP;AACA;;AAhCDZ,MAAM,CAAC4B,aAAP,CAkCelB,iBAlCf,E","file":"dynamic/client/views/omnichannel/agents/AgentEditWithData.js","sourcesContent":["import { Box } from '@rocket.chat/fuselage';\nimport React from 'react';\n\nimport { FormSkeleton } from '../../../components/Skeleton';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { AsyncStatePhase } from '../../../hooks/useAsyncState';\nimport { useEndpointData } from '../../../hooks/useEndpointData';\nimport AgentEdit from './AgentEdit';\n\nfunction AgentEditWithData({ uid, reload }) {\n\tconst t = useTranslation();\n\tconst { value: data, phase: state, error } = useEndpointData(`livechat/users/agent/${uid}`);\n\tconst {\n\t\tvalue: userDepartments,\n\t\tphase: userDepartmentsState,\n\t\terror: userDepartmentsError,\n\t} = useEndpointData(`livechat/agents/${uid}/departments`);\n\tconst {\n\t\tvalue: availableDepartments,\n\t\tphase: availableDepartmentsState,\n\t\terror: availableDepartmentsError,\n\t} = useEndpointData('livechat/department');\n\n\tif ([state, availableDepartmentsState, userDepartmentsState].includes(AsyncStatePhase.LOADING)) {\n\t\treturn <FormSkeleton />;\n\t}\n\n\tif (error || userDepartmentsError || availableDepartmentsError || !data || !data.user) {\n\t\treturn <Box mbs='x16'>{t('User_not_found')}</Box>;\n\t}\n\n\treturn <AgentEdit uid={uid} data={data} userDepartments={userDepartments} availableDepartments={availableDepartments} reset={reload} />;\n}\n\nexport default AgentEditWithData;\n"]}