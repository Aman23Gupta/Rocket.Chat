{"version":3,"sources":["meteor://ğŸ’»app/client/views/admin/integrations/new/NewIncomingWebhook.js"],"names":["_extends","module","link","default","v","_objectSpread","export","NewIncomingWebhook","Field","Box","Margins","Button","React","useCallback","useMemo","useRoute","useTranslation","useEndpointAction","useForm","IncomingWebhookForm","initialState","enabled","channel","username","name","alias","avatarUrl","emoji","scriptEnabled","script","props","t","router","values","formValues","handlers","formHandlers","reset","params","type","saveAction","handleSave","result","success","push","context","id","integration","_id","actionButtons"],"mappings":"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","file":"dynamic/client/views/admin/integrations/new/NewIncomingWebhook.js","sourcesContent":["import { Field, Box, Margins, Button } from '@rocket.chat/fuselage';\nimport React, { useCallback, useMemo } from 'react';\n\nimport { useRoute } from '../../../../contexts/RouterContext';\nimport { useTranslation } from '../../../../contexts/TranslationContext';\nimport { useEndpointAction } from '../../../../hooks/useEndpointAction';\nimport { useForm } from '../../../../hooks/useForm';\nimport IncomingWebhookForm from '../IncomingWebhookForm';\n\nconst initialState = {\n\tenabled: false,\n\tchannel: '',\n\tusername: '',\n\tname: '',\n\talias: '',\n\tavatarUrl: '',\n\temoji: '',\n\tscriptEnabled: false,\n\tscript: '',\n};\n\nexport default function NewIncomingWebhook(props) {\n\tconst t = useTranslation();\n\n\tconst router = useRoute('admin-integrations');\n\n\tconst { values: formValues, handlers: formHandlers, reset } = useForm(initialState);\n\n\tconst params = useMemo(() => ({ ...formValues, type: 'webhook-incoming' }), [formValues]);\n\tconst saveAction = useEndpointAction('POST', 'integrations.create', params, t('Integration_added'));\n\n\tconst handleSave = useCallback(async () => {\n\t\tconst result = await saveAction();\n\t\tif (result.success) {\n\t\t\trouter.push({ context: 'edit', type: 'incoming', id: result.integration._id });\n\t\t}\n\t}, [router, saveAction]);\n\n\tconst actionButtons = useMemo(\n\t\t() => (\n\t\t\t<Field>\n\t\t\t\t<Field.Row>\n\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' w='full'>\n\t\t\t\t\t\t<Margins inlineEnd='x4'>\n\t\t\t\t\t\t\t<Button flexGrow={1} type='reset' onClick={reset}>\n\t\t\t\t\t\t\t\t{t('Reset')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button mie='none' flexGrow={1} onClick={handleSave}>\n\t\t\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t</Field.Row>\n\t\t\t</Field>\n\t\t),\n\t\t[handleSave, reset, t],\n\t);\n\n\treturn <IncomingWebhookForm formValues={formValues} formHandlers={formHandlers} append={actionButtons} {...props} />;\n}\n"]}