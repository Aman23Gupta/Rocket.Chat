{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/currentChats/RemoveChatButton.tsx"],"names":[],"mappings":";;;;;;;;AAAA,WAAS,IAAT,EAAc,MAAd;AAAsB,MAAM,KAAN,CAAQ,uBAAR,EAAc;AAAuB,OAAC;AAAA;AAAA,GAAxB;;AAAwB;AAAA;AAAA,GAAxB;;AAAwB;AAAA;AAAA;;AAAxB,CAAd,EAAsC,CAAtC;AAAsC;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAU5D,MAAM,gBAAgB,GAA4C,QAAoB;AAAA,MAAnB;AAAE,OAAF;AAAO;AAAP,GAAmB;AACrF,QAAM,UAAU,GAAG,SAAS,CAAC,qBAAD,CAA5B;AACA,QAAM,QAAQ,GAAG,WAAW,EAA5B;AACA,QAAM,oBAAoB,GAAG,uBAAuB,EAApD;AACA,QAAM,CAAC,GAAG,cAAc,EAAxB;AAEA,QAAM,iBAAiB,GAAG,kBAAkB,CAAC,YAAW;AACvD,QAAI;AACH,YAAM,UAAU,CAAC,GAAD,CAAhB;AACA,KAFD,CAEE,OAAO,KAAP,EAAc;AACf,aAAO,CAAC,GAAR,CAAY,KAAZ;AACA;;AACD,UAAM;AACN,GAP2C,CAA5C;AASA,QAAM,YAAY,GAAG,kBAAkB,CAAE,CAAD,IAAM;AAC7C,KAAC,CAAC,eAAF;;AACA,UAAM,aAAa,GAAG,YAA0B;AAC/C,UAAI;AACH,cAAM,iBAAiB,EAAvB;AACA,4BAAoB,CAAC;AAAE,cAAI,EAAE,SAAR;AAAmB,iBAAO,EAAE,CAAC,CAAC,cAAD;AAA7B,SAAD,CAApB;AACA,OAHD,CAGE,OAAO,KAAP,EAAc;AACf,4BAAoB,CAAC;AAAE,cAAI,EAAE,OAAR;AAAiB,iBAAO,EAAE;AAA1B,SAAD,CAApB;AACA;;AACD,cAAQ,CAAC,IAAD,CAAR;AACA,KARD;;AAUA,UAAM,WAAW,GAAG,MAAW;AAC9B,cAAQ,CAAC,IAAD,CAAR;AACA,KAFD;;AAIA,YAAQ,eACP,oBAAC,YAAD;AAAc,aAAO,EAAC,QAAtB;AAA+B,eAAS,EAAE,aAA1C;AAAyD,aAAO,EAAE,WAAlE;AAA+E,cAAQ,EAAE,WAAzF;AAAsG,iBAAW,EAAE,CAAC,CAAC,QAAD;AAApH,MADO,CAAR;AAGA,GAnBsC,CAAvC;AAqBA,sBACC,oBAAC,KAAD,CAAO,IAAP;AAAY,aAAS,EAAC,IAAtB;AAA2B,SAAK,EAAC,MAAjC;AAAwC,qBAAiB;AAAzD,kBACC,oBAAC,MAAD;AAAQ,SAAK,MAAb;AAAc,SAAK,MAAnB;AAAoB,SAAK,EAAE,CAAC,CAAC,QAAD,CAA5B;AAAwC,WAAO,EAAE;AAAjD,kBACC,oBAAC,IAAD;AAAM,QAAI,EAAC,OAAX;AAAmB,QAAI,EAAC;AAAxB,IADD,CADD,CADD;AAOA,CA3CD;;AAVA,OAAO,aAAP,CAuDe,gBAvDf,E","file":"dynamic/client/views/omnichannel/currentChats/RemoveChatButton.tsx","sourcesContent":["import { Table, Icon, Button } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { FC } from 'react';\n\nimport GenericModal from '../../../components/GenericModal';\nimport { useSetModal } from '../../../contexts/ModalContext';\nimport { useMethod } from '../../../contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\n\nconst RemoveChatButton: FC<{ _id: string; reload: () => void }> = ({ _id, reload }) => {\n\tconst removeChat = useMethod('livechat:removeRoom');\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst t = useTranslation();\n\n\tconst handleRemoveClick = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tawait removeChat(_id);\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t\treload();\n\t});\n\n\tconst handleDelete = useMutableCallback((e) => {\n\t\te.stopPropagation();\n\t\tconst onDeleteAgent = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait handleRemoveClick();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Chat_removed') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tsetModal(null);\n\t\t};\n\n\t\tconst handleClose = (): void => {\n\t\t\tsetModal(null);\n\t\t};\n\n\t\tsetModal(\n\t\t\t<GenericModal variant='danger' onConfirm={onDeleteAgent} onClose={handleClose} onCancel={handleClose} confirmText={t('Delete')} />,\n\t\t);\n\t});\n\n\treturn (\n\t\t<Table.Cell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t<Button small ghost title={t('Remove')} onClick={handleDelete}>\n\t\t\t\t<Icon name='trash' size='x16' />\n\t\t\t</Button>\n\t\t</Table.Cell>\n\t);\n};\n\nexport default RemoveChatButton;\n"]}