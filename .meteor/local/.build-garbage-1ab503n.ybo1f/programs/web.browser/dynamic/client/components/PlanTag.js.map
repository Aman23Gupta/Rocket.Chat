{"version":3,"sources":["meteor://ðŸ’»app/client/components/PlanTag.js"],"names":["Box","Tag","module","link","v","useSafely","React","useEffect","useState","default","useMethod","PlanTag","plans","setPlans","getTags","developmentTag","process","env","NODE_ENV","name","color","fetchTags","tags","filter","Boolean","map","plan","background","backgroundColor","textTransform","exportDefault"],"mappings":";;;;;;;;AAAA,IAAIA,GAAJ,EAAQC,GAAR;AAAYC,MAAM,CAACC,IAAP,CAAY,uBAAZ,EAAoC;AAACH,KAAG,CAACI,CAAD,EAAG;AAACJ,OAAG,GAACI,CAAJ;AAAM,GAAd;;AAAeH,KAAG,CAACG,CAAD,EAAG;AAACH,OAAG,GAACG,CAAJ;AAAM;;AAA5B,CAApC,EAAkE,CAAlE;AAAqE,IAAIC,SAAJ;AAAcH,MAAM,CAACC,IAAP,CAAY,6BAAZ,EAA0C;AAACE,WAAS,CAACD,CAAD,EAAG;AAACC,aAAS,GAACD,CAAV;AAAY;;AAA1B,CAA1C,EAAsE,CAAtE;AAAyE,IAAIE,KAAJ,EAAUC,SAAV,EAAoBC,QAApB;AAA6BN,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAACM,SAAO,CAACL,CAAD,EAAG;AAACE,SAAK,GAACF,CAAN;AAAQ,GAApB;;AAAqBG,WAAS,CAACH,CAAD,EAAG;AAACG,aAAS,GAACH,CAAV;AAAY,GAA9C;;AAA+CI,UAAQ,CAACJ,CAAD,EAAG;AAACI,YAAQ,GAACJ,CAAT;AAAW;;AAAtE,CAApB,EAA4F,CAA5F;AAA+F,IAAIM,SAAJ;AAAcR,MAAM,CAACC,IAAP,CAAY,2BAAZ,EAAwC;AAACO,WAAS,CAACN,CAAD,EAAG;AAACM,aAAS,GAACN,CAAV;AAAY;;AAA1B,CAAxC,EAAoE,CAApE;;AAMlT,SAASO,OAAT,GAAmB;AAClB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,SAAS,CAACG,QAAQ,CAAC,EAAD,CAAT,CAAnC;AAEA,QAAMM,OAAO,GAAGJ,SAAS,CAAC,iBAAD,CAAzB;AAEAH,WAAS,CAAC,MAAM;AACf,UAAMQ,cAAc,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,GAAyC;AAAEC,UAAI,EAAE,aAAR;AAAuBC,WAAK,EAAE;AAA9B,KAAzC,GAAqF,IAA5G;;AAEA,UAAMC,SAAS,GAAG,YAAY;AAC7B,YAAMC,IAAI,GAAG,MAAMR,OAAO,EAA1B;AACAD,cAAQ,CAAC,CAACE,cAAD,EAAiB,GAAGO,IAApB,EAA0BC,MAA1B,CAAiCC,OAAjC,EAA0CC,GAA1C,CAA+CC,IAAD,KAAW;AAAEA,YAAI,EAAEA,IAAI,CAACP,IAAb;AAAmBQ,kBAAU,EAAED,IAAI,CAACN;AAApC,OAAX,CAA9C,CAAD,CAAR;AACA,KAHD;;AAKAC,aAAS;AACT,GATQ,EASN,CAACP,OAAD,EAAUD,QAAV,CATM,CAAT;AAWA,SAAOD,KAAK,CAACa,GAAN,CAAU;AAAA,QAAC;AAAEC,UAAF;AAAQC;AAAR,KAAD;AAAA,wBAChB,oBAAC,GAAD;AAAK,kBAAY,EAAC,IAAlB;AAAuB,aAAO,EAAC,cAA/B;AAA8C,mBAAa,EAAC,QAA5D;AAAqE,SAAG,EAAED;AAA1E,oBACC,oBAAC,GAAD;AACC,WAAK,EAAE;AACNN,aAAK,EAAE,MADD;AAENQ,uBAAe,EAAED,UAFX;AAGNE,qBAAa,EAAE;AAHT;AADR,OAOEH,IAPF,CADD,CADgB;AAAA,GAAV,CAAP;AAaA;;AAnCDxB,MAAM,CAAC4B,aAAP,CAqCenB,OArCf,E","file":"dynamic/client/components/PlanTag.js","sourcesContent":["import { Box, Tag } from '@rocket.chat/fuselage';\nimport { useSafely } from '@rocket.chat/fuselage-hooks';\nimport React, { useEffect, useState } from 'react';\n\nimport { useMethod } from '../contexts/ServerContext';\n\nfunction PlanTag() {\n\tconst [plans, setPlans] = useSafely(useState([]));\n\n\tconst getTags = useMethod('license:getTags');\n\n\tuseEffect(() => {\n\t\tconst developmentTag = process.env.NODE_ENV === 'development' ? { name: 'development', color: '#095ad2' } : null;\n\n\t\tconst fetchTags = async () => {\n\t\t\tconst tags = await getTags();\n\t\t\tsetPlans([developmentTag, ...tags].filter(Boolean).map((plan) => ({ plan: plan.name, background: plan.color })));\n\t\t};\n\n\t\tfetchTags();\n\t}, [getTags, setPlans]);\n\n\treturn plans.map(({ plan, background }) => (\n\t\t<Box marginInline='x4' display='inline-block' verticalAlign='middle' key={plan}>\n\t\t\t<Tag\n\t\t\t\tstyle={{\n\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\tbackgroundColor: background,\n\t\t\t\t\ttextTransform: 'capitalize',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{plan}\n\t\t\t</Tag>\n\t\t</Box>\n\t));\n}\n\nexport default PlanTag;\n"]}