{"version":3,"sources":["meteor://ðŸ’»app/client/components/RoomForeword.js"],"names":["Avatar","Margins","Flex","Box","Tag","module","link","v","React","useCallback","default","Rooms","Users","getUserAvatarURL","useTranslation","useUser","useReactiveValue","RoomForeword","_id","rid","t","user","room","findOne","usernames","filter","username","length","map","index","fields","avatarETag","avatarUrl","exportDefault"],"mappings":"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","file":"dynamic/client/components/RoomForeword.js","sourcesContent":["import { Avatar, Margins, Flex, Box, Tag } from '@rocket.chat/fuselage';\nimport React, { useCallback } from 'react';\n\nimport { Rooms, Users } from '../../app/models/client';\nimport { getUserAvatarURL } from '../../app/utils/client';\nimport { useTranslation } from '../contexts/TranslationContext';\nimport { useUser } from '../contexts/UserContext';\nimport { useReactiveValue } from '../hooks/useReactiveValue';\n\nconst RoomForeword = ({ _id: rid }) => {\n\tconst t = useTranslation();\n\n\tconst user = useUser();\n\tconst room = useReactiveValue(useCallback(() => Rooms.findOne({ _id: rid }), [rid]));\n\n\tif (room?.t !== 'd') {\n\t\treturn <>{t('Start_of_conversation')}</>;\n\t}\n\n\tconst usernames = room.usernames.filter((username) => username !== user.username);\n\tif (usernames.length < 1) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Box is='div' flexGrow={1} display='flex' justifyContent='center' flexDirection='column'>\n\t\t\t<Flex.Item grow={1}>\n\t\t\t\t<Margins block='x24'>\n\t\t\t\t\t<Avatar.Stack>\n\t\t\t\t\t\t{usernames.map((username, index) => {\n\t\t\t\t\t\t\tconst user = Users.findOne({ username }, { fields: { avatarETag: 1 } });\n\n\t\t\t\t\t\t\tconst avatarUrl = getUserAvatarURL(username, user?.avatarETag);\n\n\t\t\t\t\t\t\treturn <Avatar key={index} size='x48' title={username} url={avatarUrl} data-username={username} />;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Avatar.Stack>\n\t\t\t\t</Margins>\n\t\t\t</Flex.Item>\n\t\t\t<Box color='default' fontScale='h2' flexGrow={1}>\n\t\t\t\t{t('Direct_message_you_have_joined')}\n\t\t\t</Box>\n\t\t\t<Box is='div' mb='x8' flexGrow={1} display='flex' justifyContent='center'>\n\t\t\t\t{usernames.map((username, index) => (\n\t\t\t\t\t<Margins inline='x4' key={index}>\n\t\t\t\t\t\t<Box is='a' href={`/direct/${username}`}>\n\t\t\t\t\t\t\t<Tag variant='secondary' className='mention-link' data-username={username} medium>\n\t\t\t\t\t\t\t\t{username}\n\t\t\t\t\t\t\t</Tag>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Margins>\n\t\t\t\t))}\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default RoomForeword;\n"]}