{"version":3,"sources":["meteor://ðŸ’»app/client/hooks/lists/useScrollableMessageList.ts"],"names":[],"mappings":";;;;;;;;AAAA;;AAAS,MAAa,KAAb,CAAmB,sCAAnB,EAA2B;AAAA;AAAA;AAAA;;AAAA,CAA3B,EAA2B,CAA3B;AAAT,OAAO,MAAP,CAAS;AAAA,0BAA2B;AAA3B,CAAT;AAAoC;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAS7B,MAAM,wBAAwB,GAAG,CACvC,WADuC,EAEvC,aAFuC,EAGvC,gBAHuC,KAIQ;AAC/C,QAAM,UAAU,GAAG,WAAW,CAC7B,OAAO,KAAP,EAAsB,GAAtB,KAAgF;AAC/E,UAAM,YAAY,GAAG,MAAM,aAAa,CAAC,KAAD,EAAQ,GAAR,CAAxC;AACA,2CACK,YAAY,CAAC,KAAb,IAAsB;AAAE,WAAK,EAAE,YAAY,CAAC,KAAb,CAAmB,GAAnB,CAAuB,iBAAvB;AAAT,KAD3B,GAEK,YAAY,CAAC,SAAb,IAA0B;AAAE,eAAS,EAAE,YAAY,CAAC;AAA1B,KAF/B;AAIA,GAP4B,EAQ7B,CAAC,aAAD,CAR6B,CAA9B;AAWA,SAAO,uBAAuB,CAAC,WAAD,EAAc,UAAd,EAA0B,gBAA1B,CAA9B;AACA,CAjBM,C","file":"dynamic/client/hooks/lists/useScrollableMessageList.ts","sourcesContent":["import { useCallback } from 'react';\n\nimport { IMessage } from '../../../definition/IMessage';\nimport { Serialized } from '../../../definition/Serialized';\nimport { MessageList } from '../../lib/lists/MessageList';\nimport { RecordListBatchChanges } from '../../lib/lists/RecordList';\nimport { mapMessageFromApi } from '../../lib/utils/mapMessageFromApi';\nimport { useScrollableRecordList } from './useScrollableRecordList';\n\nexport const useScrollableMessageList = (\n\tmessageList: MessageList,\n\tfetchMessages: (start: number, end: number) => Promise<RecordListBatchChanges<Serialized<IMessage>>>,\n\tinitialItemCount?: number,\n): ReturnType<typeof useScrollableRecordList> => {\n\tconst fetchItems = useCallback(\n\t\tasync (start: number, end: number): Promise<RecordListBatchChanges<IMessage>> => {\n\t\t\tconst batchChanges = await fetchMessages(start, end);\n\t\t\treturn {\n\t\t\t\t...(batchChanges.items && { items: batchChanges.items.map(mapMessageFromApi) }),\n\t\t\t\t...(batchChanges.itemCount && { itemCount: batchChanges.itemCount }),\n\t\t\t};\n\t\t},\n\t\t[fetchMessages],\n\t);\n\n\treturn useScrollableRecordList(messageList, fetchItems, initialItemCount);\n};\n"]}