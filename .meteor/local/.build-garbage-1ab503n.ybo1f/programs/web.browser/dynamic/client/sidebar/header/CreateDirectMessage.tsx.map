{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/header/CreateDirectMessage.tsx"],"names":[],"mappings":";;;;;;;;AAAA,SAAO,KAAP,EAAc,WAAd,EAAqB,MAArB;AAAgC,MAAE,CAAM,IAAR,CAAU,uBAAV,EAAgB;AAAA,KAAwB;AAAA;AAAA,GAAxB;;AAAwB;AAAA;AAAA,GAAxB;;AAAwB;AAAA;AAAA,GAAxB;;AAAwB;AAAA;AAAA;;AAAxB,CAAhB,EAAwC,CAAxC;AAAwC;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAgBxE,MAAM,mBAAmB,GAAiC,QAAgB;AAAA,MAAf;AAAE;AAAF,GAAe;AACzE,QAAM,CAAC,GAAG,cAAc,EAAxB;AACA,QAAM,CAAC,KAAD,EAAQ,QAAR,IAAoB,QAAQ,CAAkB,EAAlB,CAAlC;AAEA,QAAM,YAAY,GAAG,6BAA6B,CAAC,MAAD,EAAS,WAAT,CAAlD;AAEA,QAAM,aAAa,GAAG,kBAAkB,CAAC,CAAC,KAAD,EAAkB,MAAlB,KAAoC;AAC5E,QAAI,CAAC,MAAL,EAAa;AACZ,UAAI,KAAK,CAAC,QAAN,CAAe,KAAf,CAAJ,EAA2B;AAC1B;AACA;;AACD,aAAO,QAAQ,CAAC,CAAC,GAAG,KAAJ,EAAW,KAAX,CAAD,CAAf;AACA;;AACD,YAAQ,CAAC,KAAK,CAAC,MAAN,CAAc,OAAD,IAAa,OAAO,KAAK,KAAtC,CAAD,CAAR;AACA,GARuC,CAAxC;AAUA,QAAM,QAAQ,GAAG,kBAAkB,CAAC,YAAW;AAC9C,QAAI;AACH,YAAM;AACL,YAAI,EAAE;AAAE;AAAF;AADD,UAEF,MAAM,YAAY,CAAC;AAAE,iBAAS,EAAE,KAAK,CAAC,IAAN,CAAW,GAAX;AAAb,OAAD,CAFtB;AAIA,kBAAY,CAAC,GAAD,CAAZ;AACA,aAAO;AACP,KAPD,CAOE,OAAO,KAAP,EAAc;AACf,aAAO,CAAC,IAAR,CAAa,KAAb;AACA;AACD,GAXkC,CAAnC;AAaA,sBACC,oBAAC,KAAD,qBACC,oBAAC,KAAD,CAAO,MAAP,qBACC,oBAAC,KAAD,CAAO,KAAP,QAAc,CAAC,CAAC,iBAAD,CAAf,CADD,eAEC,oBAAC,KAAD,CAAO,KAAP;AAAa,WAAO,EAAE;AAAtB,IAFD,CADD,eAKC,oBAAC,KAAD,CAAO,OAAP,qBACC,oBAAC,GAAD,QAAM,CAAC,CAAC,qCAAD,CAAP,CADD,eAEC,oBAAC,GAAD;AAAK,OAAG,EAAC,KAAT;AAAe,WAAO,EAAC,MAAvB;AAA8B,iBAAa,EAAC,QAA5C;AAAqD,SAAK,EAAC;AAA3D,kBACC,oBAAC,wBAAD;AAA0B,SAAK,EAAE,KAAjC;AAAwC,YAAQ,EAAE;AAAlD,IADD,CAFD,CALD,eAWC,oBAAC,KAAD,CAAO,MAAP,qBACC,oBAAC,WAAD;AAAa,SAAK,EAAC;AAAnB,kBACC,oBAAC,MAAD;AAAQ,WAAO,EAAE;AAAjB,KAA2B,CAAC,CAAC,QAAD,CAA5B,CADD,eAEC,oBAAC,MAAD;AAAQ,YAAQ,EAAE,KAAK,CAAC,MAAN,GAAe,CAAjC;AAAoC,WAAO,EAAE,QAA7C;AAAuD,WAAO;AAA9D,KACE,CAAC,CAAC,QAAD,CADH,CAFD,CADD,CAXD,CADD;AAsBA,CAnDD;;AAhBA,OAAO,aAAP,eAqEe,IAAI,CAAC,mBAAD,CArEnB,E","file":"dynamic/client/sidebar/header/CreateDirectMessage.tsx","sourcesContent":["import { Box, Modal, ButtonGroup, Button } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { FC, useState, memo } from 'react';\n\nimport { IUser } from '../../../definition/IUser';\nimport UserAutoCompleteMultiple from '../../components/UserAutoCompleteMultiple';\nimport { useTranslation } from '../../contexts/TranslationContext';\nimport { useEndpointActionExperimental } from '../../hooks/useEndpointActionExperimental';\nimport { goToRoomById } from '../../lib/utils/goToRoomById';\n\ntype Username = IUser['username'];\n\ntype CreateDirectMessageProps = {\n\tonClose: () => void;\n};\n\nconst CreateDirectMessage: FC<CreateDirectMessageProps> = ({ onClose }) => {\n\tconst t = useTranslation();\n\tconst [users, setUsers] = useState<Array<Username>>([]);\n\n\tconst createDirect = useEndpointActionExperimental('POST', 'dm.create');\n\n\tconst onChangeUsers = useMutableCallback((value: Username, action: string) => {\n\t\tif (!action) {\n\t\t\tif (users.includes(value)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn setUsers([...users, value]);\n\t\t}\n\t\tsetUsers(users.filter((current) => current !== value));\n\t});\n\n\tconst onCreate = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\troom: { rid },\n\t\t\t} = await createDirect({ usernames: users.join(',') });\n\n\t\t\tgoToRoomById(rid);\n\t\t\tonClose();\n\t\t} catch (error) {\n\t\t\tconsole.warn(error);\n\t\t}\n\t});\n\n\treturn (\n\t\t<Modal>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Title>{t('Direct_Messages')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<Box>{t('Direct_message_creation_description')}</Box>\n\t\t\t\t<Box mbs='x16' display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t<UserAutoCompleteMultiple value={users} onChange={onChangeUsers} />\n\t\t\t\t</Box>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<ButtonGroup align='end'>\n\t\t\t\t\t<Button onClick={onClose}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button disabled={users.length < 1} onClick={onCreate} primary>\n\t\t\t\t\t\t{t('Create')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default memo(CreateDirectMessage);\n"]}