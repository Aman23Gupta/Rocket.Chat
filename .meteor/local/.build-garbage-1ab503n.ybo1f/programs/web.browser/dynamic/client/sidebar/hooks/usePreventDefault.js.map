{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/hooks/usePreventDefault.js"],"names":["module","export","usePreventDefault","useEffect","link","v","ref","current","stopPropagation","e","target","nodeName","parentElement","includes","preventDefault","addEventListener"],"mappings":";;;;;;;;AAAAA,MAAM,CAACC,MAAP,CAAc;AAACC,mBAAiB,EAAC,MAAIA;AAAvB,CAAd;AAAyD,IAAIC,SAAJ;AAAcH,MAAM,CAACI,IAAP,CAAY,OAAZ,EAAoB;AAACD,WAAS,CAACE,CAAD,EAAG;AAACF,aAAS,GAACE,CAAV;AAAY;;AAA1B,CAApB,EAAgD,CAAhD;;AAEhE,MAAMH,iBAAiB,GAAII,GAAD,IAAS;AACzC;AACA;AAEAH,WAAS,CAAC,MAAM;AACf,UAAM;AAAEI;AAAF,QAAcD,GAApB;;AACA,UAAME,eAAe,GAAIC,CAAD,IAAO;AAC9B,UAAI,CAACA,CAAC,CAACC,MAAF,CAASC,QAAV,EAAoBF,CAAC,CAACC,MAAF,CAASE,aAAT,CAAuBD,QAA3C,EAAqDE,QAArD,CAA8D,QAA9D,CAAJ,EAA6E;AAC5EJ,SAAC,CAACK,cAAF;AACA;AACD,KAJD;;AAKAP,WAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEQ,gBAAT,CAA0B,OAA1B,EAAmCP,eAAnC;AAEA,WAAO,MAAMD,OAAN,aAAMA,OAAN,uBAAMA,OAAO,CAAEQ,gBAAT,CAA0B,OAA1B,EAAmCP,eAAnC,CAAb;AACA,GAVQ,EAUN,CAACF,GAAD,CAVM,CAAT;AAYA,SAAO;AAAEA;AAAF,GAAP;AACA,CAjBM,C","file":"dynamic/client/sidebar/hooks/usePreventDefault.js","sourcesContent":["import { useEffect } from 'react';\n\nexport const usePreventDefault = (ref) => {\n\t// Flowrouter uses an addEventListener on the document to capture any clink link, since the react synthetic event use an addEventListener on the document too,\n\t// it is impossible/hard to determine which one will happen before and prevent/stop propagation, so feel free to remove this effect after remove flow router :)\n\n\tuseEffect(() => {\n\t\tconst { current } = ref;\n\t\tconst stopPropagation = (e) => {\n\t\t\tif ([e.target.nodeName, e.target.parentElement.nodeName].includes('BUTTON')) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t};\n\t\tcurrent?.addEventListener('click', stopPropagation);\n\n\t\treturn () => current?.addEventListener('click', stopPropagation);\n\t}, [ref]);\n\n\treturn { ref };\n};\n"]}