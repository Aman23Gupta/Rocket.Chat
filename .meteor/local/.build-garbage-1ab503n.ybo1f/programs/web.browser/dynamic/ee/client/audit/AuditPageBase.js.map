{"version":3,"sources":["meteor://ðŸ’»app/ee/client/audit/AuditPageBase.js"],"names":["module","export","AuditPageBase","Box","Field","TextInput","ButtonGroup","Button","Margins","Tabs","Flex","link","v","useMutableCallback","React","default","Page","useTranslation","DateRangePicker","Result","ChannelTab","DirectTab","UsersTab","VisitorsTab","type","handleType","msg","handleMsg","handleDateRange","errors","rid","handleRid","users","handleUsers","onChangeUsers","visitor","handleVisitor","agent","handleAgent","apply","setData","t","useHandleType"],"mappings":"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","file":"dynamic/ee/client/audit/AuditPageBase.js","sourcesContent":["import { Box, Field, TextInput, ButtonGroup, Button, Margins, Tabs, Flex } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React from 'react';\n\nimport Page from '../../../client/components/Page';\nimport { useTranslation } from '../../../client/contexts/TranslationContext';\nimport DateRangePicker from './DateRangePicker';\nimport Result from './Result';\nimport ChannelTab from './Tabs/ChannelTab';\nimport DirectTab from './Tabs/DirectTab';\nimport UsersTab from './Tabs/UsersTab';\nimport VisitorsTab from './Tabs/VisitorsTab';\n\n// TODO: create more stories for the tabs\nexport const AuditPageBase = ({\n\ttype,\n\thandleType,\n\tmsg,\n\thandleMsg,\n\thandleDateRange,\n\terrors,\n\trid,\n\thandleRid,\n\tusers,\n\thandleUsers,\n\tonChangeUsers,\n\tvisitor,\n\thandleVisitor,\n\tagent,\n\thandleAgent,\n\tapply,\n\tsetData,\n}) => {\n\tconst t = useTranslation();\n\n\tconst useHandleType = (type) =>\n\t\tuseMutableCallback(() => {\n\t\t\thandleVisitor('');\n\t\t\thandleAgent();\n\t\t\thandleRid('');\n\t\t\thandleUsers([]);\n\t\t\thandleType(type);\n\t\t});\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Message_auditing')} />\n\t\t\t<Tabs>\n\t\t\t\t<Tabs.Item selected={type === ''} onClick={useHandleType('')}>\n\t\t\t\t\t{t('Rooms')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t<Tabs.Item selected={type === 'u'} onClick={useHandleType('u')}>\n\t\t\t\t\t{t('Users')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t<Tabs.Item selected={type === 'd'} onClick={useHandleType('d')}>\n\t\t\t\t\t{t('Direct_Messages')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t<Tabs.Item selected={type === 'l'} onClick={useHandleType('l')}>\n\t\t\t\t\t{t('Omnichannel')}\n\t\t\t\t</Tabs.Item>\n\t\t\t</Tabs>\n\t\t\t<Page.ScrollableContentWithShadow mb='neg-x4'>\n\t\t\t\t<Margins block='x4'>\n\t\t\t\t\t<Box display='flex' flexDirection='row' mi='neg-x4' justifyContent='stretch'>\n\t\t\t\t\t\t<Margins inline='x4'>\n\t\t\t\t\t\t\t<Flex.Item shrink={1}>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Field.Label>{t('Message')}</Field.Label>\n\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t<TextInput value={msg} onChange={handleMsg} placeholder={t('Search')} />\n\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Field.Label>{t('Date')}</Field.Label>\n\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t<DateRangePicker onChange={handleDateRange} display='flex' flexGrow={1} />\n\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='flex-end'>\n\t\t\t\t\t\t<Flex.Item shrink={1}>\n\t\t\t\t\t\t\t{type === '' && <ChannelTab errors={errors} rid={rid} handleRid={handleRid} />}\n\t\t\t\t\t\t\t{type === 'u' && <UsersTab errors={errors} users={users} onChangeUsers={onChangeUsers} />}\n\t\t\t\t\t\t\t{type === 'd' && <DirectTab errors={errors} users={users} onChangeUsers={onChangeUsers} />}\n\t\t\t\t\t\t\t{type === 'l' && (\n\t\t\t\t\t\t\t\t<VisitorsTab errors={errors} visitor={visitor} handleVisitor={handleVisitor} agent={agent} handleAgent={handleAgent} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<ButtonGroup mis='x8' align='end'>\n\t\t\t\t\t\t\t\t<Button primary onClick={apply}>\n\t\t\t\t\t\t\t\t\t{t('Apply')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{setData && <Result setDataRef={setData} />}\n\t\t\t\t</Margins>\n\t\t\t</Page.ScrollableContentWithShadow>\n\t\t</Page>\n\t);\n};\n"]}