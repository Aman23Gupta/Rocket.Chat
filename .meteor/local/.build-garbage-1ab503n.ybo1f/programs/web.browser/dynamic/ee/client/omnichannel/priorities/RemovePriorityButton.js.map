{"version":3,"sources":["meteor://ðŸ’»app/ee/client/omnichannel/priorities/RemovePriorityButton.js"],"names":["Table","Icon","Button","module","link","v","useMutableCallback","React","default","GenericModal","useSetModal","useRoute","useMethod","useToastMessageDispatch","useTranslation","RemovePriorityButton","_id","reload","removePriority","setModal","dispatchToastMessage","t","prioritiesRoute","handleRemoveClick","error","console","log","handleDelete","e","stopPropagation","onDeleteAgent","type","message","push","exportDefault"],"mappings":"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","file":"dynamic/ee/client/omnichannel/priorities/RemovePriorityButton.js","sourcesContent":["import { Table, Icon, Button } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React from 'react';\n\nimport GenericModal from '../../../../client/components/GenericModal';\nimport { useSetModal } from '../../../../client/contexts/ModalContext';\nimport { useRoute } from '../../../../client/contexts/RouterContext';\nimport { useMethod } from '../../../../client/contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../../client/contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../../client/contexts/TranslationContext';\n\nfunction RemovePriorityButton({ _id, reload }) {\n\tconst removePriority = useMethod('livechat:removePriority');\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst t = useTranslation();\n\tconst prioritiesRoute = useRoute('omnichannel-priorities');\n\n\tconst handleRemoveClick = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tawait removePriority(_id);\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t\treload();\n\t});\n\n\tconst handleDelete = useMutableCallback((e) => {\n\t\te.stopPropagation();\n\t\tconst onDeleteAgent = async () => {\n\t\t\ttry {\n\t\t\t\tawait handleRemoveClick();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Priority_removed') });\n\t\t\t\tprioritiesRoute.push({});\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tsetModal();\n\t\t};\n\n\t\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteAgent} onCancel={() => setModal()} confirmText={t('Delete')} />);\n\t});\n\n\treturn (\n\t\t<Table.Cell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t<Button small ghost title={t('Remove')} onClick={handleDelete}>\n\t\t\t\t<Icon name='trash' size='x16' />\n\t\t\t</Button>\n\t\t</Table.Cell>\n\t);\n}\n\nexport default RemovePriorityButton;\n"]}