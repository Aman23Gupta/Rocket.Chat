{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/info/SeatsCard.tsx"],"names":[],"mappings":";;;;;;;;AAAA,SAAO,MAAP,EAAc,WAAd,EAAsB,QAAtB;AAAmC,OAAQ,IAAR,CAAU,uBAAV,EAAgB;AAAA,KAAwB;AAAA;AAAA,GAAxB;;AAAwB;AAAA;AAAA,GAAxB;;AAAwB;AAAA;AAAA,GAAxB;;AAAwB;AAAA;AAAA;;AAAxB,CAAhB,EAAwC,CAAxC;AAAwC;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAW3E,MAAM,SAAS,GAAG,MAA0B;AAC3C,QAAM,CAAC,GAAG,cAAc,EAAxB;AACA,QAAM,QAAQ,GAAG,WAAW,EAA5B;AACA,QAAM,gBAAgB,GAAG,mBAAmB,EAA5C;AAEA,QAAM,SAAS,GAAG,QAAQ,IAAI,IAAI,CAAC,GAAL,CAAS,QAAQ,CAAC,cAAT,GAA0B,QAAQ,CAAC,WAA5C,EAAyD,CAAzD,CAA9B;AAEA,QAAM,WAAW,GAAG,QAAQ,IAAI,QAAQ,CAAC,WAAT,GAAuB,QAAQ,CAAC,cAAhC,IAAkD,GAAlF;AAEA,QAAM,KAAK,GAAG,WAAW,GAAG,MAAM,CAAC,IAAV,GAAiB,SAA1C;;AAEA,MAAI,QAAQ,IAAI,QAAQ,CAAC,cAAT,KAA4B,QAA5C,EAAsD;AACrD,WAAO,IAAP;AACA;;AAED,sBACC,oBAAC,IAAD,qBACC,oBAAC,IAAD,CAAM,KAAN,QAAa,CAAC,CAAC,aAAD,CAAd,CADD,eAEC,oBAAC,IAAD,CAAM,IAAN,qBACC,oBAAC,IAAD,CAAM,GAAN,qBACC,oBAAC,IAAD,CAAM,GAAN,CAAU,OAAV,qBACC,oBAAC,GAAD;AAAK,WAAO,EAAC,MAAb;AAAoB,iBAAa,EAAC,KAAlC;AAAwC,kBAAc,EAAC,QAAvD;AAAgE,aAAS,EAAE,WAAW,GAAG,KAAH,GAAW;AAAjG,KACE,CAAC,QAAD,gBACA,oBAAC,QAAD;AAAU,WAAO,EAAC,MAAlB;AAAyB,SAAK,EAAC,MAA/B;AAAsC,UAAM,EAAC;AAA7C,IADA,gBAGA,oBAAC,aAAD;AACC,SAAK,eAAE,oBAAC,GAAD;AAAK,WAAK,EAAE;AAAZ,OAAoB,CAAC,CAAC,iBAAD,EAAoB;AAAE;AAAF,KAApB,CAArB,CADR;AAEC,QAAI,EAAE,QAAQ,CAAC,WAFhB;AAGC,SAAK,EAAE,QAAQ,CAAC,cAHjB;AAIC,QAAI,EAAE,GAJP;AAKC,SAAK,EAAE;AALR,IAJF,CADD,CADD,CADD,CAFD,eAqBC,oBAAC,IAAD,CAAM,MAAN,qBACC,oBAAC,WAAD;AAAa,SAAK,EAAC;AAAnB,kBACC,oBAAC,YAAD;AAAc,MAAE,EAAE;AAAlB,kBACC,oBAAC,MAAD;AAAQ,SAAK,MAAb;AAAc,WAAO;AAArB,KACE,CAAC,CAAC,eAAD,CADH,CADD,CADD,CADD,CArBD,CADD;AAiCA,CAhDD;;AAXA,OAAO,aAAP,CA6De,SA7Df,E","file":"dynamic/ee/client/views/admin/info/SeatsCard.tsx","sourcesContent":["import { Box, Button, ButtonGroup, Skeleton } from '@rocket.chat/fuselage';\nimport colors from '@rocket.chat/fuselage-tokens/colors';\nimport React, { ReactElement } from 'react';\n\nimport Card from '../../../../../client/components/Card';\nimport ExternalLink from '../../../../../client/components/ExternalLink';\nimport { useTranslation } from '../../../../../client/contexts/TranslationContext';\nimport UsagePieGraph from '../../../../../client/views/admin/info/UsagePieGraph';\nimport { useRequestSeatsLink } from '../users/useRequestSeatsLink';\nimport { useSeatsCap } from '../users/useSeatsCap';\n\nconst SeatsCard = (): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst seatsCap = useSeatsCap();\n\tconst requestSeatsLink = useRequestSeatsLink();\n\n\tconst seatsLeft = seatsCap && Math.max(seatsCap.maxActiveUsers - seatsCap.activeUsers, 0);\n\n\tconst isNearLimit = seatsCap && seatsCap.activeUsers / seatsCap.maxActiveUsers >= 0.8;\n\n\tconst color = isNearLimit ? colors.r500 : undefined;\n\n\tif (seatsCap && seatsCap.maxActiveUsers === Infinity) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Card>\n\t\t\t<Card.Title>{t('Seats_usage')}</Card.Title>\n\t\t\t<Card.Body>\n\t\t\t\t<Card.Col>\n\t\t\t\t\t<Card.Col.Section>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='center' fontScale={isNearLimit ? 'p2m' : 'p2'}>\n\t\t\t\t\t\t\t{!seatsCap ? (\n\t\t\t\t\t\t\t\t<Skeleton variant='rect' width='x112' height='x112' />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<UsagePieGraph\n\t\t\t\t\t\t\t\t\tlabel={<Box color={color}>{t('Seats_Available', { seatsLeft })}</Box>}\n\t\t\t\t\t\t\t\t\tused={seatsCap.activeUsers}\n\t\t\t\t\t\t\t\t\ttotal={seatsCap.maxActiveUsers}\n\t\t\t\t\t\t\t\t\tsize={140}\n\t\t\t\t\t\t\t\t\tcolor={color}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Card.Col.Section>\n\t\t\t\t</Card.Col>\n\t\t\t</Card.Body>\n\t\t\t<Card.Footer>\n\t\t\t\t<ButtonGroup align='end'>\n\t\t\t\t\t<ExternalLink to={requestSeatsLink}>\n\t\t\t\t\t\t<Button small primary>\n\t\t\t\t\t\t\t{t('Request_seats')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ExternalLink>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Card.Footer>\n\t\t</Card>\n\t);\n};\n\nexport default SeatsCard;\n"]}