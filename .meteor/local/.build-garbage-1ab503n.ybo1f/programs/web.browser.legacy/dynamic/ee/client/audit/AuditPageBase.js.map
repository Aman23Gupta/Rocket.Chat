{"version":3,"sources":["meteor://ðŸ’»app/ee/client/audit/AuditPageBase.js"],"names":["module","export","AuditPageBase","Box","Field","TextInput","ButtonGroup","Button","Margins","Tabs","Flex","link","v","useMutableCallback","React","Page","useTranslation","DateRangePicker","Result","ChannelTab","DirectTab","UsersTab","VisitorsTab","type","handleType","msg","handleMsg","handleDateRange","errors","rid","handleRid","users","handleUsers","onChangeUsers","visitor","handleVisitor","agent","handleAgent","apply","setData","t","useHandleType"],"mappings":"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","file":"dynamic/ee/client/audit/AuditPageBase.js","sourcesContent":["import { Box, Field, TextInput, ButtonGroup, Button, Margins, Tabs, Flex } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React from 'react';\n\nimport Page from '../../../client/components/Page';\nimport { useTranslation } from '../../../client/contexts/TranslationContext';\nimport DateRangePicker from './DateRangePicker';\nimport Result from './Result';\nimport ChannelTab from './Tabs/ChannelTab';\nimport DirectTab from './Tabs/DirectTab';\nimport UsersTab from './Tabs/UsersTab';\nimport VisitorsTab from './Tabs/VisitorsTab';\n\n// TODO: create more stories for the tabs\nexport const AuditPageBase = ({\n\ttype,\n\thandleType,\n\tmsg,\n\thandleMsg,\n\thandleDateRange,\n\terrors,\n\trid,\n\thandleRid,\n\tusers,\n\thandleUsers,\n\tonChangeUsers,\n\tvisitor,\n\thandleVisitor,\n\tagent,\n\thandleAgent,\n\tapply,\n\tsetData,\n}) => {\n\tconst t = useTranslation();\n\n\tconst useHandleType = (type) =>\n\t\tuseMutableCallback(() => {\n\t\t\thandleVisitor('');\n\t\t\thandleAgent();\n\t\t\thandleRid('');\n\t\t\thandleUsers([]);\n\t\t\thandleType(type);\n\t\t});\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Message_auditing')} />\n\t\t\t<Tabs>\n\t\t\t\t<Tabs.Item selected={type === ''} onClick={useHandleType('')}>\n\t\t\t\t\t{t('Rooms')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t<Tabs.Item selected={type === 'u'} onClick={useHandleType('u')}>\n\t\t\t\t\t{t('Users')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t<Tabs.Item selected={type === 'd'} onClick={useHandleType('d')}>\n\t\t\t\t\t{t('Direct_Messages')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t<Tabs.Item selected={type === 'l'} onClick={useHandleType('l')}>\n\t\t\t\t\t{t('Omnichannel')}\n\t\t\t\t</Tabs.Item>\n\t\t\t</Tabs>\n\t\t\t<Page.ScrollableContentWithShadow mb='neg-x4'>\n\t\t\t\t<Margins block='x4'>\n\t\t\t\t\t<Box display='flex' flexDirection='row' mi='neg-x4' justifyContent='stretch'>\n\t\t\t\t\t\t<Margins inline='x4'>\n\t\t\t\t\t\t\t<Flex.Item shrink={1}>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Field.Label>{t('Message')}</Field.Label>\n\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t<TextInput value={msg} onChange={handleMsg} placeholder={t('Search')} />\n\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Field.Label>{t('Date')}</Field.Label>\n\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t<DateRangePicker onChange={handleDateRange} display='flex' flexGrow={1} />\n\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='flex-end'>\n\t\t\t\t\t\t<Flex.Item shrink={1}>\n\t\t\t\t\t\t\t{type === '' && <ChannelTab errors={errors} rid={rid} handleRid={handleRid} />}\n\t\t\t\t\t\t\t{type === 'u' && <UsersTab errors={errors} users={users} onChangeUsers={onChangeUsers} />}\n\t\t\t\t\t\t\t{type === 'd' && <DirectTab errors={errors} users={users} onChangeUsers={onChangeUsers} />}\n\t\t\t\t\t\t\t{type === 'l' && (\n\t\t\t\t\t\t\t\t<VisitorsTab errors={errors} visitor={visitor} handleVisitor={handleVisitor} agent={agent} handleAgent={handleAgent} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<ButtonGroup mis='x8' align='end'>\n\t\t\t\t\t\t\t\t<Button primary onClick={apply}>\n\t\t\t\t\t\t\t\t\t{t('Apply')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{setData && <Result setDataRef={setData} />}\n\t\t\t\t</Margins>\n\t\t\t</Page.ScrollableContentWithShadow>\n\t\t</Page>\n\t);\n};\n"]}