{"version":3,"sources":["meteor://ðŸ’»app/ee/client/omnichannel/monitors/MonitorsRow.js"],"names":["_regeneratorRuntime","module","link","default","v","Table","Icon","Button","useMutableCallback","React","memo","GenericModal","useSetModal","useMethod","useToastMessageDispatch","useTranslation","MonitorsRow","props","_id","name","username","emails","onDelete","setModal","dispatchToastMessage","t","removeMonitor","handleRemove","onDeleteMonitor","type","message","find","address","exportDefault"],"mappings":"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","file":"dynamic/ee/client/omnichannel/monitors/MonitorsRow.js","sourcesContent":["import { Table, Icon, Button } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { memo } from 'react';\n\nimport GenericModal from '../../../../client/components/GenericModal';\nimport { useSetModal } from '../../../../client/contexts/ModalContext';\nimport { useMethod } from '../../../../client/contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../../client/contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../../client/contexts/TranslationContext';\n\nfunction MonitorsRow(props) {\n\tconst { _id, name, username, emails, onDelete } = props;\n\n\tconst setModal = useSetModal();\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst t = useTranslation();\n\n\tconst removeMonitor = useMethod('livechat:removeMonitor');\n\n\tconst handleRemove = useMutableCallback(() => {\n\t\tconst onDeleteMonitor = async () => {\n\t\t\ttry {\n\t\t\t\tawait removeMonitor(username);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Monitor_removed') });\n\t\t\t\tonDelete();\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tsetModal();\n\t\t};\n\n\t\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteMonitor} onCancel={() => setModal()} confirmText={t('Delete')} />);\n\t});\n\n\treturn (\n\t\t<Table.Row key={_id} role='link' action tabIndex={0}>\n\t\t\t<Table.Cell withTruncatedText>{name}</Table.Cell>\n\t\t\t<Table.Cell withTruncatedText>{username}</Table.Cell>\n\t\t\t<Table.Cell withTruncatedText>{emails?.find(({ address }) => !!address)?.address}</Table.Cell>\n\t\t\t<Table.Cell withTruncatedText>\n\t\t\t\t<Button small ghost title={t('Remove')} onClick={handleRemove}>\n\t\t\t\t\t<Icon name='trash' size='x16' />\n\t\t\t\t</Button>\n\t\t\t</Table.Cell>\n\t\t</Table.Row>\n\t);\n}\n\nexport default memo(MonitorsRow);\n"]}