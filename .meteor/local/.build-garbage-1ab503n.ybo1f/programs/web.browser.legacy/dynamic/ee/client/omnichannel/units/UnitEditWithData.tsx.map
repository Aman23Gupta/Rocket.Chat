{"version":3,"sources":["meteor://ðŸ’»app/ee/client/omnichannel/units/UnitEditWithData.tsx"],"names":[],"mappings":";;;;;;;;AAAA;AAAS,MAAS,KAAT,CAAe,uBAAf,EAAuC;AAAA;AAAA;AAAA;AAAA,CAAvC,EAAuC,CAAvC;AAAuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAShD,IAAM,gBAAgB;AAIjB,WAAS,gBAAT,OAAmD;AAAA,QAAvB,MAAuB,QAAvB,MAAuB;AAAA,QAAf,MAAe,QAAf,MAAe;AAAA,QAAP,KAAO,QAAP,KAAO;AACvD,QAAM,KAAK,GAAG,OAAO,CAAC;AAAA,aAAO;AAAE,cAAM,EAAN;AAAF,OAAP;AAAA,KAAD,EAAqB,CAAC,MAAD,CAArB,CAArB;;AAEA,2BAA6C,eAAe,CAAC,uBAAD,EAA0B,KAA1B,CAA5D;AAAA,QAAe,IAAf,oBAAQ,KAAR;AAAA,QAA4B,KAA5B,oBAAqB,KAArB;AAAA,QAAmC,KAAnC,oBAAmC,KAAnC;;AAEA,4BAAoF,eAAe,CAAC,4BAAD,EAA+B,KAA/B,CAAnG;AAAA,QAAe,YAAf,qBAAQ,KAAR;AAAA,QAAoC,iBAApC,qBAA6B,KAA7B;AAAA,QAA8D,iBAA9D,qBAAuD,KAAvD;;AAEA,4BAII,eAAe,mCAAiC,MAAjC,CAJnB;AAAA,QACQ,eADR,qBACC,KADD;AAAA,QAEQ,oBAFR,qBAEC,KAFD;AAAA,QAGQ,oBAHR,qBAGC,KAHD;;AAMA,QAAM,CAAC,GAAG,cAAc,EAAxB;;AAEA,QAAI,CAAC,KAAD,EAAQ,iBAAR,EAA2B,oBAA3B,EAAiD,QAAjD,CAA0D,eAAe,CAAC,OAA1E,CAAJ,EAAwF;AACvF,0BAAO,oBAAC,YAAD,OAAP;AACA;;AAED,QAAI,KAAK,IAAI,iBAAT,IAA8B,oBAAlC,EAAwD;AACvD,0BACC,oBAAC,OAAD;AAAS,SAAC,EAAC,KAAX;AAAiB,YAAI,EAAC;AAAtB,SACE,CAAC,CAAC,eAAD,CADH,CADD;AAKA;;AAED,wBACC,oBAAC,QAAD;AACC,WAAK,EAAE,KADR;AAEC,YAAM,EAAE,MAFT;AAGC,UAAI,EAAE,IAHP;AAIC,kBAAY,EAAE,YAJf;AAKC,qBAAe,EAAE,eALlB;AAMC,YAAM,EAAE,MANT;AAOC,WAAK,EAAE;AAPR,MADD;AAWA;;AA1CqB,SAIR,gBAJQ;AAAA,GAAtB;;AATA,OAAO,aAAP,CAqDe,gBArDf,E","file":"dynamic/ee/client/omnichannel/units/UnitEditWithData.tsx","sourcesContent":["import { Callout } from '@rocket.chat/fuselage';\nimport React, { useMemo, FC } from 'react';\n\nimport { FormSkeleton } from '../../../../client/components/Skeleton';\nimport { useTranslation } from '../../../../client/contexts/TranslationContext';\nimport { AsyncStatePhase } from '../../../../client/hooks/useAsyncState';\nimport { useEndpointData } from '../../../../client/hooks/useEndpointData';\nimport UnitEdit from './UnitEdit';\n\nconst UnitEditWithData: FC<{\n\tunitId: string;\n\ttitle: string;\n\treload: () => void;\n}> = function UnitEditWithData({ unitId, reload, title }) {\n\tconst query = useMemo(() => ({ unitId }), [unitId]);\n\n\tconst { value: data, phase: state, error } = useEndpointData('livechat/units.getOne', query);\n\n\tconst { value: unitMonitors, phase: unitMonitorsState, error: unitMonitorsError } = useEndpointData('livechat/unitMonitors.list', query);\n\n\tconst {\n\t\tvalue: unitDepartments,\n\t\tphase: unitDepartmentsState,\n\t\terror: unitDepartmentsError,\n\t} = useEndpointData(`livechat/departments.by-unit/${unitId}`);\n\n\tconst t = useTranslation();\n\n\tif ([state, unitMonitorsState, unitDepartmentsState].includes(AsyncStatePhase.LOADING)) {\n\t\treturn <FormSkeleton />;\n\t}\n\n\tif (error || unitMonitorsError || unitDepartmentsError) {\n\t\treturn (\n\t\t\t<Callout m='x16' type='danger'>\n\t\t\t\t{t('Not_Available')}\n\t\t\t</Callout>\n\t\t);\n\t}\n\n\treturn (\n\t\t<UnitEdit\n\t\t\ttitle={title}\n\t\t\tunitId={unitId}\n\t\t\tdata={data}\n\t\t\tunitMonitors={unitMonitors}\n\t\t\tunitDepartments={unitDepartments}\n\t\t\treload={reload}\n\t\t\tisNew={false}\n\t\t/>\n\t);\n};\n\nexport default UnitEditWithData;\n"]}