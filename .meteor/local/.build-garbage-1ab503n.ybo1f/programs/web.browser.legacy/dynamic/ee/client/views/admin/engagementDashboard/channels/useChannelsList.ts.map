{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/engagementDashboard/channels/useChannelsList.ts"],"names":[],"mappings":";;;;;;;;AAAA;;AAAmB,MAAM,KAAN,CAAM,4BAAN,EAAoB;AAAA;AAAA;AAAA;AAAA,CAApB,EAAoB,CAApB;;AAAoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAvC,OAAO,MAAP,CAAS;AAAA,iBAAgB,cAAc;AAAA;AAAA;AAA9B,CAAT;AAAuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAYhC,IAAM,eAAe,GAAG;AAAA,MAAG,MAAH,QAAG,MAAH;AAAA,MAAW,MAAX,QAAW,MAAX;AAAA,MAAmB,KAAnB,QAAmB,KAAnB;AAAA,SAC9B,QAAQ,CACP,CAAC,0CAAD,EAA6C;AAAE,UAAM,EAAN,MAAF;AAAU,UAAM,EAAN,MAAV;AAAkB,SAAK,EAAL;AAAlB,GAA7C,CADO;AAEP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCACwB,cAAc,CAAC,MAAD,CADtC,EACS,KADT,mBACS,KADT,EACgB,GADhB,mBACgB,GADhB;AAAA;AAAA,iDAGwB,cAAc,CAAC,wCAAD,CAAd,CAAyD;AAC/E,uBAAK,EAAE,KAAK,CAAC,WAAN,EADwE;AAE/E,qBAAG,EAAE,GAAG,CAAC,WAAJ,EAF0E;AAG/E,wBAAM,EAAN,MAH+E;AAI/E,uBAAK,EAAL;AAJ+E,iBAAzD,CAHxB;;AAAA;AAGO,wBAHP;AAAA,iDAUQ,QAAQ,mCAET,QAFS;AAGZ,uBAAK,EAAL,KAHY;AAIZ,qBAAG,EAAH;AAJY,qBAMZ,SAhBJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAFO;AAAA,OAoBP;AACC,oBAAgB,EAAE,IADnB;AAEC,mBAAe,EAAE,IAAI,EAAJ,GAAS;AAF3B,GApBO,CADsB;AAAA,CAAxB,C","file":"dynamic/ee/client/views/admin/engagementDashboard/channels/useChannelsList.ts","sourcesContent":["import { useQuery } from 'react-query';\n\nimport { getFromRestApi } from '../../../../lib/getFromRestApi';\nimport { getPeriodRange, Period } from '../data/periods';\n\ntype UseChannelsListOptions = {\n\tperiod: Period['key'];\n\toffset: number;\n\tcount: number;\n};\n\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport const useChannelsList = ({ period, offset, count }: UseChannelsListOptions) =>\n\tuseQuery(\n\t\t['admin/engagement-dashboard/channels/list', { period, offset, count }],\n\t\tasync () => {\n\t\t\tconst { start, end } = getPeriodRange(period);\n\n\t\t\tconst response = await getFromRestApi('/v1/engagement-dashboard/channels/list')({\n\t\t\t\tstart: start.toISOString(),\n\t\t\t\tend: end.toISOString(),\n\t\t\t\toffset,\n\t\t\t\tcount,\n\t\t\t});\n\n\t\t\treturn response\n\t\t\t\t? {\n\t\t\t\t\t\t...response,\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tend,\n\t\t\t\t  }\n\t\t\t\t: undefined;\n\t\t},\n\t\t{\n\t\t\tkeepPreviousData: true,\n\t\t\trefetchInterval: 5 * 60 * 1000,\n\t\t},\n\t);\n"]}