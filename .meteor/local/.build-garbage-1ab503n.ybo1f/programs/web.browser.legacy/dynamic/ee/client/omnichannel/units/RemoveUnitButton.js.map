{"version":3,"sources":["meteor://ðŸ’»app/ee/client/omnichannel/units/RemoveUnitButton.js"],"names":["_regeneratorRuntime","module","link","default","v","Table","Icon","Button","useMutableCallback","React","GenericModal","useSetModal","useRoute","useMethod","useToastMessageDispatch","useTranslation","RemoveUnitButton","_id","reload","removeUnit","unitsRoute","setModal","dispatchToastMessage","t","handleRemoveClick","console","log","push","handleDelete","e","stopPropagation","onDeleteAgent","type","message","exportDefault"],"mappings":"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","file":"dynamic/ee/client/omnichannel/units/RemoveUnitButton.js","sourcesContent":["import { Table, Icon, Button } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React from 'react';\n\nimport GenericModal from '../../../../client/components/GenericModal';\nimport { useSetModal } from '../../../../client/contexts/ModalContext';\nimport { useRoute } from '../../../../client/contexts/RouterContext';\nimport { useMethod } from '../../../../client/contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../../client/contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../../client/contexts/TranslationContext';\n\nfunction RemoveUnitButton({ _id, reload }) {\n\tconst removeUnit = useMethod('livechat:removeUnit');\n\tconst unitsRoute = useRoute('omnichannel-units');\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst t = useTranslation();\n\n\tconst handleRemoveClick = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tawait removeUnit(_id);\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t\tunitsRoute.push({});\n\t\treload();\n\t});\n\n\tconst handleDelete = useMutableCallback((e) => {\n\t\te.stopPropagation();\n\t\tconst onDeleteAgent = async () => {\n\t\t\ttry {\n\t\t\t\tawait handleRemoveClick();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Unit_removed') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tsetModal();\n\t\t};\n\n\t\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteAgent} onCancel={() => setModal()} confirmText={t('Delete')} />);\n\t});\n\n\treturn (\n\t\t<Table.Cell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t<Button small ghost title={t('Remove')} onClick={handleDelete}>\n\t\t\t\t<Icon name='trash' size='x16' />\n\t\t\t</Button>\n\t\t</Table.Cell>\n\t);\n}\n\nexport default RemoveUnitButton;\n"]}