{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/engagementDashboard/users/useActiveUsers.ts"],"names":[],"mappings":";;;;;;;;AAAA;;AAAmB,MAAS,KAAT,CAAS,4BAAT,EAAS;AAAA;AAAA;AAAA;AAAA,CAAT,EAAS,CAAT;;AAAS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAA5B,OAAO,MAAP,CAAa;AAAA,gBAAe;AAAA;AAAA;AAAf,CAAb;AAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AASrB,IAAM,cAAc,GAAG;AAAA,MAAG,GAAH,QAAG,GAAH;AAAA,SAC7B,QAAQ,CACP,CAAC,yCAAD,EAA4C;AAAE,OAAG,EAAH;AAAF,GAA5C,CADO;AAEP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCACwB,cAAc,CAAC,cAAD,EAAiB,GAAjB,CADtC,EACS,KADT,mBACS,KADT,EACgB,GADhB,mBACgB,GADhB;AAAA;AAAA,iDAGwB,cAAc,CAAC,6CAAD,CAAd,CAA8D;AACpF,uBAAK,EAAE,CAAC,GAAG,GAAG,MAAM,CAAC,GAAP,CAAW,KAAX,CAAH,GAAuB,MAAM,CAAC,KAAD,CAAjC,EAA0C,QAA1C,CAAmD,EAAnD,EAAuD,MAAvD,EAA+D,WAA/D,EAD6E;AAEpF,qBAAG,EAAE,GAAG,CAAC,WAAJ;AAF+E,iBAA9D,CAHxB;;AAAA;AAGO,wBAHP;AAAA,iDAQQ,QAAQ,mCAET,QAFS;AAGZ,uBAAK,EAAL,KAHY;AAIZ,qBAAG,EAAH;AAJY,qBAMZ,SAdJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAFO;AAAA,OAkBP;AACC,mBAAe,EAAE,IAAI,EAAJ,GAAS;AAD3B,GAlBO,CADqB;AAAA,CAAvB,C","file":"dynamic/ee/client/views/admin/engagementDashboard/users/useActiveUsers.ts","sourcesContent":["import moment from 'moment';\nimport { useQuery } from 'react-query';\n\nimport { getFromRestApi } from '../../../../lib/getFromRestApi';\nimport { getPeriodRange } from '../data/periods';\n\ntype UseActiveUsersOptions = { utc: boolean };\n\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport const useActiveUsers = ({ utc }: UseActiveUsersOptions) =>\n\tuseQuery(\n\t\t['admin/engagement-dashboard/users/active', { utc }],\n\t\tasync () => {\n\t\t\tconst { start, end } = getPeriodRange('last 30 days', utc);\n\n\t\t\tconst response = await getFromRestApi('/v1/engagement-dashboard/users/active-users')({\n\t\t\t\tstart: (utc ? moment.utc(start) : moment(start)).subtract(29, 'days').toISOString(),\n\t\t\t\tend: end.toISOString(),\n\t\t\t});\n\n\t\t\treturn response\n\t\t\t\t? {\n\t\t\t\t\t\t...response,\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tend,\n\t\t\t\t  }\n\t\t\t\t: undefined;\n\t\t},\n\t\t{\n\t\t\trefetchInterval: 5 * 60 * 1000,\n\t\t},\n\t);\n"]}