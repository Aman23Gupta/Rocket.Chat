{"version":3,"sources":["meteor://ðŸ’»app/ee/client/omnichannel/components/contextualBar/CannedResponse/CannedResponseList.tsx"],"names":[],"mappings":"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","file":"dynamic/ee/client/omnichannel/components/contextualBar/CannedResponse/CannedResponseList.tsx","sourcesContent":["import { Box, Button, ButtonGroup, Icon, Margins, Select, TextInput } from '@rocket.chat/fuselage';\nimport { useAutoFocus, useResizeObserver } from '@rocket.chat/fuselage-hooks';\nimport React, { Dispatch, FC, FormEventHandler, memo, MouseEvent, ReactElement, SetStateAction } from 'react';\nimport { Virtuoso } from 'react-virtuoso';\n\nimport ScrollableContentWrapper from '../../../../../../client/components/ScrollableContentWrapper';\nimport VerticalBar from '../../../../../../client/components/VerticalBar';\nimport { useTranslation } from '../../../../../../client/contexts/TranslationContext';\nimport { useTabContext } from '../../../../../../client/views/room/providers/ToolboxProvider';\nimport { ILivechatDepartment } from '../../../../../../definition/ILivechatDepartment';\nimport { IOmnichannelCannedResponse } from '../../../../../../definition/IOmnichannelCannedResponse';\nimport Item from './Item';\nimport WrapCannedResponse from './WrapCannedResponse';\n\nconst CannedResponseList: FC<{\n\tloadMoreItems: (start: number, end: number) => void;\n\tcannedItems: (IOmnichannelCannedResponse & { departmentName: ILivechatDepartment['name'] })[];\n\titemCount: number;\n\tonClose: any;\n\tloading: boolean;\n\toptions: [string, string][];\n\ttext: string;\n\tsetText: FormEventHandler<HTMLOrSVGElement>;\n\ttype: string;\n\tsetType: Dispatch<SetStateAction<string>>;\n\tonClickItem: (data: any) => void;\n\tonClickCreate: (e: MouseEvent<HTMLOrSVGElement>) => void;\n\tonClickUse: (e: MouseEvent<HTMLOrSVGElement>, text: string) => void;\n\treload: () => void;\n}> = ({\n\tloadMoreItems,\n\tcannedItems,\n\titemCount,\n\tonClose,\n\tloading,\n\toptions,\n\ttext,\n\tsetText,\n\ttype,\n\tsetType,\n\tonClickItem,\n\tonClickCreate,\n\tonClickUse,\n\treload,\n}) => {\n\tconst t = useTranslation();\n\tconst inputRef = useAutoFocus(true);\n\n\tconst cannedId = useTabContext();\n\n\tconst { ref, contentBoxSize: { inlineSize = 378 } = {} } = useResizeObserver<HTMLElement>({\n\t\tdebounceDelay: 200,\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<VerticalBar.Header>\n\t\t\t\t<VerticalBar.Text>{t('Canned_Responses')}</VerticalBar.Text>\n\t\t\t\t<VerticalBar.Close onClick={onClose} />\n\t\t\t</VerticalBar.Header>\n\n\t\t\t<VerticalBar.Content paddingInline={0} ref={ref}>\n\t\t\t\t<Box display='flex' flexDirection='row' p='x24' flexShrink={0}>\n\t\t\t\t\t<Box display='flex' flexDirection='row' flexGrow={1} mi='neg-x4'>\n\t\t\t\t\t\t<Margins inline='x4'>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tplaceholder={t('Search')}\n\t\t\t\t\t\t\t\tvalue={text}\n\t\t\t\t\t\t\t\tonChange={setText}\n\t\t\t\t\t\t\t\taddon={<Icon name='magnifier' size='x20' />}\n\t\t\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Select flexGrow={0} width='110px' onChange={setType} value={type} options={options} />\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Box flexGrow={1} flexShrink={1} overflow='hidden' display='flex'>\n\t\t\t\t\t{itemCount === 0 && <Box p='x24'>{t('No_Canned_Responses')}</Box>}\n\t\t\t\t\t{itemCount > 0 && cannedItems.length > 0 && (\n\t\t\t\t\t\t<Virtuoso\n\t\t\t\t\t\t\tstyle={{ width: inlineSize }}\n\t\t\t\t\t\t\ttotalCount={itemCount}\n\t\t\t\t\t\t\tendReached={loading ? undefined : (start): void => loadMoreItems(start, Math.min(25, itemCount - start))}\n\t\t\t\t\t\t\toverscan={25}\n\t\t\t\t\t\t\tdata={cannedItems}\n\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\tScroller: ScrollableContentWrapper as any,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\titemContent={(_index, data): ReactElement => (\n\t\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\t\tonClickItem={(): void => {\n\t\t\t\t\t\t\t\t\t\tonClickItem(data);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClickUse={onClickUse}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t</VerticalBar.Content>\n\n\t\t\t{cannedId && (\n\t\t\t\t<VerticalBar.InnerContent>\n\t\t\t\t\t<WrapCannedResponse\n\t\t\t\t\t\tcannedItem={cannedItems.find((canned) => canned._id === (cannedId as unknown))}\n\t\t\t\t\t\tonClickBack={onClickItem}\n\t\t\t\t\t\tonClickUse={onClickUse}\n\t\t\t\t\t\treload={reload}\n\t\t\t\t\t/>\n\t\t\t\t</VerticalBar.InnerContent>\n\t\t\t)}\n\n\t\t\t<VerticalBar.Footer>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={onClickCreate}>{t('Create')}</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</VerticalBar.Footer>\n\t\t</>\n\t);\n};\n\nexport default memo(CannedResponseList);\n"]}