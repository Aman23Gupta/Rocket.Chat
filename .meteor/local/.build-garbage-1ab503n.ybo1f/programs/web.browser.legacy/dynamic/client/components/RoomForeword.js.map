{"version":3,"sources":["meteor://ðŸ’»app/client/components/RoomForeword.js"],"names":["Avatar","Margins","Flex","Box","Tag","module","link","v","React","useCallback","Rooms","Users","getUserAvatarURL","useTranslation","useUser","useReactiveValue","RoomForeword","rid","_id","t","user","room","findOne","usernames","filter","username","length","map","index","fields","avatarETag","avatarUrl","exportDefault"],"mappings":"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","file":"dynamic/client/components/RoomForeword.js","sourcesContent":["import { Avatar, Margins, Flex, Box, Tag } from '@rocket.chat/fuselage';\nimport React, { useCallback } from 'react';\n\nimport { Rooms, Users } from '../../app/models/client';\nimport { getUserAvatarURL } from '../../app/utils/client';\nimport { useTranslation } from '../contexts/TranslationContext';\nimport { useUser } from '../contexts/UserContext';\nimport { useReactiveValue } from '../hooks/useReactiveValue';\n\nconst RoomForeword = ({ _id: rid }) => {\n\tconst t = useTranslation();\n\n\tconst user = useUser();\n\tconst room = useReactiveValue(useCallback(() => Rooms.findOne({ _id: rid }), [rid]));\n\n\tif (room?.t !== 'd') {\n\t\treturn <>{t('Start_of_conversation')}</>;\n\t}\n\n\tconst usernames = room.usernames.filter((username) => username !== user.username);\n\tif (usernames.length < 1) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Box is='div' flexGrow={1} display='flex' justifyContent='center' flexDirection='column'>\n\t\t\t<Flex.Item grow={1}>\n\t\t\t\t<Margins block='x24'>\n\t\t\t\t\t<Avatar.Stack>\n\t\t\t\t\t\t{usernames.map((username, index) => {\n\t\t\t\t\t\t\tconst user = Users.findOne({ username }, { fields: { avatarETag: 1 } });\n\n\t\t\t\t\t\t\tconst avatarUrl = getUserAvatarURL(username, user?.avatarETag);\n\n\t\t\t\t\t\t\treturn <Avatar key={index} size='x48' title={username} url={avatarUrl} data-username={username} />;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Avatar.Stack>\n\t\t\t\t</Margins>\n\t\t\t</Flex.Item>\n\t\t\t<Box color='default' fontScale='h2' flexGrow={1}>\n\t\t\t\t{t('Direct_message_you_have_joined')}\n\t\t\t</Box>\n\t\t\t<Box is='div' mb='x8' flexGrow={1} display='flex' justifyContent='center'>\n\t\t\t\t{usernames.map((username, index) => (\n\t\t\t\t\t<Margins inline='x4' key={index}>\n\t\t\t\t\t\t<Box is='a' href={`/direct/${username}`}>\n\t\t\t\t\t\t\t<Tag variant='secondary' className='mention-link' data-username={username} medium>\n\t\t\t\t\t\t\t\t{username}\n\t\t\t\t\t\t\t</Tag>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Margins>\n\t\t\t\t))}\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default RoomForeword;\n"]}