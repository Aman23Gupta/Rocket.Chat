{"version":3,"sources":["meteor://ðŸ’»app/client/components/Message/Attachments/providers/AttachmentProvider.tsx"],"names":[],"mappings":";;;;;;;;AAAA;AAAS,MAAuB,KAAvB,CAA6B,6BAA7B,EAA2D;AAAA;AAAA;AAAA;AAAA,CAA3D,EAA2D,CAA3D;AAA2D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAQpE,IAAM,kBAAkB,GAAO,gBAAiB;AAAA,MAAd,QAAc,QAAd,QAAc;;AAC/C,mBAAqB,SAAS,EAA9B;AAAA,MAAQ,QAAR,cAAQ,QAAR;;AACA,MAAM,WAAW,GAAG,qBAAqB,EAAzC;AACA,MAAM,kBAAkB,GAAG,CAAC,CAAC,iBAAiB,CAAU,wBAAV,CAA9C;AACA,MAAM,mBAAmB,GAAG,CAAC,CAAC,iBAAiB,CAAU,eAAV,CAA/C;AACA,MAAM,mBAAmB,GAAG,CAAC,CAAC,iBAAiB,CAAU,qBAAV,CAA/C;AAEA,MAAM,YAAY,GAA2B,OAAO,CACnD;AAAA,WAAO;AACN,YAAM,EAAE,UAAC,GAAD;AAAA,eAAyB,MAAM,CAAC,GAAD,EAAM;AAAE,cAAI,EAAE;AAAR,SAAN,CAA/B;AAAA,OADF;AAEN,wBAAkB,EAAlB,kBAFM;AAGN,yBAAmB,EAAE,CAAC,WAAD,IAAgB,mBAAhB,KAAwC,CAAC,mBAAD,IAAwB,CAAC,QAAjE,CAHf;AAIN,gBAAU,EAAE;AACX,aAAK,EAAE,GADI;AAEX,cAAM,EAAE;AAFG;AAJN,KAAP;AAAA,GADmD,EAUnD,CAAC,kBAAD,EAAqB,WAArB,EAAkC,mBAAlC,EAAuD,mBAAvD,EAA4E,QAA5E,CAVmD,CAApD;AAaA,sBAAO,oBAAC,iBAAD,CAAmB,QAAnB;AAA4B,YAAQ,EAAE,QAAtC;AAAgD,SAAK,EAAE;AAAvD,IAAP;AACA,CArBD;;AARA,OAAO,aAAP,CA+Be,kBA/Bf,E","file":"dynamic/client/components/Message/Attachments/providers/AttachmentProvider.tsx","sourcesContent":["import { usePrefersReducedData } from '@rocket.chat/fuselage-hooks';\nimport React, { useMemo, FC } from 'react';\n\nimport { getURL } from '../../../../../app/utils/client';\nimport { useLayout } from '../../../../contexts/LayoutContext';\nimport { useUserPreference } from '../../../../contexts/UserContext';\nimport { AttachmentContext, AttachmentContextValue } from '../context/AttachmentContext';\n\nconst AttachmentProvider: FC = ({ children }) => {\n\tconst { isMobile } = useLayout();\n\tconst reducedData = usePrefersReducedData();\n\tconst collapsedByDefault = !!useUserPreference<boolean>('collapseMediaByDefault');\n\tconst autoLoadEmbedMedias = !!useUserPreference<boolean>('autoImageLoad');\n\tconst saveMobileBandwidth = !!useUserPreference<boolean>('saveMobileBandwidth');\n\n\tconst contextValue: AttachmentContextValue = useMemo(\n\t\t() => ({\n\t\t\tgetURL: (url: string): string => getURL(url, { full: true }),\n\t\t\tcollapsedByDefault,\n\t\t\tautoLoadEmbedMedias: !reducedData && autoLoadEmbedMedias && (!saveMobileBandwidth || !isMobile),\n\t\t\tdimensions: {\n\t\t\t\twidth: 480,\n\t\t\t\theight: 360,\n\t\t\t},\n\t\t}),\n\t\t[collapsedByDefault, reducedData, autoLoadEmbedMedias, saveMobileBandwidth, isMobile],\n\t);\n\n\treturn <AttachmentContext.Provider children={children} value={contextValue} />;\n};\n\nexport default AttachmentProvider;\n"]}