{"version":3,"sources":["meteor://ðŸ’»app/client/components/TextCopy.js"],"names":["_extends","module","link","default","v","_objectWithoutProperties","Box","Icon","Button","Scrollable","React","useCallback","useToastMessageDispatch","useTranslation","defaultWrapperRenderer","text","wordBreak","TextCopy","wrapper","props","t","dispatchToastMessage","onClick","navigator","clipboard","writeText","type","message","e","exportDefault"],"mappings":"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","file":"dynamic/client/components/TextCopy.js","sourcesContent":["import { Box, Icon, Button, Scrollable } from '@rocket.chat/fuselage';\nimport React, { useCallback } from 'react';\n\nimport { useToastMessageDispatch } from '../contexts/ToastMessagesContext';\nimport { useTranslation } from '../contexts/TranslationContext';\n\nconst defaultWrapperRenderer = (text) => (\n\t<Box fontFamily='mono' alignSelf='center' fontScale='p2' style={{ wordBreak: 'break-all' }} mie='x4' flexGrow={1} maxHeight='x108'>\n\t\t{text}\n\t</Box>\n);\n\nconst TextCopy = ({ text, wrapper = defaultWrapperRenderer, ...props }) => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst onClick = useCallback(() => {\n\t\ttry {\n\t\t\tnavigator.clipboard.writeText(text);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Copied') });\n\t\t} catch (e) {\n\t\t\tdispatchToastMessage({ type: 'error', message: e });\n\t\t}\n\t}, [dispatchToastMessage, t, text]);\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='row'\n\t\t\tjustifyContent='stretch'\n\t\t\talignItems='flex-start'\n\t\t\tflexGrow={1}\n\t\t\tpadding='x16'\n\t\t\tbackgroundColor='surface'\n\t\t\twidth='full'\n\t\t\t{...props}\n\t\t>\n\t\t\t<Scrollable vertical>{wrapper(text)}</Scrollable>\n\t\t\t<Button ghost square small flexShrink={0} onClick={onClick} title={t('Copy')}>\n\t\t\t\t<Icon name='copy' size='x20' />\n\t\t\t</Button>\n\t\t</Box>\n\t);\n};\n\nexport default TextCopy;\n"]}