{"version":3,"sources":["meteor://ðŸ’»app/client/components/PlanTag.js"],"names":["_regeneratorRuntime","module","link","default","v","_toConsumableArray","_slicedToArray","Box","Tag","useSafely","React","useEffect","useState","useMethod","PlanTag","plans","setPlans","getTags","developmentTag","process","env","NODE_ENV","name","color","fetchTags","tags","filter","Boolean","map","plan","background","backgroundColor","textTransform","exportDefault"],"mappings":"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","file":"dynamic/client/components/PlanTag.js","sourcesContent":["import { Box, Tag } from '@rocket.chat/fuselage';\nimport { useSafely } from '@rocket.chat/fuselage-hooks';\nimport React, { useEffect, useState } from 'react';\n\nimport { useMethod } from '../contexts/ServerContext';\n\nfunction PlanTag() {\n\tconst [plans, setPlans] = useSafely(useState([]));\n\n\tconst getTags = useMethod('license:getTags');\n\n\tuseEffect(() => {\n\t\tconst developmentTag = process.env.NODE_ENV === 'development' ? { name: 'development', color: '#095ad2' } : null;\n\n\t\tconst fetchTags = async () => {\n\t\t\tconst tags = await getTags();\n\t\t\tsetPlans([developmentTag, ...tags].filter(Boolean).map((plan) => ({ plan: plan.name, background: plan.color })));\n\t\t};\n\n\t\tfetchTags();\n\t}, [getTags, setPlans]);\n\n\treturn plans.map(({ plan, background }) => (\n\t\t<Box marginInline='x4' display='inline-block' verticalAlign='middle' key={plan}>\n\t\t\t<Tag\n\t\t\t\tstyle={{\n\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\tbackgroundColor: background,\n\t\t\t\t\ttextTransform: 'capitalize',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{plan}\n\t\t\t</Tag>\n\t\t</Box>\n\t));\n}\n\nexport default PlanTag;\n"]}