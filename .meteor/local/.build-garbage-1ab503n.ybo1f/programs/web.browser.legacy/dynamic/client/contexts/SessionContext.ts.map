{"version":3,"sources":["meteor://ðŸ’»app/client/contexts/SessionContext.ts"],"names":[],"mappings":";;;;;;;;AAAA,OAAO,MAAP,CAAS;AAAA,gBAAe,cAAa;AAAA,WAAU,cAAV;AAAqB,GAAjD;AAAuD,YAAQ;AAAA;AAAA,GAA/D;AAA+D;AAAA;AAAA;AAA/D,CAAT;AAAwE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQjE,IAAM,cAAc,gBAAG,aAAa,CAAsB;AAChE,OAAK,EAAE;AAAA,WAAO;AACb,qBAAe,EAAE;AAAA,eAAiB,SAAjB;AAAA,OADJ;AAEb,eAAS,EAAE;AAAA,eAAmB;AAAA,iBAAY,SAAZ;AAAA,SAAnB;AAAA;AAFE,KAAP;AAAA,GADyD;AAKhE,UAAQ,EAAE;AAAA,WAAY,SAAZ;AAAA;AALsD,CAAtB,CAApC;;AAQA,IAAM,UAAU,GAAG,UAAC,IAAD,EAA0B;AACnD,oBAAkB,UAAU,CAAC,cAAD,CAA5B;AAAA,MAAQ,KAAR,eAAQ,KAAR;;AACA,MAAM,YAAY,GAAG,OAAO,CAAC;AAAA,WAAM,KAAK,CAAC,IAAD,CAAX;AAAA,GAAD,EAAoB,CAAC,KAAD,EAAQ,IAAR,CAApB,CAA5B;AACA,SAAO,eAAe,CAAC,YAAD,CAAtB;AACA,CAJM;;AAMA,IAAM,kBAAkB,GAAG,UAAC,IAAD,EAA6C;AAC9E,qBAAqB,UAAU,CAAC,cAAD,CAA/B;AAAA,MAAQ,QAAR,gBAAQ,QAAR;;AACA,SAAO,WAAW,CAAC,UAAC,KAAD;AAAA,WAAW,QAAQ,CAAC,IAAD,EAAO,KAAP,CAAnB;AAAA,GAAD,EAAmC,CAAC,QAAD,EAAW,IAAX,CAAnC,CAAlB;AACA,CAHM,C","file":"dynamic/client/contexts/SessionContext.ts","sourcesContent":["import { createContext, useCallback, useContext, useMemo } from 'react';\nimport { useSubscription, Subscription, Unsubscribe } from 'use-subscription';\n\ntype SessionContextValue = {\n\tquery: (name: string) => Subscription<unknown>;\n\tdispatch: (name: string, value: unknown) => void;\n};\n\nexport const SessionContext = createContext<SessionContextValue>({\n\tquery: () => ({\n\t\tgetCurrentValue: (): undefined => undefined,\n\t\tsubscribe: (): Unsubscribe => (): void => undefined,\n\t}),\n\tdispatch: (): void => undefined,\n});\n\nexport const useSession = (name: string): unknown => {\n\tconst { query } = useContext(SessionContext);\n\tconst subscription = useMemo(() => query(name), [query, name]);\n\treturn useSubscription(subscription);\n};\n\nexport const useSessionDispatch = (name: string): ((value: unknown) => void) => {\n\tconst { dispatch } = useContext(SessionContext);\n\treturn useCallback((value) => dispatch(name, value), [dispatch, name]);\n};\n"]}