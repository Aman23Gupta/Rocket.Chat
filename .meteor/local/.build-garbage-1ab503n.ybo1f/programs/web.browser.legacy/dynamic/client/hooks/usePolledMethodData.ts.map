{"version":3,"sources":["meteor://ðŸ’»app/client/hooks/usePolledMethodData.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAAkB,MAAE,KAAF,CAAQ,sCAAR,EAAgB;AAAA;AAAA;AAAA;AAAA,CAAhB,EAAgB,CAAhB;;AAAgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAlC,OAAO,MAAP,CAAS;AAAA,qBAAyB;AAAA;AAAA;AAAzB,CAAT;AAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAM3B,IAAM,mBAAmB,GAAG,UAClC,UADkC,EAIS;AAAA,MAF3C,IAE2C,uEAF7B,EAE6B;AAAA,MAD3C,UAC2C;;AAC3C,uBAA6B,aAAa,CAAI,UAAJ,EAAgB,IAAhB,CAA1C;AAAA,MAAQ,MAAR,kBAAQ,MAAR;AAAA,MAAmB,KAAnB;;AAEA,WAAS,CAAC,YAAK;AACd,QAAM,KAAK,GAAG,WAAW,CAAC,YAAK;AAC9B,YAAM;AACN,KAFwB,EAEtB,UAFsB,CAAzB;AAIA,WAAO,YAAW;AACjB,mBAAa,CAAC,KAAD,CAAb;AACA,KAFD;AAGA,GARQ,EAQN,CAAC,MAAD,EAAS,UAAT,CARM,CAAT;AAUA,yCACI,KADJ;AAEC,UAAM,EAAN;AAFD;AAIA,CArBM,C","file":"dynamic/client/hooks/usePolledMethodData.ts","sourcesContent":["import { useEffect } from 'react';\n\nimport { ServerMethods } from '../contexts/ServerContext';\nimport { AsyncState } from './useAsyncState';\nimport { useMethodData } from './useMethodData';\n\nexport const usePolledMethodData = <T>(\n\tmethodName: keyof ServerMethods,\n\targs: any[] = [],\n\tintervalMs: number,\n): AsyncState<T> & { reload: () => void } => {\n\tconst { reload, ...state } = useMethodData<T>(methodName, args);\n\n\tuseEffect(() => {\n\t\tconst timer = setInterval(() => {\n\t\t\treload();\n\t\t}, intervalMs);\n\n\t\treturn (): void => {\n\t\t\tclearInterval(timer);\n\t\t};\n\t}, [reload, intervalMs]);\n\n\treturn {\n\t\t...state,\n\t\treload,\n\t};\n};\n"]}