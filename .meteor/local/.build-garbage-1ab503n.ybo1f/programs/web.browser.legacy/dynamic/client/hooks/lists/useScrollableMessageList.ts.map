{"version":3,"sources":["meteor://ðŸ’»app/client/hooks/lists/useScrollableMessageList.ts"],"names":[],"mappings":";;;;;;;;AAAA;;AAAsB,MAAM,KAAN,CAAc,4BAAd,EAAc;AAAA;AAAA;AAAA;AAAA,CAAd,EAAc,CAAd;;AAAc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAApC,OAAO,MAAP,CAAS;AAAA,0BAA2B;AAAA;AAAA;AAA3B,CAAT;AAAoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAS7B,IAAM,wBAAwB,GAAG,UACvC,WADuC,EAEvC,aAFuC,EAGvC,gBAHuC,EAIQ;AAC/C,MAAM,UAAU,GAAG,WAAW;AAC7B,qBAAO,KAAP,EAAsB,GAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAC4B,aAAa,CAAC,KAAD,EAAQ,GAAR,CADzC;;AAAA;AACO,4BADP;AAAA,iFAGM,YAAY,CAAC,KAAb,IAAsB;AAAE,uBAAK,EAAE,YAAY,CAAC,KAAb,CAAmB,GAAnB,CAAuB,iBAAvB;AAAT,iBAH5B,GAIM,YAAY,CAAC,SAAb,IAA0B;AAAE,2BAAS,EAAE,YAAY,CAAC;AAA1B,iBAJhC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAD6B;AAAA,OAQ7B,CAAC,aAAD,CAR6B,CAA9B;AAWA,SAAO,uBAAuB,CAAC,WAAD,EAAc,UAAd,EAA0B,gBAA1B,CAA9B;AACA,CAjBM,C","file":"dynamic/client/hooks/lists/useScrollableMessageList.ts","sourcesContent":["import { useCallback } from 'react';\n\nimport { IMessage } from '../../../definition/IMessage';\nimport { Serialized } from '../../../definition/Serialized';\nimport { MessageList } from '../../lib/lists/MessageList';\nimport { RecordListBatchChanges } from '../../lib/lists/RecordList';\nimport { mapMessageFromApi } from '../../lib/utils/mapMessageFromApi';\nimport { useScrollableRecordList } from './useScrollableRecordList';\n\nexport const useScrollableMessageList = (\n\tmessageList: MessageList,\n\tfetchMessages: (start: number, end: number) => Promise<RecordListBatchChanges<Serialized<IMessage>>>,\n\tinitialItemCount?: number,\n): ReturnType<typeof useScrollableRecordList> => {\n\tconst fetchItems = useCallback(\n\t\tasync (start: number, end: number): Promise<RecordListBatchChanges<IMessage>> => {\n\t\t\tconst batchChanges = await fetchMessages(start, end);\n\t\t\treturn {\n\t\t\t\t...(batchChanges.items && { items: batchChanges.items.map(mapMessageFromApi) }),\n\t\t\t\t...(batchChanges.itemCount && { itemCount: batchChanges.itemCount }),\n\t\t\t};\n\t\t},\n\t\t[fetchMessages],\n\t);\n\n\treturn useScrollableRecordList(messageList, fetchItems, initialItemCount);\n};\n"]}