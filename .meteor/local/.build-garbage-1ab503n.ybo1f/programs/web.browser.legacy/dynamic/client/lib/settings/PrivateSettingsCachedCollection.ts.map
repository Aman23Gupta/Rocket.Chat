{"version":3,"sources":["meteor://ðŸ’»app/client/lib/settings/PrivateSettingsCachedCollection.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAAwB,MAAM,KAAN,CAAM,4BAAN,EAAyC;AAAC;AAAA;AAAA;AAAD,CAAzC,EAA0C,CAA1C;;AAA0C;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAlE,OAAO,MAAP,CAAS;AAAA,iCAAqB;AAAA,WAAmC,+BAAnC;AAAoC;AAAzD,CAAT;AAAkE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;IAGrD,+B;;;AACZ;AAAA,WACC,6BAAM;AACL,UAAI,EAAE,kBADD;AAEL,eAAS,EAAE;AAFN,KAAN,CADD;AAKC;;;;SAEK,a;AAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACC,6BAAa,CAAC,QAAd,CAAuB,KAAK,SAA5B;AAAuC,mCAAO,CAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoB,iCAApB,QAAoB,GAApB,EAA4B,MAA5B;;AACtC,mCAAI,CAAC,GAAL,CAAS,iBAAT,EAA4B,CAA5B;AAAiC,mCAAG,EAAH;AAAjC,iCAAyC,MAAzC;;AACA,mCAAI,CAAC,UAAL,CAAgB,MAAhB,CAAuB;AAAE,mCAAG,EAAH;AAAF,+BAAvB,EAAgC,MAAhC;;AACA,mCAAI,CAAC,IAAL;;AAHsC;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAvC;AAAA;;AADD;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;;;;kCAUO,G;AAAP,mBAAU;AACT,UAAI,CAAC,+BAA+B,CAAC,QAArC,EAA+C;AAC9C,uCAA+B,CAAC,QAAhC,GAA2C,IAAI,+BAAJ,EAA3C;AACA;;AAED,aAAO,+BAA+B,CAAC,QAAvC;AACA;;;;;;EAxBmD,gB;;AAAxC,+B,CAgBL,Q","file":"dynamic/client/lib/settings/PrivateSettingsCachedCollection.ts","sourcesContent":["import { Notifications } from '../../../app/notifications/client';\nimport { CachedCollection } from '../../../app/ui-cached-collection/client';\n\nexport class PrivateSettingsCachedCollection extends CachedCollection {\n\tconstructor() {\n\t\tsuper({\n\t\t\tname: 'private-settings',\n\t\t\teventType: 'onLogged',\n\t\t});\n\t}\n\n\tasync setupListener(): Promise<void> {\n\t\tNotifications.onLogged(this.eventName, async (t: string, { _id, ...record }: { _id: string }) => {\n\t\t\tthis.log('record received', t, { _id, ...record });\n\t\t\tthis.collection.upsert({ _id }, record);\n\t\t\tthis.sync();\n\t\t});\n\t}\n\n\tstatic instance: PrivateSettingsCachedCollection;\n\n\tstatic get(): PrivateSettingsCachedCollection {\n\t\tif (!PrivateSettingsCachedCollection.instance) {\n\t\t\tPrivateSettingsCachedCollection.instance = new PrivateSettingsCachedCollection();\n\t\t}\n\n\t\treturn PrivateSettingsCachedCollection.instance;\n\t}\n}\n"]}