{"version":3,"sources":["meteor://ðŸ’»app/client/views/directory/DirectoryPage.js"],"names":["_slicedToArray","module","link","default","v","Tabs","React","useEffect","useCallback","Page","useCurrentRoute","useRoute","useRouteParameter","useSetting","useTranslation","ChannelsTab","TeamsTab","UserTab","DirectoryPage","t","defaultTab","federationEnabled","routeName","tab","directoryRoute","replace","handleTabClick","push","displayName","exportDefault"],"mappings":"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","file":"dynamic/client/views/directory/DirectoryPage.js","sourcesContent":["import { Tabs } from '@rocket.chat/fuselage';\nimport React, { useEffect, useCallback } from 'react';\n\nimport Page from '../../components/Page';\nimport { useCurrentRoute, useRoute, useRouteParameter } from '../../contexts/RouterContext';\nimport { useSetting } from '../../contexts/SettingsContext';\nimport { useTranslation } from '../../contexts/TranslationContext';\nimport ChannelsTab from './ChannelsTab';\nimport TeamsTab from './TeamsTab';\nimport UserTab from './UserTab';\n\nfunction DirectoryPage() {\n\tconst t = useTranslation();\n\n\tconst defaultTab = useSetting('Accounts_Directory_DefaultView');\n\tconst federationEnabled = useSetting('FEDERATION_Enabled');\n\tconst [routeName] = useCurrentRoute();\n\tconst tab = useRouteParameter('tab');\n\tconst directoryRoute = useRoute('directory');\n\n\tuseEffect(() => {\n\t\tif (routeName !== 'directory') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!tab || (tab === 'external' && !federationEnabled)) {\n\t\t\treturn directoryRoute.replace({ tab: defaultTab });\n\t\t}\n\t}, [routeName, directoryRoute, tab, federationEnabled, defaultTab]);\n\n\tconst handleTabClick = useCallback((tab) => () => directoryRoute.push({ tab }), [directoryRoute]);\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Directory')} />\n\t\t\t<Tabs flexShrink={0}>\n\t\t\t\t<Tabs.Item selected={tab === 'channels'} onClick={handleTabClick('channels')}>\n\t\t\t\t\t{t('Channels')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t<Tabs.Item selected={tab === 'users'} onClick={handleTabClick('users')}>\n\t\t\t\t\t{t('Users')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t<Tabs.Item selected={tab === 'teams'} onClick={handleTabClick('teams')}>\n\t\t\t\t\t{t('Teams')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t{federationEnabled && (\n\t\t\t\t\t<Tabs.Item selected={tab === 'external'} onClick={handleTabClick('external')}>\n\t\t\t\t\t\t{t('External_Users')}\n\t\t\t\t\t</Tabs.Item>\n\t\t\t\t)}\n\t\t\t</Tabs>\n\t\t\t<Page.Content>\n\t\t\t\t{(tab === 'users' && <UserTab />) ||\n\t\t\t\t\t(tab === 'channels' && <ChannelsTab />) ||\n\t\t\t\t\t(tab === 'teams' && <TeamsTab />) ||\n\t\t\t\t\t(federationEnabled && tab === 'external' && <UserTab workspace='external' />)}\n\t\t\t</Page.Content>\n\t\t</Page>\n\t);\n}\n\nDirectoryPage.displayName = 'DirectoryPage';\n\nexport default DirectoryPage;\n"]}