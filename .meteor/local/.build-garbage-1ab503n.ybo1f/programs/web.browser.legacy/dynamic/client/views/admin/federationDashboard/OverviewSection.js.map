{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/federationDashboard/OverviewSection.js"],"names":["Box","Skeleton","module","link","v","React","useMemo","CounterSet","useTranslation","AsyncStatePhase","usePolledMethodData","OverviewSection","t","overviewData","value","overviewStatus","phase","eventCount","LOADING","REJECTED","data","userCount","serverCount","count","description","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/federationDashboard/OverviewSection.js","sourcesContent":["import { Box, Skeleton } from '@rocket.chat/fuselage';\nimport React, { useMemo } from 'react';\n\nimport CounterSet from '../../../components/data/CounterSet';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { AsyncStatePhase } from '../../../hooks/useAsyncState';\nimport { usePolledMethodData } from '../../../hooks/usePolledMethodData';\n\nfunction OverviewSection() {\n\tconst t = useTranslation();\n\tconst { value: overviewData, phase: overviewStatus } = usePolledMethodData(\n\t\t'federation:getOverviewData',\n\t\tuseMemo(() => [], []),\n\t\t10000,\n\t);\n\n\tconst eventCount =\n\t\t(overviewStatus === AsyncStatePhase.LOADING && <Skeleton variant='text' />) ||\n\t\t(overviewStatus === AsyncStatePhase.REJECTED && <Box color='danger'>Error</Box>) ||\n\t\toverviewData?.data[0]?.value;\n\tconst userCount =\n\t\t(overviewStatus === AsyncStatePhase.LOADING && <Skeleton variant='text' />) ||\n\t\t(overviewStatus === AsyncStatePhase.REJECTED && <Box color='danger'>Error</Box>) ||\n\t\toverviewData?.data[1]?.value;\n\tconst serverCount =\n\t\t(overviewStatus === AsyncStatePhase.LOADING && <Skeleton variant='text' />) ||\n\t\t(overviewStatus === AsyncStatePhase.REJECTED && <Box color='danger'>Error</Box>) ||\n\t\toverviewData?.data[2]?.value;\n\n\treturn (\n\t\t<CounterSet\n\t\t\tcounters={[\n\t\t\t\t{\n\t\t\t\t\tcount: eventCount,\n\t\t\t\t\tdescription: t('Number_of_events'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcount: userCount,\n\t\t\t\t\tdescription: t('Number_of_federated_users'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcount: serverCount,\n\t\t\t\t\tdescription: t('Number_of_federated_servers'),\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t);\n}\n\nexport default OverviewSection;\n"]}