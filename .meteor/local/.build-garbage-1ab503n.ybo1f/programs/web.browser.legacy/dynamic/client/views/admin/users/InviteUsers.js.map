{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/users/InviteUsers.js"],"names":["_regeneratorRuntime","module","link","default","v","_slicedToArray","_objectWithoutProperties","export","InviteUsers","Box","Button","Icon","TextAreaInput","React","useCallback","useState","validateEmail","VerticalBar","useMethod","useToastMessageDispatch","useTranslation","data","props","t","dispatchToastMessage","text","setText","sendInvites","getEmails","split","filter","val","handleClick","type","message","e","currentTarget","value","length"],"mappings":";;;;;;;;;;AAAA,IAAIA,mBAAJ;;AAAwBC,MAAM,CAACC,IAAP,CAAY,4BAAZ,EAAyC;AAACC,SAAO,EAAC,UAASC,CAAT,EAAW;AAACJ,uBAAmB,GAACI,CAApB;AAAsB;AAA3C,CAAzC,EAAsF,CAAtF;;AAAyF,IAAIC,cAAJ;;AAAmBJ,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAACC,SAAO,EAAC,UAASC,CAAT,EAAW;AAACC,kBAAc,GAACD,CAAf;AAAiB;AAAtC,CAAnD,EAA2F,CAA3F;;AAA8F,IAAIE,wBAAJ;;AAA6BL,MAAM,CAACC,IAAP,CAAY,gDAAZ,EAA6D;AAACC,SAAO,EAAC,UAASC,CAAT,EAAW;AAACE,4BAAwB,GAACF,CAAzB;AAA2B;AAAhD,CAA7D,EAA+G,CAA/G;AAA/PH,MAAM,CAACM,MAAP,CAAc;AAACC,aAAW,EAAC,YAAU;AAAC,WAAOA,WAAP;AAAmB;AAA3C,CAAd;AAA4D,IAAIC,GAAJ,EAAQC,MAAR,EAAeC,IAAf,EAAoBC,aAApB;AAAkCX,MAAM,CAACC,IAAP,CAAY,uBAAZ,EAAoC;AAACO,KAAG,EAAC,UAASL,CAAT,EAAW;AAACK,OAAG,GAACL,CAAJ;AAAM,GAAvB;AAAwBM,QAAM,EAAC,UAASN,CAAT,EAAW;AAACM,UAAM,GAACN,CAAP;AAAS,GAApD;AAAqDO,MAAI,EAAC,UAASP,CAAT,EAAW;AAACO,QAAI,GAACP,CAAL;AAAO,GAA7E;AAA8EQ,eAAa,EAAC,UAASR,CAAT,EAAW;AAACQ,iBAAa,GAACR,CAAd;AAAgB;AAAxH,CAApC,EAA8J,CAA9J;AAAiK,IAAIS,KAAJ,EAAUC,WAAV,EAAsBC,QAAtB;AAA+Bd,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAC,aAAQ,UAASE,CAAT,EAAW;AAACS,SAAK,GAACT,CAAN;AAAQ,GAA7B;AAA8BU,aAAW,EAAC,UAASV,CAAT,EAAW;AAACU,eAAW,GAACV,CAAZ;AAAc,GAApE;AAAqEW,UAAQ,EAAC,UAASX,CAAT,EAAW;AAACW,YAAQ,GAACX,CAAT;AAAW;AAArG,CAApB,EAA2H,CAA3H;AAA8H,IAAIY,aAAJ;AAAkBf,MAAM,CAACC,IAAP,CAAY,gCAAZ,EAA6C;AAACc,eAAa,EAAC,UAASZ,CAAT,EAAW;AAACY,iBAAa,GAACZ,CAAd;AAAgB;AAA3C,CAA7C,EAA0F,CAA1F;AAA6F,IAAIa,WAAJ;AAAgBhB,MAAM,CAACC,IAAP,CAAY,iCAAZ,EAA8C;AAAC,aAAQ,UAASE,CAAT,EAAW;AAACa,eAAW,GAACb,CAAZ;AAAc;AAAnC,CAA9C,EAAmF,CAAnF;AAAsF,IAAIc,SAAJ;AAAcjB,MAAM,CAACC,IAAP,CAAY,iCAAZ,EAA8C;AAACgB,WAAS,EAAC,UAASd,CAAT,EAAW;AAACc,aAAS,GAACd,CAAV;AAAY;AAAnC,CAA9C,EAAmF,CAAnF;AAAsF,IAAIe,uBAAJ;AAA4BlB,MAAM,CAACC,IAAP,CAAY,wCAAZ,EAAqD;AAACiB,yBAAuB,EAAC,UAASf,CAAT,EAAW;AAACe,2BAAuB,GAACf,CAAxB;AAA0B;AAA/D,CAArD,EAAsH,CAAtH;AAAyH,IAAIgB,cAAJ;AAAmBnB,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAACkB,gBAAc,EAAC,UAAShB,CAAT,EAAW;AAACgB,kBAAc,GAAChB,CAAf;AAAiB;AAA7C,CAAnD,EAAkG,CAAlG;;AASt3B,SAASI,WAAT,OAAyC;AAAA,MAAlBa,IAAkB,QAAlBA,IAAkB;AAAA,MAATC,KAAS;;AAC/C,MAAMC,CAAC,GAAGH,cAAc,EAAxB;AACA,MAAMI,oBAAoB,GAAGL,uBAAuB,EAApD;;AACA,kBAAwBJ,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAOU,IAAP;AAAA,MAAaC,OAAb;;AACA,MAAMC,WAAW,GAAGT,SAAS,CAAC,qBAAD,CAA7B;AACA,MAAMU,SAAS,GAAGd,WAAW,CAAC,UAACW,IAAD;AAAA,WAAUA,IAAI,CAACI,KAAL,CAAW,UAAX,EAAuBC,MAAvB,CAA8B,UAACC,GAAD;AAAA,aAASf,aAAa,CAACe,GAAD,CAAtB;AAAA,KAA9B,CAAV;AAAA,GAAD,EAAuE,EAAvE,CAA7B;;AACA,MAAMC,WAAW;AAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAEZL,WAAW,CAACC,SAAS,CAACH,IAAD,CAAV,CAFC;;AAAA;AAGlBD,oCAAoB,CAAC;AAAES,sBAAI,EAAE,SAAR;AAAmBC,yBAAO,EAAEX,CAAC,CAAC,2BAAD;AAA7B,iBAAD,CAApB;AAHkB;AAAA;;AAAA;AAAA;AAAA;AAKlBC,oCAAoB,CAAC;AAAES,sBAAI,EAAE,OAAR;AAAiBC,yBAAO,EAAE,YAAMA;AAAhC,iBAAD,CAApB;;AALkB;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAH;AAAA,KAAjB;;AAQA,sBACC,oBAAC,WAAD,CAAa,iBAAb,EAAmCZ,KAAnC,eACC,oBAAC,GAAD;AAAK,MAAE,EAAC,IAAR;AAAa,aAAS,EAAC,IAAvB;AAA4B,MAAE,EAAC;AAA/B,KACEC,CAAC,CAAC,uBAAD,CADH,CADD,eAIC,oBAAC,GAAD;AAAK,aAAS,EAAC,IAAf;AAAoB,MAAE,EAAC;AAAvB,KACEA,CAAC,CAAC,4BAAD,CADH,CAJD,eAOC,oBAAC,aAAD;AAAe,QAAI,EAAE,CAArB;AAAwB,YAAQ,EAAE,CAAlC;AAAqC,YAAQ,EAAE,UAACY,CAAD;AAAA,aAAOT,OAAO,CAACS,CAAC,CAACC,aAAF,CAAgBC,KAAjB,CAAd;AAAA;AAA/C,IAPD,eAQC,oBAAC,MAAD;AAAQ,WAAO,MAAf;AAAgB,WAAO,EAAEL,WAAzB;AAAsC,YAAQ,EAAE,CAACJ,SAAS,CAACH,IAAD,CAAT,CAAgBa,MAAjE;AAAyE,cAAU,EAAC,SAApF;AAA8F,MAAE,EAAC;AAAjG,kBACC,oBAAC,IAAD;AAAM,QAAI,EAAC,MAAX;AAAkB,QAAI,EAAC;AAAvB,IADD,EAEEf,CAAC,CAAC,MAAD,CAFH,CARD,CADD;AAeA,C","file":"dynamic/client/views/admin/users/InviteUsers.js","sourcesContent":["import { Box, Button, Icon, TextAreaInput } from '@rocket.chat/fuselage';\nimport React, { useCallback, useState } from 'react';\n\nimport { validateEmail } from '../../../../lib/emailValidator';\nimport VerticalBar from '../../../components/VerticalBar';\nimport { useMethod } from '../../../contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\n\nexport function InviteUsers({ data, ...props }) {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst [text, setText] = useState('');\n\tconst sendInvites = useMethod('sendInvitationEmail');\n\tconst getEmails = useCallback((text) => text.split(/[\\ ,;]+/i).filter((val) => validateEmail(val)), []);\n\tconst handleClick = async () => {\n\t\ttry {\n\t\t\tawait sendInvites(getEmails(text));\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Emails_sent_successfully!') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error.message });\n\t\t}\n\t};\n\treturn (\n\t\t<VerticalBar.ScrollableContent {...props}>\n\t\t\t<Box is='h2' fontScale='h2' mb='x8'>\n\t\t\t\t{t('Send_invitation_email')}\n\t\t\t</Box>\n\t\t\t<Box fontScale='p2' mb='x8'>\n\t\t\t\t{t('Send_invitation_email_info')}\n\t\t\t</Box>\n\t\t\t<TextAreaInput rows={5} flexGrow={0} onChange={(e) => setText(e.currentTarget.value)} />\n\t\t\t<Button primary onClick={handleClick} disabled={!getEmails(text).length} alignItems='stretch' mb='x8'>\n\t\t\t\t<Icon name='send' size='x16' />\n\t\t\t\t{t('Send')}\n\t\t\t</Button>\n\t\t</VerticalBar.ScrollableContent>\n\t);\n}\n"]}