{"version":3,"sources":["meteor://ðŸ’»app/client/views/root/BlazeTemplate.tsx"],"names":[],"mappings":";;;;;;;;AAAA;AAAS,MAAO,KAAP,CAAa,cAAb,EAA4B;AAAA;AAAA;AAAA;AAAA,CAA5B,EAA4B,CAA5B;AAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWrC,IAAM,WAAW,GAAG;AAAE,SAAO,EAAE;AAAX,CAApB;;AAEA,IAAM,aAAa,GAA2B,gBAAuB;AAAA,MAApB,QAAoB,QAApB,QAAoB;AAAA,MAAV,IAAU,QAAV,IAAU;AACpE,MAAM,GAAG,GAAG,MAAM,CAAiB,IAAjB,CAAlB;AACA,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,YAAJ,EAAD,CAAtB;AAEA,WAAS,CAAC,YAAK;AACd,QAAI,IAAJ,EAAU;AACT,aAAO,CAAC,OAAR,CAAgB,GAAhB,CAAoB,IAApB;AACA;AACD,GAJQ,CAAT;AAMA,WAAS,CAAC,YAAK;AACd,QAAI,CAAC,GAAG,CAAC,OAAL,IAAgB,CAAC,GAAG,CAAC,OAAJ,CAAY,UAAjC,EAA6C;AAC5C;AACA;;AAED,QAAM,IAAI,GAAG,OAAO,CAAC,OAArB;AAEA,QAAM,IAAI,GAAG,KAAK,CAAC,cAAN,CAAqB,QAAQ,CAAC,QAAD,CAA7B,EAAyC;AAAA,aAAM,IAAI,CAAC,GAAL,EAAN;AAAA,KAAzC,EAA2D,GAAG,CAAC,OAAJ,CAAY,UAAvE,EAAmF,GAAG,CAAC,OAAvF,CAAb;AAEA,WAAO,YAAW;AACjB,WAAK,CAAC,MAAN,CAAa,IAAb;AACA,KAFD;AAGA,GAZQ,EAYN,CAAC,QAAD,CAZM,CAAT;AAcA,sBAAO;AAAK,OAAG,EAAE,GAAV;AAAe,+BAAf;AAAmC,SAAK,EAAE;AAA1C,IAAP;AACA,CAzBD;;AAbA,OAAO,aAAP,CAwCe,aAxCf,E","file":"dynamic/client/views/root/BlazeTemplate.tsx","sourcesContent":["import { Blaze } from 'meteor/blaze';\nimport { EJSONable } from 'meteor/ejson';\nimport { ReactiveDict } from 'meteor/reactive-dict';\nimport { Template } from 'meteor/templating';\nimport React, { FC, useEffect, useRef } from 'react';\n\ntype BlazeTemplateProps = {\n\ttemplate: keyof typeof Template;\n\tdata?: EJSONable;\n};\n\nconst hiddenStyle = { display: 'none' } as const;\n\nconst BlazeTemplate: FC<BlazeTemplateProps> = ({ template, data }) => {\n\tconst ref = useRef<HTMLDivElement>(null);\n\tconst dataRef = useRef(new ReactiveDict());\n\n\tuseEffect(() => {\n\t\tif (data) {\n\t\t\tdataRef.current.set(data);\n\t\t}\n\t});\n\n\tuseEffect(() => {\n\t\tif (!ref.current || !ref.current.parentNode) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst data = dataRef.current;\n\n\t\tconst view = Blaze.renderWithData(Template[template], () => data.all(), ref.current.parentNode, ref.current);\n\n\t\treturn (): void => {\n\t\t\tBlaze.remove(view);\n\t\t};\n\t}, [template]);\n\n\treturn <div ref={ref} data-blaze-template style={hiddenStyle} />;\n};\n\nexport default BlazeTemplate;\n"]}