{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/sidebar/AdminSidebar.js"],"names":["_slicedToArray","module","link","default","v","_toConsumableArray","React","useCallback","useMemo","useEffect","memo","menu","SideNav","PlanTag","Sidebar","useAtLeastOnePermission","useRoutePath","useCurrentRoute","useTranslation","isLayoutEmbedded","SettingsProvider","AdminSidebarPages","AdminSidebarSettings","AdminSidebar","t","canViewSettings","closeAdminFlex","close","closeFlex","currentRoute","currentPath","currentRouteGroupName","toggleFlex","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/sidebar/AdminSidebar.js","sourcesContent":["import React, { useCallback, useMemo, useEffect, memo } from 'react';\n\nimport { menu, SideNav } from '../../../../app/ui-utils/client';\nimport PlanTag from '../../../components/PlanTag';\nimport Sidebar from '../../../components/Sidebar';\nimport { useAtLeastOnePermission } from '../../../contexts/AuthorizationContext';\nimport { useRoutePath, useCurrentRoute } from '../../../contexts/RouterContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { isLayoutEmbedded } from '../../../lib/utils/isLayoutEmbedded';\nimport SettingsProvider from '../../../providers/SettingsProvider';\nimport AdminSidebarPages from './AdminSidebarPages';\nimport AdminSidebarSettings from './AdminSidebarSettings';\n\nfunction AdminSidebar() {\n\tconst t = useTranslation();\n\n\tconst canViewSettings = useAtLeastOnePermission(\n\t\tuseMemo(() => ['view-privileged-setting', 'edit-privileged-setting', 'manage-selected-settings'], []),\n\t);\n\n\tconst closeAdminFlex = useCallback(() => {\n\t\tif (isLayoutEmbedded()) {\n\t\t\tmenu.close();\n\t\t\treturn;\n\t\t}\n\n\t\tSideNav.closeFlex();\n\t}, []);\n\n\tconst currentRoute = useCurrentRoute();\n\tconst currentPath = useRoutePath(...currentRoute);\n\tconst [, , , currentRouteGroupName] = currentRoute;\n\n\tuseEffect(() => {\n\t\tif (currentRouteGroupName !== 'admin') {\n\t\t\tSideNav.toggleFlex(-1);\n\t\t}\n\t}, [currentRouteGroupName]);\n\n\t// TODO: uplift this provider\n\treturn (\n\t\t<SettingsProvider privileged>\n\t\t\t<Sidebar>\n\t\t\t\t<Sidebar.Header\n\t\t\t\t\tonClose={closeAdminFlex}\n\t\t\t\t\ttitle={\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{t('Administration')} <PlanTag />\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Sidebar.Content>\n\t\t\t\t\t<AdminSidebarPages currentPath={currentPath} />\n\t\t\t\t\t{canViewSettings && <AdminSidebarSettings currentPath={currentPath} />}\n\t\t\t\t</Sidebar.Content>\n\t\t\t</Sidebar>\n\t\t</SettingsProvider>\n\t);\n}\n\nexport default memo(AdminSidebar);\n"]}