{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/cloud/PasteStep.tsx"],"names":[],"mappings":"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","file":"dynamic/client/views/admin/cloud/PasteStep.tsx","sourcesContent":["import { Box, Button, ButtonGroup, Scrollable, Throbber, Modal } from '@rocket.chat/fuselage';\nimport React, { ChangeEvent, FC, useState } from 'react';\n\nimport { useEndpoint } from '../../../contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\n\ntype PasteStepProps = {\n\tonBackButtonClick: () => void;\n\tonFinish: () => void;\n};\n\nconst PasteStep: FC<PasteStepProps> = ({ onBackButtonClick, onFinish }) => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst [isLoading, setLoading] = useState(false);\n\tconst [cloudKey, setCloudKey] = useState('');\n\n\tconst handleCloudKeyChange = (e: ChangeEvent<HTMLInputElement>): void => {\n\t\tsetCloudKey(e.currentTarget.value);\n\t};\n\n\tconst registerManually = useEndpoint('POST', 'cloud.manualRegister');\n\n\tconst handleFinishButtonClick = async (): Promise<void> => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait registerManually({ cloudBlob: cloudKey });\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Cloud_register_success') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: t('Cloud_register_error') });\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t\tonFinish?.();\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Modal.Content>\n\t\t\t\t<Box withRichContent>\n\t\t\t\t\t<p>{t('Cloud_register_offline_finish_helper')}</p>\n\t\t\t\t</Box>\n\t\t\t\t<Box display='flex' flexDirection='column' alignItems='stretch' padding='x16' flexGrow={1} backgroundColor='neutral-800'>\n\t\t\t\t\t<Scrollable vertical>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tis='textarea'\n\t\t\t\t\t\t\theight='x108'\n\t\t\t\t\t\t\tfontFamily='mono'\n\t\t\t\t\t\t\tfontScale='p2'\n\t\t\t\t\t\t\tcolor='alternative'\n\t\t\t\t\t\t\tstyle={{ wordBreak: 'break-all', resize: 'none' }}\n\t\t\t\t\t\t\tplaceholder={t('Paste_here')}\n\t\t\t\t\t\t\tdisabled={isLoading}\n\t\t\t\t\t\t\tvalue={cloudKey}\n\t\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\t\tautoCorrect='off'\n\t\t\t\t\t\t\tautoCapitalize='off'\n\t\t\t\t\t\t\tspellCheck='false'\n\t\t\t\t\t\t\tonChange={handleCloudKeyChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Scrollable>\n\t\t\t\t</Box>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button disabled={isLoading} onClick={onBackButtonClick}>\n\t\t\t\t\t\t{t('Back')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button primary disabled={isLoading || !cloudKey.trim()} marginInlineStart='auto' onClick={handleFinishButtonClick}>\n\t\t\t\t\t\t{isLoading ? <Throbber inheritColor /> : t('Finish_Registration')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Modal.Footer>\n\t\t</>\n\t);\n};\n\nexport default PasteStep;\n"]}