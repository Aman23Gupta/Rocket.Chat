{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/directory/chats/contextualBar/VisitorData.js"],"names":["Box","module","link","v","React","useTranslation","AsyncStatePhase","useEndpointData","FormSkeleton","RoomEdit","VisitorData","room","reload","reloadInfo","close","t","_id","visitor","value","stateVisitor","phase","errorVisitor","error","includes","LOADING","visitorData","roomData","exportDefault"],"mappings":";;;;;;;;AAAA,IAAIA,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,uBAAZ,EAAoC;AAACF,KAAG,EAAC,UAASG,CAAT,EAAW;AAACH,OAAG,GAACG,CAAJ;AAAM;AAAvB,CAApC,EAA6D,CAA7D;AAAgE,IAAIC,KAAJ;AAAUH,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAC,aAAQ,UAASC,CAAT,EAAW;AAACC,SAAK,GAACD,CAAN;AAAQ;AAA7B,CAApB,EAAmD,CAAnD;AAAsD,IAAIE,cAAJ;AAAmBJ,MAAM,CAACC,IAAP,CAAY,4CAAZ,EAAyD;AAACG,gBAAc,EAAC,UAASF,CAAT,EAAW;AAACE,kBAAc,GAACF,CAAf;AAAiB;AAA7C,CAAzD,EAAwG,CAAxG;AAA2G,IAAIG,eAAJ;AAAoBL,MAAM,CAACC,IAAP,CAAY,oCAAZ,EAAiD;AAACI,iBAAe,EAAC,UAASH,CAAT,EAAW;AAACG,mBAAe,GAACH,CAAhB;AAAkB;AAA/C,CAAjD,EAAkG,CAAlG;AAAqG,IAAII,eAAJ;AAAoBN,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAACK,iBAAe,EAAC,UAASJ,CAAT,EAAW;AAACI,mBAAe,GAACJ,CAAhB;AAAkB;AAA/C,CAAnD,EAAoG,CAApG;AAAuG,IAAIK,YAAJ;AAAiBP,MAAM,CAACC,IAAP,CAAY,gBAAZ,EAA6B;AAACM,cAAY,EAAC,UAASL,CAAT,EAAW;AAACK,gBAAY,GAACL,CAAb;AAAe;AAAzC,CAA7B,EAAwE,CAAxE;AAA2E,IAAIM,QAAJ;AAAaR,MAAM,CAACC,IAAP,CAAY,YAAZ,EAAyB;AAAC,aAAQ,UAASC,CAAT,EAAW;AAACM,YAAQ,GAACN,CAAT;AAAW;AAAhC,CAAzB,EAA2D,CAA3D;;AASnmB,SAASO,WAAT,OAA0D;AAAA,MAAnCC,IAAmC,QAAnCA,IAAmC;AAAA,MAA7BC,MAA6B,QAA7BA,MAA6B;AAAA,MAArBC,UAAqB,QAArBA,UAAqB;AAAA,MAATC,KAAS,QAATA,KAAS;AACzD,MAAMC,CAAC,GAAGV,cAAc,EAAxB;AAEA,MAEOW,GAFP,GAIIL,IAJJ,CACCA,IADD,CAEER,CAFF,CAEOa,GAFP;;AAMA,yBAAqET,eAAe,uCAAqCS,GAArC,CAApF;AAAA,MAAeC,OAAf,oBAAQC,KAAR;AAAA,MAA+BC,YAA/B,oBAAwBC,KAAxB;AAAA,MAAoDC,YAApD,oBAA6CC,KAA7C;;AAEA,MAAI,CAACH,YAAD,EAAeI,QAAf,CAAwBjB,eAAe,CAACkB,OAAxC,CAAJ,EAAsD;AACrD,wBAAO,oBAAC,YAAD,OAAP;AACA;;AAED,MAAIH,YAAY,IAAI,CAACJ,OAAjB,IAA4B,CAACA,OAAO,CAACA,OAAzC,EAAkD;AACjD,wBAAO,oBAAC,GAAD;AAAK,SAAG,EAAC;AAAT,OAAgBF,CAAC,CAAC,mBAAD,CAAjB,CAAP;AACA;;AAED,MAAiBU,WAAjB,GAAiCR,OAAjC,CAAQA,OAAR;AACA,MAAcS,QAAd,GAA2Bf,IAA3B,CAAQA,IAAR;AAEA,sBAAO,oBAAC,QAAD;AAAU,QAAI,EAAEe,QAAhB;AAA0B,WAAO,EAAED,WAAnC;AAAgD,UAAM,EAAEb,MAAxD;AAAgE,cAAU,EAAEC,UAA5E;AAAwF,SAAK,EAAEC;AAA/F,IAAP;AACA;;AAhCDb,MAAM,CAAC0B,aAAP,CAkCejB,WAlCf,E","file":"dynamic/client/views/omnichannel/directory/chats/contextualBar/VisitorData.js","sourcesContent":["import { Box } from '@rocket.chat/fuselage';\nimport React from 'react';\n\nimport { useTranslation } from '../../../../../contexts/TranslationContext';\nimport { AsyncStatePhase } from '../../../../../hooks/useAsyncState';\nimport { useEndpointData } from '../../../../../hooks/useEndpointData';\nimport { FormSkeleton } from '../../Skeleton';\nimport RoomEdit from './RoomEdit';\n\nfunction VisitorData({ room, reload, reloadInfo, close }) {\n\tconst t = useTranslation();\n\n\tconst {\n\t\troom: {\n\t\t\tv: { _id },\n\t\t},\n\t} = room;\n\n\tconst { value: visitor, phase: stateVisitor, error: errorVisitor } = useEndpointData(`livechat/visitors.info?visitorId=${_id}`);\n\n\tif ([stateVisitor].includes(AsyncStatePhase.LOADING)) {\n\t\treturn <FormSkeleton />;\n\t}\n\n\tif (errorVisitor || !visitor || !visitor.visitor) {\n\t\treturn <Box mbs='x16'>{t('Visitor_not_found')}</Box>;\n\t}\n\n\tconst { visitor: visitorData } = visitor;\n\tconst { room: roomData } = room;\n\n\treturn <RoomEdit room={roomData} visitor={visitorData} reload={reload} reloadInfo={reloadInfo} close={close} />;\n}\n\nexport default VisitorData;\n"]}