{"version":3,"sources":["meteor://ğŸ’»app/client/views/admin/integrations/new/NewIncomingWebhook.js"],"names":["_regeneratorRuntime","module","link","default","v","_extends","_objectSpread","export","NewIncomingWebhook","Field","Box","Margins","Button","React","useCallback","useMemo","useRoute","useTranslation","useEndpointAction","useForm","IncomingWebhookForm","initialState","enabled","channel","username","name","alias","avatarUrl","emoji","scriptEnabled","script","props","t","router","formValues","values","formHandlers","handlers","reset","params","type","saveAction","handleSave","result","success","push","context","id","integration","_id","actionButtons"],"mappings":";;;;;;;;AAAA,IAAIA,mBAAJ;;AAAwBC,MAAM,CAACC,IAAP,CAAY,4BAAZ,EAAyC;AAACC,SAAO,EAAC,UAASC,CAAT,EAAW;AAACJ,uBAAmB,GAACI,CAApB;AAAsB;AAA3C,CAAzC,EAAsF,CAAtF;;AAAyF,IAAIC,QAAJ;;AAAaJ,MAAM,CAACC,IAAP,CAAY,gCAAZ,EAA6C;AAACC,SAAO,EAAC,UAASC,CAAT,EAAW;AAACC,YAAQ,GAACD,CAAT;AAAW;AAAhC,CAA7C,EAA+E,CAA/E;;AAAkF,IAAIE,aAAJ;;AAAkBL,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAACC,SAAO,EAAC,UAASC,CAAT,EAAW;AAACE,iBAAa,GAACF,CAAd;AAAgB;AAArC,CAAnD,EAA0F,CAA1F;AAAlOH,MAAM,CAACM,MAAP,CAAc;AAAC,aAAQ,YAAU;AAAC,WAAOC,kBAAP;AAA0B;AAA9C,CAAd;AAA+D,IAAIC,KAAJ,EAAUC,GAAV,EAAcC,OAAd,EAAsBC,MAAtB;AAA6BX,MAAM,CAACC,IAAP,CAAY,uBAAZ,EAAoC;AAACO,OAAK,EAAC,UAASL,CAAT,EAAW;AAACK,SAAK,GAACL,CAAN;AAAQ,GAA3B;AAA4BM,KAAG,EAAC,UAASN,CAAT,EAAW;AAACM,OAAG,GAACN,CAAJ;AAAM,GAAlD;AAAmDO,SAAO,EAAC,UAASP,CAAT,EAAW;AAACO,WAAO,GAACP,CAAR;AAAU,GAAjF;AAAkFQ,QAAM,EAAC,UAASR,CAAT,EAAW;AAACQ,UAAM,GAACR,CAAP;AAAS;AAA9G,CAApC,EAAoJ,CAApJ;AAAuJ,IAAIS,KAAJ,EAAUC,WAAV,EAAsBC,OAAtB;AAA8Bd,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAC,aAAQ,UAASE,CAAT,EAAW;AAACS,SAAK,GAACT,CAAN;AAAQ,GAA7B;AAA8BU,aAAW,EAAC,UAASV,CAAT,EAAW;AAACU,eAAW,GAACV,CAAZ;AAAc,GAApE;AAAqEW,SAAO,EAAC,UAASX,CAAT,EAAW;AAACW,WAAO,GAACX,CAAR;AAAU;AAAnG,CAApB,EAAyH,CAAzH;AAA4H,IAAIY,QAAJ;AAAaf,MAAM,CAACC,IAAP,CAAY,oCAAZ,EAAiD;AAACc,UAAQ,EAAC,UAASZ,CAAT,EAAW;AAACY,YAAQ,GAACZ,CAAT;AAAW;AAAjC,CAAjD,EAAoF,CAApF;AAAuF,IAAIa,cAAJ;AAAmBhB,MAAM,CAACC,IAAP,CAAY,yCAAZ,EAAsD;AAACe,gBAAc,EAAC,UAASb,CAAT,EAAW;AAACa,kBAAc,GAACb,CAAf;AAAiB;AAA7C,CAAtD,EAAqG,CAArG;AAAwG,IAAIc,iBAAJ;AAAsBjB,MAAM,CAACC,IAAP,CAAY,qCAAZ,EAAkD;AAACgB,mBAAiB,EAAC,UAASd,CAAT,EAAW;AAACc,qBAAiB,GAACd,CAAlB;AAAoB;AAAnD,CAAlD,EAAuG,CAAvG;AAA0G,IAAIe,OAAJ;AAAYlB,MAAM,CAACC,IAAP,CAAY,2BAAZ,EAAwC;AAACiB,SAAO,EAAC,UAASf,CAAT,EAAW;AAACe,WAAO,GAACf,CAAR;AAAU;AAA/B,CAAxC,EAAyE,CAAzE;AAA4E,IAAIgB,mBAAJ;AAAwBnB,MAAM,CAACC,IAAP,CAAY,wBAAZ,EAAqC;AAAC,aAAQ,UAASE,CAAT,EAAW;AAACgB,uBAAmB,GAAChB,CAApB;AAAsB;AAA3C,CAArC,EAAkF,CAAlF;AAS51B,IAAMiB,YAAY,GAAG;AACpBC,SAAO,EAAE,KADW;AAEpBC,SAAO,EAAE,EAFW;AAGpBC,UAAQ,EAAE,EAHU;AAIpBC,MAAI,EAAE,EAJc;AAKpBC,OAAK,EAAE,EALa;AAMpBC,WAAS,EAAE,EANS;AAOpBC,OAAK,EAAE,EAPa;AAQpBC,eAAa,EAAE,KARK;AASpBC,QAAM,EAAE;AATY,CAArB;;AAYe,SAAStB,kBAAT,CAA4BuB,KAA5B,EAAmC;AACjD,MAAMC,CAAC,GAAGf,cAAc,EAAxB;AAEA,MAAMgB,MAAM,GAAGjB,QAAQ,CAAC,oBAAD,CAAvB;;AAEA,iBAA8DG,OAAO,CAACE,YAAD,CAArE;AAAA,MAAgBa,UAAhB,YAAQC,MAAR;AAAA,MAAsCC,YAAtC,YAA4BC,QAA5B;AAAA,MAAoDC,KAApD,YAAoDA,KAApD;;AAEA,MAAMC,MAAM,GAAGxB,OAAO,CAAC;AAAA,2CAAYmB,UAAZ;AAAwBM,UAAI,EAAE;AAA9B;AAAA,GAAD,EAAsD,CAACN,UAAD,CAAtD,CAAtB;AACA,MAAMO,UAAU,GAAGvB,iBAAiB,CAAC,MAAD,EAAS,qBAAT,EAAgCqB,MAAhC,EAAwCP,CAAC,CAAC,mBAAD,CAAzC,CAApC;AAEA,MAAMU,UAAU,GAAG5B,WAAW;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDACT2B,UAAU,EADD;;AAAA;AACxBE,sBADwB;;AAE9B,oBAAIA,MAAM,CAACC,OAAX,EAAoB;AACnBX,wBAAM,CAACY,IAAP,CAAY;AAAEC,2BAAO,EAAE,MAAX;AAAmBN,wBAAI,EAAE,UAAzB;AAAqCO,sBAAE,EAAEJ,MAAM,CAACK,WAAP,CAAmBC;AAA5D,mBAAZ;AACA;;AAJ6B;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAD;AAAA,OAK3B,CAAChB,MAAD,EAASQ,UAAT,CAL2B,CAA9B;AAOA,MAAMS,aAAa,GAAGnC,OAAO,CAC5B;AAAA,wBACC,oBAAC,KAAD,qBACC,oBAAC,KAAD,CAAO,GAAP,qBACC,oBAAC,GAAD;AAAK,aAAO,EAAC,MAAb;AAAoB,mBAAa,EAAC,KAAlC;AAAwC,oBAAc,EAAC,eAAvD;AAAuE,OAAC,EAAC;AAAzE,oBACC,oBAAC,OAAD;AAAS,eAAS,EAAC;AAAnB,oBACC,oBAAC,MAAD;AAAQ,cAAQ,EAAE,CAAlB;AAAqB,UAAI,EAAC,OAA1B;AAAkC,aAAO,EAAEuB;AAA3C,OACEN,CAAC,CAAC,OAAD,CADH,CADD,eAIC,oBAAC,MAAD;AAAQ,SAAG,EAAC,MAAZ;AAAmB,cAAQ,EAAE,CAA7B;AAAgC,aAAO,EAAEU;AAAzC,OACEV,CAAC,CAAC,MAAD,CADH,CAJD,CADD,CADD,CADD,CADD;AAAA,GAD4B,EAiB5B,CAACU,UAAD,EAAaJ,KAAb,EAAoBN,CAApB,CAjB4B,CAA7B;AAoBA,sBAAO,oBAAC,mBAAD;AAAqB,cAAU,EAAEE,UAAjC;AAA6C,gBAAY,EAAEE,YAA3D;AAAyE,UAAM,EAAEc;AAAjF,KAAoGnB,KAApG,EAAP;AACA,C","file":"dynamic/client/views/admin/integrations/new/NewIncomingWebhook.js","sourcesContent":["import { Field, Box, Margins, Button } from '@rocket.chat/fuselage';\nimport React, { useCallback, useMemo } from 'react';\n\nimport { useRoute } from '../../../../contexts/RouterContext';\nimport { useTranslation } from '../../../../contexts/TranslationContext';\nimport { useEndpointAction } from '../../../../hooks/useEndpointAction';\nimport { useForm } from '../../../../hooks/useForm';\nimport IncomingWebhookForm from '../IncomingWebhookForm';\n\nconst initialState = {\n\tenabled: false,\n\tchannel: '',\n\tusername: '',\n\tname: '',\n\talias: '',\n\tavatarUrl: '',\n\temoji: '',\n\tscriptEnabled: false,\n\tscript: '',\n};\n\nexport default function NewIncomingWebhook(props) {\n\tconst t = useTranslation();\n\n\tconst router = useRoute('admin-integrations');\n\n\tconst { values: formValues, handlers: formHandlers, reset } = useForm(initialState);\n\n\tconst params = useMemo(() => ({ ...formValues, type: 'webhook-incoming' }), [formValues]);\n\tconst saveAction = useEndpointAction('POST', 'integrations.create', params, t('Integration_added'));\n\n\tconst handleSave = useCallback(async () => {\n\t\tconst result = await saveAction();\n\t\tif (result.success) {\n\t\t\trouter.push({ context: 'edit', type: 'incoming', id: result.integration._id });\n\t\t}\n\t}, [router, saveAction]);\n\n\tconst actionButtons = useMemo(\n\t\t() => (\n\t\t\t<Field>\n\t\t\t\t<Field.Row>\n\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' w='full'>\n\t\t\t\t\t\t<Margins inlineEnd='x4'>\n\t\t\t\t\t\t\t<Button flexGrow={1} type='reset' onClick={reset}>\n\t\t\t\t\t\t\t\t{t('Reset')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button mie='none' flexGrow={1} onClick={handleSave}>\n\t\t\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t</Field.Row>\n\t\t\t</Field>\n\t\t),\n\t\t[handleSave, reset, t],\n\t);\n\n\treturn <IncomingWebhookForm formValues={formValues} formHandlers={formHandlers} append={actionButtons} {...props} />;\n}\n"]}