{"version":3,"sources":["meteor://ðŸ’»app/client/views/setupWizard/hooks/useParameters.ts"],"names":[],"mappings":";;;;;;;;AAAA;;AAAmB,MAAW,KAAX,CAAiB,4BAAjB,EAAyB;AAAA;AAAA;AAAA;AAAA,CAAzB,EAAyB,CAAzB;;AAAyB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAA5C,OAAO,MAAP,CAAS;AAAA,eAAmB,cAAQ;AAAA,WAAQ,aAAR;AAAQ;AAAnC,CAAT;AAA4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKrC,IAAM,aAAa,GAAG,YAIzB;AACH,kBAA4B,QAAQ,CAAU,KAAV,CAApC;AAAA;AAAA,MAAO,MAAP;AAAA,MAAe,SAAf;;AACA,mBAAgC,QAAQ,CAAkB,EAAlB,CAAxC;AAAA;AAAA,MAAO,QAAP;AAAA,MAAiB,WAAjB;;AACA,mBAA8E,QAAQ,CAAU,KAAV,CAAtF;AAAA;AAAA,MAAO,4BAAP;AAAA,MAAqC,qCAArC;;AACA,MAAM,wBAAwB,GAAG,SAAS,CAAC,0BAAD,CAA1C;AAEA,WAAS,CAAC,YAAK;AACd,QAAI,OAAO,GAAG,IAAd;;AACA,QAAM,iBAAiB;AAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAEwC,wBAAwB,EAFhE;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA,gCAEuE,EAFvE;;AAAA;AAAA;AAAA,uCAEhB,QAFgB;AAEhB,2BAFgB,8BAEL,EAFK;AAAA,+CAED,qBAFC;AAED,uCAFC,sCAEuB,KAFvB;;AAAA,sBAInB,OAJmB;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAQxB,2BAAS,CAAC,IAAD,CAAT;AACA,6BAAW,CAAC,SAAD,CAAX;AACA,uDAAqC,CAAC,qBAAD,CAArC;AAVwB;AAAA;;AAAA;AAAA;AAAA;AAYxB,2BAAS,CAAC,KAAD,CAAT;AACA,6BAAW,CAAC,EAAD,CAAX;AACA,uDAAqC,CAAC,KAAD,CAArC;;AAdwB;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAH;AAAA,OAAvB;;AAkBA,qBAAiB;AAEjB,WAAO,YAAW;AACjB,aAAO,GAAG,KAAV;AACA,KAFD;AAGA,GAzBQ,EAyBN,CAAC,wBAAD,CAzBM,CAAT;AA2BA,SAAO;AACN,UAAM,EAAN,MADM;AAEN,YAAQ,EAAR,QAFM;AAGN,gCAA4B,EAA5B;AAHM,GAAP;AAKA,CA1CM,C","file":"dynamic/client/views/setupWizard/hooks/useParameters.ts","sourcesContent":["import { useState, useEffect } from 'react';\n\nimport { ISetting } from '../../../../definition/ISetting';\nimport { useMethod } from '../../../contexts/ServerContext';\n\nexport const useParameters = (): {\n\tloaded: boolean;\n\tsettings: Array<ISetting>;\n\tcanDeclineServerRegistration: boolean;\n} => {\n\tconst [loaded, setLoaded] = useState<boolean>(false);\n\tconst [settings, setSettings] = useState<Array<ISetting>>([]);\n\tconst [canDeclineServerRegistration, setCapableOfDeclineServerRegistration] = useState<boolean>(false);\n\tconst getSetupWizardParameters = useMethod('getSetupWizardParameters');\n\n\tuseEffect(() => {\n\t\tlet mounted = true;\n\t\tconst requestParameters = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tconst { settings = [], allowStandaloneServer = false } = (await getSetupWizardParameters()) || {};\n\n\t\t\t\tif (!mounted) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetLoaded(true);\n\t\t\t\tsetSettings(settings);\n\t\t\t\tsetCapableOfDeclineServerRegistration(allowStandaloneServer);\n\t\t\t} catch (error) {\n\t\t\t\tsetLoaded(false);\n\t\t\t\tsetSettings([]);\n\t\t\t\tsetCapableOfDeclineServerRegistration(false);\n\t\t\t}\n\t\t};\n\n\t\trequestParameters();\n\n\t\treturn (): void => {\n\t\t\tmounted = false;\n\t\t};\n\t}, [getSetupWizardParameters]);\n\n\treturn {\n\t\tloaded,\n\t\tsettings,\n\t\tcanDeclineServerRegistration,\n\t};\n};\n"]}