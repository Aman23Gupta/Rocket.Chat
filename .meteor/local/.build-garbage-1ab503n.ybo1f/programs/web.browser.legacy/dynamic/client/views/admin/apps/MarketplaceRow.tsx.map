{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/apps/MarketplaceRow.tsx"],"names":[],"mappings":"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","file":"dynamic/client/views/admin/apps/MarketplaceRow.tsx","sourcesContent":["import { Box, Table, Tag } from '@rocket.chat/fuselage';\nimport React, { useState, memo, FC, KeyboardEvent, MouseEvent } from 'react';\n\nimport AppAvatar from '../../../components/avatar/AppAvatar';\nimport { useRoute } from '../../../contexts/RouterContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport AppMenu from './AppMenu';\nimport AppStatus from './AppStatus';\nimport PriceDisplay from './PriceDisplay';\nimport { App } from './types';\n\ntype MarketplaceRowProps = {\n\tmedium?: boolean;\n\tlarge?: boolean;\n} & App;\n\nconst MarketplaceRow: FC<MarketplaceRowProps> = ({ medium, large, ...props }) => {\n\tconst {\n\t\tauthor: { name: authorName },\n\t\tname,\n\t\tid,\n\t\tdescription,\n\t\tcategories,\n\t\tpurchaseType,\n\t\tpricingPlans,\n\t\tprice,\n\t\ticonFileData,\n\t\tmarketplaceVersion,\n\t\ticonFileContent,\n\t\tinstalled,\n\t} = props;\n\tconst t = useTranslation();\n\n\tconst [isFocused, setFocused] = useState(false);\n\tconst [isHovered, setHovered] = useState(false);\n\tconst isStatusVisible = isFocused || isHovered;\n\n\tconst marketplaceRoute = useRoute('admin-marketplace');\n\n\tconst handleClick = (): void => {\n\t\tmarketplaceRoute.push({\n\t\t\tcontext: 'details',\n\t\t\tversion: marketplaceVersion,\n\t\t\tid,\n\t\t});\n\t};\n\n\tconst handleKeyDown = (e: KeyboardEvent<HTMLOrSVGElement>): void => {\n\t\tif (!['Enter', 'Space'].includes(e.nativeEvent.code)) {\n\t\t\treturn;\n\t\t}\n\n\t\thandleClick();\n\t};\n\n\tconst preventClickPropagation = (e: MouseEvent<HTMLOrSVGElement>): void => {\n\t\te.stopPropagation();\n\t};\n\n\treturn (\n\t\t<Table.Row\n\t\t\tkey={id}\n\t\t\trole='link'\n\t\t\taction\n\t\t\ttabIndex={0}\n\t\t\tonClick={handleClick}\n\t\t\tonKeyDown={handleKeyDown}\n\t\t\tonFocus={(): void => setFocused(true)}\n\t\t\tonBlur={(): void => setFocused(false)}\n\t\t\tonMouseEnter={(): void => setHovered(true)}\n\t\t\tonMouseLeave={(): void => setHovered(false)}\n\t\t>\n\t\t\t<Table.Cell withTruncatedText display='flex' flexDirection='row'>\n\t\t\t\t<AppAvatar size='x40' mie='x8' alignSelf='center' iconFileContent={iconFileContent} iconFileData={iconFileData} />\n\t\t\t\t<Box display='flex' flexDirection='column' alignSelf='flex-start'>\n\t\t\t\t\t<Box color='default' fontScale='p2m'>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box color='default' fontScale='p2m'>{`${t('By')} ${authorName}`}</Box>\n\t\t\t\t</Box>\n\t\t\t</Table.Cell>\n\t\t\t{large && (\n\t\t\t\t<Table.Cell>\n\t\t\t\t\t<Box display='flex' flexDirection='column'>\n\t\t\t\t\t\t<Box color='default' withTruncatedText>\n\t\t\t\t\t\t\t{description}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{categories && (\n\t\t\t\t\t\t\t<Box color='hint' display='flex' flex-direction='row' withTruncatedText>\n\t\t\t\t\t\t\t\t{categories.map((current) => (\n\t\t\t\t\t\t\t\t\t<Box key={current} mie='x4'>\n\t\t\t\t\t\t\t\t\t\t<Tag disabled>{current}</Tag>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</Table.Cell>\n\t\t\t)}\n\t\t\t{medium && (\n\t\t\t\t<Table.Cell>\n\t\t\t\t\t<PriceDisplay {...{ purchaseType, pricingPlans, price }} />\n\t\t\t\t</Table.Cell>\n\t\t\t)}\n\t\t\t<Table.Cell withTruncatedText>\n\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center' marginInline='neg-x8' onClick={preventClickPropagation}>\n\t\t\t\t\t<AppStatus app={props} showStatus={isStatusVisible} marginInline='x8' />\n\t\t\t\t\t{installed && <AppMenu app={props} invisible={!isStatusVisible} marginInline='x8' />}\n\t\t\t\t</Box>\n\t\t\t</Table.Cell>\n\t\t</Table.Row>\n\t);\n};\n\nexport default memo(MarketplaceRow);\n"]}