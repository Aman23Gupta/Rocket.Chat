{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/agents/AgentEditWithData.js"],"names":["Box","module","link","v","React","FormSkeleton","useTranslation","AsyncStatePhase","useEndpointData","AgentEdit","AgentEditWithData","uid","reload","t","data","value","state","phase","error","userDepartments","userDepartmentsState","userDepartmentsError","availableDepartments","availableDepartmentsState","availableDepartmentsError","includes","LOADING","user","exportDefault"],"mappings":";;;;;;;;AAAA,IAAIA,GAAJ;AAAQC,MAAM,CAACC,IAAP,CAAY,uBAAZ,EAAoC;AAACF,KAAG,EAAC,UAASG,CAAT,EAAW;AAACH,OAAG,GAACG,CAAJ;AAAM;AAAvB,CAApC,EAA6D,CAA7D;AAAgE,IAAIC,KAAJ;AAAUH,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAC,aAAQ,UAASC,CAAT,EAAW;AAACC,SAAK,GAACD,CAAN;AAAQ;AAA7B,CAApB,EAAmD,CAAnD;AAAsD,IAAIE,YAAJ;AAAiBJ,MAAM,CAACC,IAAP,CAAY,8BAAZ,EAA2C;AAACG,cAAY,EAAC,UAASF,CAAT,EAAW;AAACE,gBAAY,GAACF,CAAb;AAAe;AAAzC,CAA3C,EAAsF,CAAtF;AAAyF,IAAIG,cAAJ;AAAmBL,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAACI,gBAAc,EAAC,UAASH,CAAT,EAAW;AAACG,kBAAc,GAACH,CAAf;AAAiB;AAA7C,CAAnD,EAAkG,CAAlG;AAAqG,IAAII,eAAJ;AAAoBN,MAAM,CAACC,IAAP,CAAY,8BAAZ,EAA2C;AAACK,iBAAe,EAAC,UAASJ,CAAT,EAAW;AAACI,mBAAe,GAACJ,CAAhB;AAAkB;AAA/C,CAA3C,EAA4F,CAA5F;AAA+F,IAAIK,eAAJ;AAAoBP,MAAM,CAACC,IAAP,CAAY,gCAAZ,EAA6C;AAACM,iBAAe,EAAC,UAASL,CAAT,EAAW;AAACK,mBAAe,GAACL,CAAhB;AAAkB;AAA/C,CAA7C,EAA8F,CAA9F;AAAiG,IAAIM,SAAJ;AAAcR,MAAM,CAACC,IAAP,CAAY,aAAZ,EAA0B;AAAC,aAAQ,UAASC,CAAT,EAAW;AAACM,aAAS,GAACN,CAAV;AAAY;AAAjC,CAA1B,EAA6D,CAA7D;;AAShmB,SAASO,iBAAT,OAA4C;AAAA,MAAfC,GAAe,QAAfA,GAAe;AAAA,MAAVC,MAAU,QAAVA,MAAU;AAC3C,MAAMC,CAAC,GAAGP,cAAc,EAAxB;;AACA,yBAA6CE,eAAe,2BAAyBG,GAAzB,CAA5D;AAAA,MAAeG,IAAf,oBAAQC,KAAR;AAAA,MAA4BC,KAA5B,oBAAqBC,KAArB;AAAA,MAAmCC,KAAnC,oBAAmCA,KAAnC;;AACA,0BAIIV,eAAe,sBAAoBG,GAApB,kBAJnB;AAAA,MACQQ,eADR,qBACCJ,KADD;AAAA,MAEQK,oBAFR,qBAECH,KAFD;AAAA,MAGQI,oBAHR,qBAGCH,KAHD;;AAKA,0BAIIV,eAAe,CAAC,qBAAD,CAJnB;AAAA,MACQc,oBADR,qBACCP,KADD;AAAA,MAEQQ,yBAFR,qBAECN,KAFD;AAAA,MAGQO,yBAHR,qBAGCN,KAHD;;AAMA,MAAI,CAACF,KAAD,EAAQO,yBAAR,EAAmCH,oBAAnC,EAAyDK,QAAzD,CAAkElB,eAAe,CAACmB,OAAlF,CAAJ,EAAgG;AAC/F,wBAAO,oBAAC,YAAD,OAAP;AACA;;AAED,MAAIR,KAAK,IAAIG,oBAAT,IAAiCG,yBAAjC,IAA8D,CAACV,IAA/D,IAAuE,CAACA,IAAI,CAACa,IAAjF,EAAuF;AACtF,wBAAO,oBAAC,GAAD;AAAK,SAAG,EAAC;AAAT,OAAgBd,CAAC,CAAC,gBAAD,CAAjB,CAAP;AACA;;AAED,sBAAO,oBAAC,SAAD;AAAW,OAAG,EAAEF,GAAhB;AAAqB,QAAI,EAAEG,IAA3B;AAAiC,mBAAe,EAAEK,eAAlD;AAAmE,wBAAoB,EAAEG,oBAAzF;AAA+G,SAAK,EAAEV;AAAtH,IAAP;AACA;;AAhCDX,MAAM,CAAC2B,aAAP,CAkCelB,iBAlCf,E","file":"dynamic/client/views/omnichannel/agents/AgentEditWithData.js","sourcesContent":["import { Box } from '@rocket.chat/fuselage';\nimport React from 'react';\n\nimport { FormSkeleton } from '../../../components/Skeleton';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { AsyncStatePhase } from '../../../hooks/useAsyncState';\nimport { useEndpointData } from '../../../hooks/useEndpointData';\nimport AgentEdit from './AgentEdit';\n\nfunction AgentEditWithData({ uid, reload }) {\n\tconst t = useTranslation();\n\tconst { value: data, phase: state, error } = useEndpointData(`livechat/users/agent/${uid}`);\n\tconst {\n\t\tvalue: userDepartments,\n\t\tphase: userDepartmentsState,\n\t\terror: userDepartmentsError,\n\t} = useEndpointData(`livechat/agents/${uid}/departments`);\n\tconst {\n\t\tvalue: availableDepartments,\n\t\tphase: availableDepartmentsState,\n\t\terror: availableDepartmentsError,\n\t} = useEndpointData('livechat/department');\n\n\tif ([state, availableDepartmentsState, userDepartmentsState].includes(AsyncStatePhase.LOADING)) {\n\t\treturn <FormSkeleton />;\n\t}\n\n\tif (error || userDepartmentsError || availableDepartmentsError || !data || !data.user) {\n\t\treturn <Box mbs='x16'>{t('User_not_found')}</Box>;\n\t}\n\n\treturn <AgentEdit uid={uid} data={data} userDepartments={userDepartments} availableDepartments={availableDepartments} reset={reload} />;\n}\n\nexport default AgentEditWithData;\n"]}