{"version":3,"sources":["meteor://ðŸ’»app/client/views/banners/LegacyBanner.tsx"],"names":[],"mappings":";;;;;;;;AAAA,YAAS,IAAT;AAAe,MAAM,CAAE,IAAR,CAAQ,uBAAR,EAAqC;AAAC;AAAA;AAAA,GAAD;AAAC;AAAA;AAAA;AAAD,CAArC,EAAsC,CAAtC;AAAsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUrD,IAAM,YAAY,GAA0B,gBAAe;AAAA,MAAZ,MAAY,QAAZ,MAAY;AAC1D,yBAAgE,MAAhE,CAAQ,QAAR;AAAA,MAAQ,QAAR,iCAAmB,IAAnB;AAAA,MAAyB,KAAzB,GAAgE,MAAhE,CAAyB,KAAzB;AAAA,MAAgC,IAAhC,GAAgE,MAAhE,CAAgC,IAAhC;AAAA,MAAsC,IAAtC,GAAgE,MAAhE,CAAsC,IAAtC;AAAA,MAA4C,IAA5C,GAAgE,MAAhE,CAA4C,IAA5C;AAAA,MAAkD,SAAlD,GAAgE,MAAhE,CAAkD,SAAlD;AAEA,MAAM,MAAM,GAAG,EAAC,SAAD,aAAC,SAAD,eAAC,SAAS,CAAE,QAAX,CAAoB,OAApB,CAAD,CAAf;AACA,MAAM,OAAO,GAAG,SAAS,SAAT,aAAS,WAAT,aAAS,CAAE,QAAX,CAAoB,QAApB,IAAgC,QAAhC,GAA2C,MAA3D;AAEA,WAAS,CAAC,YAAK;AACd,QAAI,CAAC,MAAM,CAAC,KAAZ,EAAmB;AAClB;AACA;;AAED,QAAM,KAAK,GAAG,UAAU,CAAC,YAAK;AAAA;;AAC7B,+BAAM,CAAC,OAAP,oEAAgB,IAAhB,CAAqB,SAArB;AACA,aAAO,CAAC,KAAR;AACA,KAHuB,EAGrB,MAAM,CAAC,KAHc,CAAxB;AAKA,WAAO,YAAW;AACjB,kBAAY,CAAC,KAAD,CAAZ;AACA,KAFD;AAGA,GAbQ,EAaN,CAAC,MAAM,CAAC,OAAR,EAAiB,MAAM,CAAC,KAAxB,CAbM,CAAT;AAeA,MAAM,YAAY,GAAG,WAAW,CAAC,YAAK;AAAA;;AACrC,4BAAM,CAAC,MAAP,kEAAe,IAAf,CAAoB,SAApB;AACA,GAF+B,EAE7B,CAAC,MAAM,CAAC,MAAR,CAF6B,CAAhC;AAIA,MAAM,WAAW,GAAG,WAAW,CAAC,YAAK;AAAA;;AACpC,8BAAM,CAAC,OAAP,sEAAgB,IAAhB,CAAqB,SAArB;AACA,WAAO,CAAC,KAAR;AACA,GAH8B,EAG5B,CAAC,MAAM,CAAC,OAAR,CAH4B,CAA/B;AAKA,sBACC,oBAAC,MAAD;AACC,UAAM,EAAE,MADT;AAEC,cAAU,EAAE,CAAC,CAAC,MAAM,CAAC,MAFtB;AAGC,aAAS,EAAE,QAHZ;AAIC,QAAI,EAAE,IAAI,gBAAG,oBAAC,IAAD;AAAM,UAAI,EAAE,IAAZ;AAAkB,UAAI,EAAE;AAAxB,MAAH,GAAoC,SAJ/C;AAKC,SAAK,EAAE,KALR;AAMC,WAAO,EAAE,OANV;AAOC,YAAQ,EAAE,YAPX;AAQC,WAAO,EAAE;AARV,KAUE,IAVF,EAWE,IAAI,iBAAI;AAAK,2BAAuB,EAAE;AAAE,YAAM,EAAE;AAAV;AAA9B,IAXV,CADD;AAeA,CA7CD;;AAVA,OAAO,aAAP,CAyDe,YAzDf,E","file":"dynamic/client/views/banners/LegacyBanner.tsx","sourcesContent":["import { Banner, Icon } from '@rocket.chat/fuselage';\nimport React, { FC, useCallback, useEffect } from 'react';\n\nimport { LegacyBannerPayload } from '../../lib/banners';\nimport * as banners from '../../lib/banners';\n\ntype LegacyBannerProps = {\n\tconfig: LegacyBannerPayload;\n};\n\nconst LegacyBanner: FC<LegacyBannerProps> = ({ config }) => {\n\tconst { closable = true, title, text, html, icon, modifiers } = config;\n\n\tconst inline = !modifiers?.includes('large');\n\tconst variant = modifiers?.includes('danger') ? 'danger' : 'info';\n\n\tuseEffect(() => {\n\t\tif (!config.timer) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst timer = setTimeout(() => {\n\t\t\tconfig.onClose?.call(undefined);\n\t\t\tbanners.close();\n\t\t}, config.timer);\n\n\t\treturn (): void => {\n\t\t\tclearTimeout(timer);\n\t\t};\n\t}, [config.onClose, config.timer]);\n\n\tconst handleAction = useCallback(() => {\n\t\tconfig.action?.call(undefined);\n\t}, [config.action]);\n\n\tconst handleClose = useCallback(() => {\n\t\tconfig.onClose?.call(undefined);\n\t\tbanners.close();\n\t}, [config.onClose]);\n\n\treturn (\n\t\t<Banner\n\t\t\tinline={inline}\n\t\t\tactionable={!!config.action}\n\t\t\tcloseable={closable}\n\t\t\ticon={icon ? <Icon name={icon} size={20} /> : undefined}\n\t\t\ttitle={title}\n\t\t\tvariant={variant}\n\t\t\tonAction={handleAction}\n\t\t\tonClose={handleClose}\n\t\t>\n\t\t\t{text}\n\t\t\t{html && <div dangerouslySetInnerHTML={{ __html: html }} />}\n\t\t</Banner>\n\t);\n};\n\nexport default LegacyBanner;\n"]}