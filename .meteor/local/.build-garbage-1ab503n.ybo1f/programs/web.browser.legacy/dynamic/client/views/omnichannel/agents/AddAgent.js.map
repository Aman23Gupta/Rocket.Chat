{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/agents/AddAgent.js"],"names":["_regeneratorRuntime","module","link","default","v","_extends","_slicedToArray","_objectWithoutProperties","Button","Box","Field","useMutableCallback","React","useState","UserAutoComplete","useTranslation","useEndpointAction","AddAgent","reload","props","t","username","setUsername","saveAction","handleSave","result","success","exportDefault"],"mappings":"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","file":"dynamic/client/views/omnichannel/agents/AddAgent.js","sourcesContent":["import { Button, Box, Field } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { useState } from 'react';\n\nimport UserAutoComplete from '../../../components/UserAutoComplete';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useEndpointAction } from '../../../hooks/useEndpointAction';\n\nfunction AddAgent({ reload, ...props }) {\n\tconst t = useTranslation();\n\tconst [username, setUsername] = useState();\n\n\tconst saveAction = useEndpointAction('POST', 'livechat/users/agent', { username });\n\n\tconst handleSave = useMutableCallback(async () => {\n\t\tif (!username) {\n\t\t\treturn;\n\t\t}\n\t\tconst result = await saveAction();\n\t\tif (!result.success) {\n\t\t\treturn;\n\t\t}\n\t\treload();\n\t\tsetUsername();\n\t});\n\treturn (\n\t\t<Box display='flex' alignItems='center' {...props}>\n\t\t\t<Field>\n\t\t\t\t<Field.Label>{t('Username')}</Field.Label>\n\t\t\t\t<Field.Row>\n\t\t\t\t\t<UserAutoComplete value={username} onChange={setUsername} />\n\t\t\t\t\t<Button disabled={!username} onClick={handleSave} mis='x8' primary>\n\t\t\t\t\t\t{t('Add')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Field.Row>\n\t\t\t</Field>\n\t\t</Box>\n\t);\n}\n\nexport default AddAgent;\n"]}