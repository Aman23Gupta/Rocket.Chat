{"version":3,"sources":["meteor://ðŸ’»app/client/views/login/LoginLayout/Footer.tsx"],"names":[],"mappings":";;;;;;;;AAAA;;AAAiB,MAAM,KAAN,CAAM,sCAAN,EAAsB;AAAA;AAAA;AAAA;AAAA,CAAtB,EAAsB,CAAtB;AAAjB;AAAS,MAAQ,KAAR,CAAc,eAAd,EAA8B;AAAA;AAAA;AAAA;AAAA,CAA9B,EAA8B,CAA9B;AAA8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAYvC,IAAM,MAAM,GAAG,YAAmB;AAAA;;AACjC,MAAM,CAAC,GAAG,cAAc,EAAxB;AACA,MAAM,YAAY,GAAG,eAAe,EAApC;AAEA,MAAM,cAAc,GAAG,cAAc,gBAAE,UAAU,CAAC,UAAD,CAAZ,qDAAmD,IAAnD,CAArC;AAEA,MAAM,oBAAoB,GAAG,WAAW,CACvC,UAAC,cAAD,EAAmB;AAClB,QAAI,cAAc,KAAK,cAAvB,EAAuC;AACtC,aAAO,cAAP;AACA;;AAED,QAAI,cAAc,KAAK,IAAvB,EAA6B;AAC5B,aAAO,IAAP;AACA;;AAED,WAAO,SAAP;AACA,GAXsC,EAYvC,CAAC,cAAD,CAZuC,CAAxC;;AAeA,kBAA8C,QAAQ,CAAC;AAAA;;AAAA,WAAM,cAAc,0BAAC,MAAM,CAAC,aAAP,CAAqB,OAArB,CAA6B,cAA7B,CAAD,yEAAiD,IAAjD,CAApB;AAAA,GAAD,CAAtD;AAAA;AAAA,MAAO,eAAP;AAAA,MAAwB,kBAAxB;;AAEA,WAAS,CAAC,YAAK;AACd,gBAAY,CAAC,eAAD,CAAZ,CAA8B,IAA9B,CAAmC,YAAK;AAAA;;AACvC,uBAAM,UAAN,iEAAQ,WAAR,0FAAsB,eAAtB;AACA,KAFD;AAGA,GAJQ,EAIN,CAAC,eAAD,EAAkB,YAAlB,CAJM,CAAT;;AAMA,mBAAkD,QAAQ,CAAC,YAAK;AAAA;;AAC/D,QAAM,eAAe,GAAG,cAAc,2BAAC,MAAM,CAAC,aAAP,CAAqB,OAArB,CAA6B,cAA7B,CAAD,2EAAiD,IAAjD,CAAtC;AACA,WAAO,oBAAoB,CAAC,eAAD,CAA3B;AACA,GAHyD,CAA1D;AAAA;AAAA,MAAO,iBAAP;AAAA,MAA0B,oBAA1B;;AAKA,MAAM,yBAAyB,GAAG,YAAW;AAC5C,QAAM,QAAQ,GAAG,iBAAjB;;AAEA,QAAI,CAAC,QAAL,EAAe;AACd;AACA;;AAED,sBAAkB,CAAC,QAAD,CAAlB;AACA,wBAAoB,CAAC,oBAAoB,CAAC,QAAD,CAArB,CAApB;AACA,GATD;;AAWA,sBACC,oCACE,iBAAiB,gBACjB;AAAK,aAAS,EAAC,iBAAf;AAAiC,WAAO,EAAE;AAA1C,kBACC;AAAQ,aAAS,EAAC;AAAlB,KAAwC,CAAC,CAAC,kBAAD,EAAqB;AAAE,OAAG,EAAE;AAAP,GAArB,CAAzC,CADD,CADiB,GAId,IALL,CADD;AASA,CAtDD;;AAZA,OAAO,aAAP,CAoEe,MApEf,E","file":"dynamic/client/views/login/LoginLayout/Footer.tsx","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport React, { ReactElement, useCallback, useEffect, useState } from 'react';\n\nimport { useSetting } from '../../../contexts/SettingsContext';\nimport { useLoadLanguage, useTranslation } from '../../../contexts/TranslationContext';\nimport { filterLanguage } from '../../../lib/utils/filterLanguage';\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\ndeclare namespace Window {\n\tfunction setLanguage(language: string): void;\n}\n\nconst Footer = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst loadLanguage = useLoadLanguage();\n\n\tconst serverLanguage = filterLanguage((useSetting('Language') as string | undefined) ?? 'en');\n\n\tconst getSuggestedLanguage = useCallback(\n\t\t(loadedLanguage) => {\n\t\t\tif (serverLanguage !== loadedLanguage) {\n\t\t\t\treturn serverLanguage;\n\t\t\t}\n\n\t\t\tif (serverLanguage !== 'en') {\n\t\t\t\treturn 'en';\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t},\n\t\t[serverLanguage],\n\t);\n\n\tconst [currentLanguage, setCurrentLanguage] = useState(() => filterLanguage(Meteor._localStorage.getItem('userLanguage') ?? 'en'));\n\n\tuseEffect(() => {\n\t\tloadLanguage(currentLanguage).then(() => {\n\t\t\twindow?.setLanguage?.(currentLanguage);\n\t\t});\n\t}, [currentLanguage, loadLanguage]);\n\n\tconst [suggestedLanguage, setSuggestedLanguage] = useState(() => {\n\t\tconst currentLanguage = filterLanguage(Meteor._localStorage.getItem('userLanguage') ?? 'en');\n\t\treturn getSuggestedLanguage(currentLanguage);\n\t});\n\n\tconst handleSwitchLanguageClick = (): void => {\n\t\tconst language = suggestedLanguage;\n\n\t\tif (!language) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetCurrentLanguage(language);\n\t\tsetSuggestedLanguage(getSuggestedLanguage(language));\n\t};\n\n\treturn (\n\t\t<footer>\n\t\t\t{suggestedLanguage ? (\n\t\t\t\t<div className='switch-language' onClick={handleSwitchLanguageClick}>\n\t\t\t\t\t<button className='js-switch-language'>{t('Language_Version', { lng: suggestedLanguage })}</button>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</footer>\n\t);\n};\n\nexport default Footer;\n"]}