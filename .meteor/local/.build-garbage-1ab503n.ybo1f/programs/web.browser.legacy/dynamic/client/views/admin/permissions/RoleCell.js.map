{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/permissions/RoleCell.js"],"names":["_regeneratorRuntime","module","link","default","v","_slicedToArray","Table","Margins","Box","CheckBox","Throbber","useMutableCallback","React","useState","memo","AuthorizationUtils","RoleCell","grantedRoles","_id","name","description","onChange","lineHovered","permissionId","includes","granted","setGranted","loading","setLoading","isRestrictedForRole","isPermissionRestrictedForRole","handleChange","result","isDisabled","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/permissions/RoleCell.js","sourcesContent":["import { Table, Margins, Box, CheckBox, Throbber } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { useState, memo } from 'react';\n\nimport { AuthorizationUtils } from '../../../../app/authorization/lib';\n\nconst RoleCell = ({ grantedRoles = [], _id, name, description, onChange, lineHovered, permissionId }) => {\n\tconst [granted, setGranted] = useState(() => !!grantedRoles.includes(_id));\n\tconst [loading, setLoading] = useState(false);\n\n\tconst isRestrictedForRole = AuthorizationUtils.isPermissionRestrictedForRole(permissionId, _id);\n\n\tconst handleChange = useMutableCallback(async () => {\n\t\tsetLoading(true);\n\t\tconst result = await onChange(_id, granted);\n\t\tsetGranted(result);\n\t\tsetLoading(false);\n\t});\n\n\tconst isDisabled = !!loading || !!isRestrictedForRole;\n\n\treturn (\n\t\t<Table.Cell withTruncatedText>\n\t\t\t<Margins inline='x2'>\n\t\t\t\t<CheckBox checked={granted} onChange={handleChange} disabled={isDisabled} />\n\t\t\t\t{!loading && (\n\t\t\t\t\t<Box display='inline' color='hint' invisible={!lineHovered}>\n\t\t\t\t\t\t{description || name}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{loading && <Throbber size='x12' display='inline-block' />}\n\t\t\t</Margins>\n\t\t</Table.Cell>\n\t);\n};\n\nexport default memo(RoleCell);\n"]}