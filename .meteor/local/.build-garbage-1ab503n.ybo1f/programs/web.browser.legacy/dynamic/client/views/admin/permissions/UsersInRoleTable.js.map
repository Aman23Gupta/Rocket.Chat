{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/permissions/UsersInRoleTable.js"],"names":["_extends","module","link","default","v","_regeneratorRuntime","useMutableCallback","React","GenericModal","GenericTable","useSetModal","useEndpoint","useToastMessageDispatch","useTranslation","UserRow","UsersInRoleTable","data","reload","roleName","description","total","params","setParams","rid","t","dispatchToastMessage","setModal","closeModal","removeUser","onRemove","username","remove","type","message","props","_id","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/permissions/UsersInRoleTable.js","sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React from 'react';\n\nimport GenericModal from '../../../components/GenericModal';\nimport GenericTable from '../../../components/GenericTable';\nimport { useSetModal } from '../../../contexts/ModalContext';\nimport { useEndpoint } from '../../../contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport UserRow from './UserRow';\n\nfunction UsersInRoleTable({ data, reload, roleName, description, total, params, setParams, rid }) {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst setModal = useSetModal();\n\tconst closeModal = () => setModal();\n\n\tconst removeUser = useEndpoint('POST', 'roles.removeUserFromRole');\n\n\tconst onRemove = useMutableCallback((username) => {\n\t\tconst remove = async () => {\n\t\t\ttry {\n\t\t\t\tawait removeUser({ roleName, username, rid });\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_removed') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tcloseModal();\n\t\t\treload();\n\t\t};\n\n\t\tsetModal(\n\t\t\t<GenericModal variant='danger' onConfirm={remove} onCancel={closeModal} confirmText={t('Delete')}>\n\t\t\t\t{t('The_user_s_will_be_removed_from_role_s', username, description || roleName)}\n\t\t\t</GenericModal>,\n\t\t);\n\t});\n\n\treturn (\n\t\t<GenericTable\n\t\t\theader={\n\t\t\t\t<>\n\t\t\t\t\t<GenericTable.HeaderCell>{t('Name')}</GenericTable.HeaderCell>\n\t\t\t\t\t<GenericTable.HeaderCell>{t('Email')}</GenericTable.HeaderCell>\n\t\t\t\t\t<GenericTable.HeaderCell w='x80'></GenericTable.HeaderCell>\n\t\t\t\t</>\n\t\t\t}\n\t\t\tresults={data}\n\t\t\tparams={params}\n\t\t\tsetParams={setParams}\n\t\t\ttotal={total}\n\t\t>\n\t\t\t{(props) => <UserRow onRemove={onRemove} key={props._id} {...props} />}\n\t\t</GenericTable>\n\t);\n}\n\nexport default UsersInRoleTable;\n"]}