{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/agents/AgentEdit.js"],"names":["_regeneratorRuntime","module","link","default","v","_extends","_slicedToArray","_objectWithoutProperties","Field","TextInput","Button","Margins","Box","MultiSelect","Icon","Select","useMutableCallback","React","useMemo","useRef","useState","useSubscription","getUserEmailAddress","VerticalBar","useRoute","useMethod","useToastMessageDispatch","useTranslation","useForm","UserInfo","formsSubscription","AgentEdit","data","userDepartments","availableDepartments","uid","reset","props","t","agentsRoute","maxChatUnsaved","setMaxChatUnsaved","user","name","username","statusLivechat","email","options","departments","map","_id","initialDepartmentValue","departmentId","eeForms","saveRef","values","hasUnsavedChanges","onChangeMaxChats","value","current","useMaxChatsPerAgent","status","maxChats","handlers","commit","resetMaxChats","commitMaxChats","handleDepartments","handleStatus","MaxChats","saveAgentInfo","saveAgentStatus","dispatchToastMessage","handleReset","handleSave","agentId","type","message","push","exportDefault"],"mappings":"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","file":"dynamic/client/views/omnichannel/agents/AgentEdit.js","sourcesContent":["import { Field, TextInput, Button, Margins, Box, MultiSelect, Icon, Select } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { useMemo, useRef, useState } from 'react';\nimport { useSubscription } from 'use-subscription';\n\nimport { getUserEmailAddress } from '../../../../lib/getUserEmailAddress';\nimport VerticalBar from '../../../components/VerticalBar';\nimport { useRoute } from '../../../contexts/RouterContext';\nimport { useMethod } from '../../../contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useForm } from '../../../hooks/useForm';\nimport UserInfo from '../../room/contextualBar/UserInfo';\nimport { formsSubscription } from '../additionalForms';\n\nfunction AgentEdit({ data, userDepartments, availableDepartments, uid, reset, ...props }) {\n\tconst t = useTranslation();\n\tconst agentsRoute = useRoute('omnichannel-agents');\n\tconst [maxChatUnsaved, setMaxChatUnsaved] = useState();\n\n\tconst { user } = data || { user: {} };\n\tconst { name, username, statusLivechat } = user;\n\n\tconst email = getUserEmailAddress(user);\n\tconst options = useMemo(\n\t\t() =>\n\t\t\tavailableDepartments && availableDepartments.departments\n\t\t\t\t? availableDepartments.departments.map(({ _id, name }) => [_id, name || _id])\n\t\t\t\t: [],\n\t\t[availableDepartments],\n\t);\n\tconst initialDepartmentValue = useMemo(\n\t\t() => (userDepartments && userDepartments.departments ? userDepartments.departments.map(({ departmentId }) => departmentId) : []),\n\t\t[userDepartments],\n\t);\n\tconst eeForms = useSubscription(formsSubscription);\n\n\tconst saveRef = useRef({ values: {}, hasUnsavedChanges: false });\n\n\tconst onChangeMaxChats = useMutableCallback(({ hasUnsavedChanges, ...value }) => {\n\t\tsaveRef.current = value;\n\n\t\tif (hasUnsavedChanges !== maxChatUnsaved) {\n\t\t\tsetMaxChatUnsaved(hasUnsavedChanges);\n\t\t}\n\t});\n\n\tconst { useMaxChatsPerAgent = () => {} } = eeForms;\n\n\tconst { values, handlers, hasUnsavedChanges, commit } = useForm({\n\t\tdepartments: initialDepartmentValue,\n\t\tstatus: statusLivechat,\n\t\tmaxChats: 0,\n\t});\n\tconst { reset: resetMaxChats, commit: commitMaxChats } = saveRef.current;\n\n\tconst { handleDepartments, handleStatus } = handlers;\n\tconst { departments, status } = values;\n\n\tconst MaxChats = useMaxChatsPerAgent();\n\n\tconst saveAgentInfo = useMethod('livechat:saveAgentInfo');\n\tconst saveAgentStatus = useMethod('livechat:changeLivechatStatus');\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleReset = useMutableCallback(() => {\n\t\treset();\n\t\tresetMaxChats();\n\t});\n\n\tconst handleSave = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tawait saveAgentInfo(uid, saveRef.current.values, departments);\n\t\t\tawait saveAgentStatus({ status, agentId: uid });\n\t\t\tdispatchToastMessage({ type: 'success', message: t('saved') });\n\t\t\tagentsRoute.push({});\n\t\t\treset();\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t\tcommit();\n\t\tcommitMaxChats();\n\t});\n\n\treturn (\n\t\t<VerticalBar.ScrollableContent is='form' {...props}>\n\t\t\t<Box alignSelf='center'>\n\t\t\t\t<UserInfo.Avatar margin='auto' size={'x332'} title={username} username={username} />\n\t\t\t</Box>\n\t\t\t<Field>\n\t\t\t\t<Field.Label>{t('Name')}</Field.Label>\n\t\t\t\t<Field.Row>\n\t\t\t\t\t<TextInput flexGrow={1} value={name} disabled />\n\t\t\t\t</Field.Row>\n\t\t\t</Field>\n\t\t\t<Field>\n\t\t\t\t<Field.Label>{t('Username')}</Field.Label>\n\t\t\t\t<Field.Row>\n\t\t\t\t\t<TextInput flexGrow={1} value={username} disabled addon={<Icon name='at' size='x20' />} />\n\t\t\t\t</Field.Row>\n\t\t\t</Field>\n\t\t\t<Field>\n\t\t\t\t<Field.Label>{t('Email')}</Field.Label>\n\t\t\t\t<Field.Row>\n\t\t\t\t\t<TextInput flexGrow={1} value={email} disabled addon={<Icon name='mail' size='x20' />} />\n\t\t\t\t</Field.Row>\n\t\t\t</Field>\n\t\t\t<Field>\n\t\t\t\t<Field.Label>{t('Departments')}</Field.Label>\n\t\t\t\t<Field.Row>\n\t\t\t\t\t<MultiSelect\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tvalue={departments}\n\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\tonChange={handleDepartments}\n\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t/>\n\t\t\t\t</Field.Row>\n\t\t\t</Field>\n\t\t\t<Field>\n\t\t\t\t<Field.Label>{t('Status')}</Field.Label>\n\t\t\t\t<Field.Row>\n\t\t\t\t\t<Select\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t['available', t('Available')],\n\t\t\t\t\t\t\t['not-available', t('Not_Available')],\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tvalue={status}\n\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\tonChange={handleStatus}\n\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t/>\n\t\t\t\t</Field.Row>\n\t\t\t</Field>\n\n\t\t\t{MaxChats && <MaxChats data={user} onChange={onChangeMaxChats} />}\n\n\t\t\t<Field.Row>\n\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' w='full'>\n\t\t\t\t\t<Margins inlineEnd='x4'>\n\t\t\t\t\t\t<Button flexGrow={1} type='reset' disabled={!hasUnsavedChanges && !maxChatUnsaved} onClick={handleReset}>\n\t\t\t\t\t\t\t{t('Reset')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button mie='none' flexGrow={1} disabled={!hasUnsavedChanges && !maxChatUnsaved} onClick={handleSave}>\n\t\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Margins>\n\t\t\t\t</Box>\n\t\t\t</Field.Row>\n\t\t</VerticalBar.ScrollableContent>\n\t);\n}\n\nexport default AgentEdit;\n"]}