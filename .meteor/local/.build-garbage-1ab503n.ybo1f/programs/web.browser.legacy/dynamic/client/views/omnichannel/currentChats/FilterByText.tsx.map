{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/currentChats/FilterByText.tsx"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAAuB,MAAE,KAAF,CAAa,4BAAb,EAAuC;AAAA,wBAAuB;AAAC;AAAA;AAAxB,CAAvC,EAA+D,CAA/D;;AAA+D;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAtF,eAAS,GAAT,EAAkB,WAAlB,EAAyB,MAAzB,EAAoC,QAApC;AAA8C,YAAU,uBAAV,EAAgB;AAAA,WAAwB;AAAA;AAAA,GAAxB;AAAwB;AAAA;AAAA,GAAxB;AAAwB;AAAA;AAAA,GAAxB;AAAwB;AAAA;AAAA,GAAxB;AAAwB;AAAA;AAAA;AAAxB,CAAhB,EAAwC,CAAxC;AAAwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAuBtF,IAAM,YAAY,GAAqB,gBAAoC;AAAA,MAAjC,SAAiC,QAAjC,SAAiC;AAAA,MAAtB,MAAsB,QAAtB,MAAsB;AAAA,MAAX,KAAW;;AAC1E,MAAM,QAAQ,GAAG,WAAW,EAA5B;AACA,MAAM,oBAAoB,GAAG,uBAAuB,EAApD;AACA,MAAM,CAAC,GAAG,cAAc,EAAxB;;AAEA,yBAAmC,eAAe,CAAC,wBAAD,CAAlD;AAAA,MAAe,eAAf,oBAAQ,KAAR;;AACA,MAAM,aAAa,GAAuB,CACzC,CAAC,KAAD,EAAQ,CAAC,CAAC,KAAD,CAAT,CADyC,EAEzC,CAAC,QAAD,EAAW,CAAC,CAAC,QAAD,CAAZ,CAFyC,EAGzC,CAAC,QAAD,EAAW,CAAC,CAAC,MAAD,CAAZ,CAHyC,EAIzC,CAAC,QAAD,EAAW,CAAC,CAAC,eAAD,CAAZ,CAJyC,CAA1C;AAMA,MAAM,mBAAmB,GAAuB,OAAO,CACtD;AAAA,WAAO,eAAe,SAAf,mBAAe,WAAf,mBAAe,CAAE,YAAjB,GAAgC,eAAe,CAAC,YAAhB,CAA6B,GAA7B,CAAiC;AAAA,UAAG,GAAH,SAAG,GAAH;AAAA,UAAQ,KAAR,SAAQ,KAAR;AAAA,aAAoB,CAAC,GAAD,EAAM,KAAN,CAApB;AAAA,KAAjC,CAAhC,GAAqG,EAA5G;AAAA,GADsD,EAEtD,CAAC,eAAD,CAFsD,CAAvD;;AAKA,yBAA0B,eAAe,CAAC,OAAD,EAAU,EAAV,CAAzC;AAAA;AAAA,MAAO,KAAP;AAAA,MAAc,QAAd;;AACA,0BAAgC,eAAe,CAAC,UAAD,EAAa,KAAb,CAA/C;AAAA;AAAA,MAAO,QAAP;AAAA,MAAiB,WAAjB;;AACA,0BAA4B,eAAe,CAAC,QAAD,EAAW,KAAX,CAA3C;AAAA;AAAA,MAAO,MAAP;AAAA,MAAe,SAAf;;AACA,0BAAoC,eAAe,CAAmC,YAAnC,EAAiD;AAAE,SAAK,EAAE,KAAT;AAAgB,SAAK,EAAE,CAAC,CAAC,KAAD;AAAxB,GAAjD,CAAnD;AAAA;AAAA,MAAO,UAAP;AAAA,MAAmB,aAAnB;;AACA,0BAAwB,eAAe,CAAC,MAAD,EAAS,EAAT,CAAvC;AAAA;AAAA,MAAO,IAAP;AAAA,MAAa,OAAb;;AACA,2BAAoB,eAAe,CAAC,IAAD,EAAO,EAAP,CAAnC;AAAA;AAAA,MAAO,EAAP;AAAA,MAAW,KAAX;;AACA,2BAAwB,eAAe,CAA6C,MAA7C,EAAqD,EAArD,CAAvC;AAAA;AAAA,MAAO,IAAP;AAAA,MAAa,OAAb;;AACA,2BAAwC,eAAe,CAAQ,MAAR,EAAgB,EAAhB,CAAvD;AAAA;AAAA,MAAO,YAAP;AAAA,MAAqB,eAArB;;AAEA,MAAM,WAAW,GAAG,kBAAkB,CAAC,UAAC,CAAD;AAAA,WAAO,QAAQ,CAAC,CAAC,CAAC,MAAF,CAAS,KAAV,CAAf;AAAA,GAAD,CAAtC;AACA,MAAM,cAAc,GAAG,kBAAkB,CAAC,UAAC,CAAD;AAAA,WAAO,WAAW,CAAC,CAAD,CAAlB;AAAA,GAAD,CAAzC;AACA,MAAM,YAAY,GAAG,kBAAkB,CAAC,UAAC,CAAD;AAAA,WAAO,SAAS,CAAC,CAAD,CAAhB;AAAA,GAAD,CAAvC;AACA,MAAM,gBAAgB,GAAG,kBAAkB,CAAC,UAAC,CAAD;AAAA,WAAO,aAAa,CAAC,CAAD,CAApB;AAAA,GAAD,CAA3C;AACA,MAAM,UAAU,GAAG,kBAAkB,CAAC,UAAC,CAAD;AAAA,WAAO,OAAO,CAAC,CAAC,CAAC,MAAF,CAAS,KAAV,CAAd;AAAA,GAAD,CAArC;AACA,MAAM,QAAQ,GAAG,kBAAkB,CAAC,UAAC,CAAD;AAAA,WAAO,KAAK,CAAC,CAAC,CAAC,MAAF,CAAS,KAAV,CAAZ;AAAA,GAAD,CAAnC;AACA,MAAM,UAAU,GAAG,kBAAkB,CAAC,UAAC,CAAD;AAAA,WAAO,OAAO,CAAC,CAAD,CAAd;AAAA,GAAD,CAArC;AACA,MAAM,kBAAkB,GAAG,kBAAkB,CAAC,UAAC,CAAD;AAAA,WAAO,eAAe,CAAC,CAAD,CAAtB;AAAA,GAAD,CAA7C;AAEA,MAAM,KAAK,GAAG,kBAAkB,CAAC,YAAK;AACrC,YAAQ,CAAC,EAAD,CAAR;AACA,eAAW,CAAC,KAAD,CAAX;AACA,aAAS,CAAC,KAAD,CAAT;AACA,iBAAa,CAAC;AAAE,WAAK,EAAE,KAAT;AAAgB,WAAK,EAAE,CAAC,CAAC,KAAD;AAAxB,KAAD,CAAb;AACA,WAAO,CAAC,EAAD,CAAP;AACA,SAAK,CAAC,EAAD,CAAL;AACA,WAAO,CAAC,EAAD,CAAP;AACA,mBAAe,CAAC,EAAD,CAAf;AACA,GAT+B,CAAhC;AAWA,MAAM,KAAK,GAAG,eAAe,CAAM,iBAAN,CAA7B;AAEA,8BAAuD,KAAvD,CAAQ,kBAAR;AAAA,MAAQ,kBAAR,sCAA6B;AAAA,WAAY,SAAZ;AAAA,GAA7B;AAEA,MAAM,IAAI,GAAG,kBAAkB,EAA/B;AAEA,MAAM,QAAQ,GAAG,kBAAkB,CAAC,UAAC,CAAD;AAAA,WAAO,CAAC,CAAC,cAAF,EAAP;AAAA,GAAD,CAAnC;;AACA,MAAM,OAAO,GAAG,UAAU,GAAV,EAAoB,IAApB,EAAgC;AAC/C,OAAG,CAAC,IAAD,CAAH,GAAY,EAAZ;AACA,WAAO,GAAP;AACA,GAHD;;AAKA,WAAS,CAAC,YAAK;AACd,aAAS;AACR,WAAK,EAAL,KADQ;AAER,cAAQ,EAAR,QAFQ;AAGR,YAAM,EAAN;AAHQ,OAIJ,WAAU,SAAV,cAAU,WAAV,sBAAU,CAAE,KAAZ,KAAqB,UAAU,CAAC,KAAX,KAAqB,KAA1C,IAAmD;AAAE,gBAAU,EAAE,UAAU,CAAC;AAAzB,KAJ/C;AAKR,UAAI,EAAE,IAAI,IAAI,MAAM,CAAC,IAAI,IAAJ,CAAS,IAAT,CAAD,CAAN,CAAuB,GAAvB,GAA6B,MAA7B,CAAoC,qBAApC,CALN;AAMR,QAAE,EAAE,EAAE,IAAI,MAAM,CAAC,IAAI,IAAJ,CAAS,EAAT,CAAD,CAAN,CAAqB,GAArB,GAA2B,MAA3B,CAAkC,qBAAlC,CANF;AAOR,UAAI,EAAE,IAAI,CAAC,GAAL,CAAS,UAAC,GAAD;AAAA,eAAS,GAAG,CAAC,KAAb;AAAA,OAAT,CAPE;AAQR,kBAAY,EAAE,YAAY,CAAC,MAAb,CAAoB,OAApB,EAA6B,EAA7B;AARN,OAAT;AAUA,GAXQ,EAWN,CAAC,SAAD,EAAY,KAAZ,EAAmB,QAAnB,EAA6B,MAA7B,EAAqC,UAArC,EAAiD,IAAjD,EAAuD,EAAvD,EAA2D,IAA3D,EAAiE,YAAjE,CAXM,CAAT;AAaA,MAAM,kBAAkB,GAAG,kBAAkB,CAAC,YAAK;AAClD,SAAK;AACL,GAF4C,CAA7C;AAIA,MAAM,iBAAiB,GAAG,SAAS,CAAC,+BAAD,CAAnC;AAEA,MAAM,kBAAkB,GAAG,kBAAkB;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACvC,2BADuC;AACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DAEZ,iBAAiB,EAFL;;AAAA;AAGlB,oCAAM,SAAN,UAAM,WAAN,kBAAM;AACN,kDAAoB,CAAC;AAAE,oCAAI,EAAE,SAAR;AAAmB,uCAAO,EAAE,CAAC,CAAC,cAAD;AAA7B,+BAAD,CAApB;AAJkB;AAAA;;AAAA;AAAA;AAAA;AAMlB,kDAAoB,CAAC;AAAE,oCAAI,EAAE,OAAR;AAAiB,uCAAO,EAAG,YAAgB;AAA3C,+BAAD,CAApB;;AANkB;AAQnB,sCAAQ,CAAC,IAAD,CAAR;;AARmB;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AADyB;AAAA;;AAYvC,2BAZuC,GAYzB,YAAW;AAC9B,0BAAQ,CAAC,IAAD,CAAR;AACA,iBAd4C;;AAgB7C,wBAAQ,eACP,oBAAC,YAAD;AAAc,yBAAO,EAAC,QAAtB;AAA+B,2BAAS,EAAE,WAA1C;AAAuD,yBAAO,EAAE,WAAhE;AAA6E,0BAAQ,EAAE,WAAvF;AAAoG,6BAAW,EAAE,CAAC,CAAC,QAAD;AAAlH,kBADO,CAAR;;AAhB6C;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAD;AAAA,MAA7C;AAqBA,sBACC,oBAAC,GAAD;AAAK,MAAE,EAAC,KAAR;AAAc,MAAE,EAAC,MAAjB;AAAwB,YAAQ,EAAE,QAAlC;AAA4C,WAAO,EAAC,MAApD;AAA2D,iBAAa,EAAC;AAAzE,KAAsF,KAAtF,gBACC,oBAAC,GAAD;AAAK,WAAO,EAAC,MAAb;AAAoB,iBAAa,EAAC,KAAlC;AAAwC,YAAQ,EAAC;AAAjD,KAA4D,KAA5D,gBACC,oBAAC,GAAD;AAAK,WAAO,EAAC,MAAb;AAAoB,OAAG,EAAC,IAAxB;AAA6B,YAAQ,EAAE,CAAvC;AAA0C,iBAAa,EAAC;AAAxD,kBACC,oBAAC,KAAD;AAAO,MAAE,EAAC;AAAV,KAAgB,CAAC,CAAC,OAAD,CAAjB,CADD,eAEC,oBAAC,SAAD;AAAW,cAAU,EAAE,CAAvB;AAA0B,eAAW,EAAE,CAAC,CAAC,OAAD,CAAxC;AAAmD,YAAQ,EAAE,WAA7D;AAA0E,SAAK,EAAE;AAAjF,IAFD,CADD,eAKC,oBAAC,GAAD;AAAK,WAAO,EAAC,MAAb;AAAoB,OAAG,EAAC,IAAxB;AAA6B,YAAQ,EAAE,CAAvC;AAA0C,iBAAa,EAAC;AAAxD,kBACC,oBAAC,KAAD;AAAO,MAAE,EAAC;AAAV,KAAgB,CAAC,CAAC,WAAD,CAAjB,CADD,eAEC,oBAAC,iBAAD;AAAmB,WAAO,MAA1B;AAA2B,SAAK,EAAE,QAAlC;AAA4C,YAAQ,EAAE;AAAtD,IAFD,CALD,eASC,oBAAC,GAAD;AAAK,WAAO,EAAC,MAAb;AAAoB,OAAG,EAAC,IAAxB;AAA6B,YAAQ,EAAE,CAAvC;AAA0C,iBAAa,EAAC;AAAxD,kBACC,oBAAC,KAAD;AAAO,MAAE,EAAC;AAAV,KAAgB,CAAC,CAAC,QAAD,CAAjB,CADD,eAEC,oBAAC,MAAD;AAAQ,cAAU,EAAE,CAApB;AAAuB,WAAO,EAAE,aAAhC;AAA+C,SAAK,EAAE,MAAtD;AAA8D,YAAQ,EAAE,YAAxE;AAAsF,eAAW,EAAE,CAAC,CAAC,QAAD;AAApG,IAFD,CATD,eAaC,oBAAC,GAAD;AAAK,WAAO,EAAC,MAAb;AAAoB,OAAG,EAAC,IAAxB;AAA6B,YAAQ,EAAE,CAAvC;AAA0C,iBAAa,EAAC;AAAxD,kBACC,oBAAC,KAAD;AAAO,MAAE,EAAC;AAAV,KAAgB,CAAC,CAAC,MAAD,CAAjB,CADD,eAEC,oBAAC,QAAD;AAAU,QAAI,EAAC,MAAf;AAAsB,cAAU,EAAE,CAAlC;AAAqC,eAAW,EAAE,CAAC,CAAC,MAAD,CAAnD;AAA6D,YAAQ,EAAE,UAAvE;AAAmF,SAAK,EAAE;AAA1F,IAFD,CAbD,eAiBC,oBAAC,GAAD;AAAK,WAAO,EAAC,MAAb;AAAoB,OAAG,EAAC,IAAxB;AAA6B,YAAQ,EAAE,CAAvC;AAA0C,iBAAa,EAAC;AAAxD,kBACC,oBAAC,KAAD;AAAO,MAAE,EAAC;AAAV,KAAgB,CAAC,CAAC,IAAD,CAAjB,CADD,eAEC,oBAAC,QAAD;AAAU,QAAI,EAAC,MAAf;AAAsB,cAAU,EAAE,CAAlC;AAAqC,eAAW,EAAE,CAAC,CAAC,IAAD,CAAnD;AAA2D,YAAQ,EAAE,QAArE;AAA+E,SAAK,EAAE;AAAtF,IAFD,CAjBD,eAsBC,oBAAC,eAAD;AAAiB,sBAAkB,EAAE,kBAArC;AAAyD,sBAAkB,EAAE;AAA7E,IAtBD,CADD,eAyBC,oBAAC,GAAD;AAAK,WAAO,EAAC,MAAb;AAAoB,oBAAgB,EAAC,IAArC;AAA0C,YAAQ,EAAE,CAApD;AAAuD,iBAAa,EAAC;AAArE,kBACC,oBAAC,GAAD;AAAK,WAAO,EAAC,MAAb;AAAoB,OAAG,EAAC,IAAxB;AAA6B,YAAQ,EAAE,CAAvC;AAA0C,iBAAa,EAAC;AAAxD,kBACC,oBAAC,KAAD;AAAO,MAAE,EAAC;AAAV,KAAgB,CAAC,CAAC,YAAD,CAAjB,CADD,eAEC,oBAAC,sBAAD;AAAwB,WAAO,MAA/B;AAAgC,SAAK,EAAE,UAAvC;AAAmD,YAAQ,EAAE,gBAA7D;AAA+E,SAAK,EAAE,CAAC,CAAC,KAAD,CAAvF;AAAgG,qBAAiB;AAAjH,IAFD,CADD,CAzBD,EA+BE,IAAI,iBACJ,oBAAC,GAAD;AAAK,WAAO,EAAC,MAAb;AAAoB,iBAAa,EAAC,KAAlC;AAAwC,oBAAgB,EAAC;AAAzD,KAAkE,KAAlE,gBACC,oBAAC,GAAD;AAAK,WAAO,EAAC,MAAb;AAAoB,OAAG,EAAC,IAAxB;AAA6B,YAAQ,EAAE,CAAvC;AAA0C,iBAAa,EAAC;AAAxD,kBACC,oBAAC,KAAD;AAAO,MAAE,EAAC;AAAV,KAAgB,CAAC,CAAC,MAAD,CAAjB,CADD,eAEC,oBAAC,IAAD;AAAM,SAAK,EAAE,IAAb;AAAmB,WAAO,EAAE;AAA5B,IAFD,CADD,CAhCF,EAuCE,eAAe,iBACf,oBAAC,GAAD;AAAK,WAAO,EAAC,MAAb;AAAoB,iBAAa,EAAC,KAAlC;AAAwC,oBAAgB,EAAC;AAAzD,KAAkE,KAAlE,gBACC,oBAAC,GAAD;AAAK,WAAO,EAAC,MAAb;AAAoB,OAAG,EAAC,IAAxB;AAA6B,YAAQ,EAAE,CAAvC;AAA0C,iBAAa,EAAC;AAAxD,kBACC,oBAAC,KAAD;AAAO,MAAE,EAAC;AAAV,KAAgB,CAAC,CAAC,eAAD,CAAjB,CADD,eAEC,oBAAC,WAAD;AAAa,WAAO,EAAE,mBAAtB;AAA2C,SAAK,EAAE,YAAlD;AAAgE,YAAQ,EAAE,kBAA1E;AAA8F,YAAQ,EAAE;AAAxG,KAA+G,KAA/G,EAFD,CADD,CAxCF,CADD;AAkDA,CApJD;;AAvBA,OAAO,aAAP,CA6Ke,YA7Kf,E","file":"dynamic/client/views/omnichannel/currentChats/FilterByText.tsx","sourcesContent":["import { TextInput, Box, MultiSelect, Select, InputBox } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useLocalStorage } from '@rocket.chat/fuselage-hooks';\nimport moment from 'moment';\nimport React, { Dispatch, FC, SetStateAction, useEffect, useMemo } from 'react';\nimport { useSubscription } from 'use-subscription';\n\nimport AutoCompleteAgent from '../../../components/AutoCompleteAgent';\nimport AutoCompleteDepartment from '../../../components/AutoCompleteDepartment';\nimport GenericModal from '../../../components/GenericModal';\nimport { useSetModal } from '../../../contexts/ModalContext';\nimport { useMethod } from '../../../contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useEndpointData } from '../../../hooks/useEndpointData';\nimport { formsSubscription } from '../additionalForms';\nimport Label from './Label';\nimport RemoveAllClosed from './RemoveAllClosed';\n\ntype FilterByTextType = FC<{\n\tsetFilter: Dispatch<SetStateAction<any>>;\n\treload?: () => void;\n}>;\n\nconst FilterByText: FilterByTextType = ({ setFilter, reload, ...props }) => {\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst t = useTranslation();\n\n\tconst { value: allCustomFields } = useEndpointData('livechat/custom-fields');\n\tconst statusOptions: [string, string][] = [\n\t\t['all', t('All')],\n\t\t['closed', t('Closed')],\n\t\t['opened', t('Open')],\n\t\t['onhold', t('On_Hold_Chats')],\n\t];\n\tconst customFieldsOptions: [string, string][] = useMemo(\n\t\t() => (allCustomFields?.customFields ? allCustomFields.customFields.map(({ _id, label }) => [_id, label]) : []),\n\t\t[allCustomFields],\n\t);\n\n\tconst [guest, setGuest] = useLocalStorage('guest', '');\n\tconst [servedBy, setServedBy] = useLocalStorage('servedBy', 'all');\n\tconst [status, setStatus] = useLocalStorage('status', 'all');\n\tconst [department, setDepartment] = useLocalStorage<{ label: string; value: string }>('department', { value: 'all', label: t('All') });\n\tconst [from, setFrom] = useLocalStorage('from', '');\n\tconst [to, setTo] = useLocalStorage('to', '');\n\tconst [tags, setTags] = useLocalStorage<never | { label: string; value: string }[]>('tags', []);\n\tconst [customFields, setCustomFields] = useLocalStorage<any[]>('tags', []);\n\n\tconst handleGuest = useMutableCallback((e) => setGuest(e.target.value));\n\tconst handleServedBy = useMutableCallback((e) => setServedBy(e));\n\tconst handleStatus = useMutableCallback((e) => setStatus(e));\n\tconst handleDepartment = useMutableCallback((e) => setDepartment(e));\n\tconst handleFrom = useMutableCallback((e) => setFrom(e.target.value));\n\tconst handleTo = useMutableCallback((e) => setTo(e.target.value));\n\tconst handleTags = useMutableCallback((e) => setTags(e));\n\tconst handleCustomFields = useMutableCallback((e) => setCustomFields(e));\n\n\tconst reset = useMutableCallback(() => {\n\t\tsetGuest('');\n\t\tsetServedBy('all');\n\t\tsetStatus('all');\n\t\tsetDepartment({ value: 'all', label: t('All') });\n\t\tsetFrom('');\n\t\tsetTo('');\n\t\tsetTags([]);\n\t\tsetCustomFields([]);\n\t});\n\n\tconst forms = useSubscription<any>(formsSubscription);\n\n\tconst { useCurrentChatTags = (): void => undefined } = forms;\n\n\tconst Tags = useCurrentChatTags();\n\n\tconst onSubmit = useMutableCallback((e) => e.preventDefault());\n\tconst reducer = function (acc: any, curr: string): any {\n\t\tacc[curr] = '';\n\t\treturn acc;\n\t};\n\n\tuseEffect(() => {\n\t\tsetFilter({\n\t\t\tguest,\n\t\t\tservedBy,\n\t\t\tstatus,\n\t\t\t...(department?.value && department.value !== 'all' && { department: department.value }),\n\t\t\tfrom: from && moment(new Date(from)).utc().format('YYYY-MM-DDTHH:mm:ss'),\n\t\t\tto: to && moment(new Date(to)).utc().format('YYYY-MM-DDTHH:mm:ss'),\n\t\t\ttags: tags.map((tag) => tag.label),\n\t\t\tcustomFields: customFields.reduce(reducer, {}),\n\t\t});\n\t}, [setFilter, guest, servedBy, status, department, from, to, tags, customFields]);\n\n\tconst handleClearFilters = useMutableCallback(() => {\n\t\treset();\n\t});\n\n\tconst removeClosedChats = useMethod('livechat:removeAllClosedRooms');\n\n\tconst handleRemoveClosed = useMutableCallback(async () => {\n\t\tconst onDeleteAll = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait removeClosedChats();\n\t\t\t\treload?.();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Chat_removed') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: (error as Error).message });\n\t\t\t}\n\t\t\tsetModal(null);\n\t\t};\n\n\t\tconst handleClose = (): void => {\n\t\t\tsetModal(null);\n\t\t};\n\n\t\tsetModal(\n\t\t\t<GenericModal variant='danger' onConfirm={onDeleteAll} onClose={handleClose} onCancel={handleClose} confirmText={t('Delete')} />,\n\t\t);\n\t});\n\n\treturn (\n\t\t<Box mb='x16' is='form' onSubmit={onSubmit} display='flex' flexDirection='column' {...props}>\n\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap' {...props}>\n\t\t\t\t<Box display='flex' mie='x8' flexGrow={1} flexDirection='column'>\n\t\t\t\t\t<Label mb='x4'>{t('Guest')}</Label>\n\t\t\t\t\t<TextInput flexShrink={0} placeholder={t('Guest')} onChange={handleGuest} value={guest} />\n\t\t\t\t</Box>\n\t\t\t\t<Box display='flex' mie='x8' flexGrow={1} flexDirection='column'>\n\t\t\t\t\t<Label mb='x4'>{t('Served_By')}</Label>\n\t\t\t\t\t<AutoCompleteAgent haveAll value={servedBy} onChange={handleServedBy} />\n\t\t\t\t</Box>\n\t\t\t\t<Box display='flex' mie='x8' flexGrow={1} flexDirection='column'>\n\t\t\t\t\t<Label mb='x4'>{t('Status')}</Label>\n\t\t\t\t\t<Select flexShrink={0} options={statusOptions} value={status} onChange={handleStatus} placeholder={t('Status')} />\n\t\t\t\t</Box>\n\t\t\t\t<Box display='flex' mie='x8' flexGrow={0} flexDirection='column'>\n\t\t\t\t\t<Label mb='x4'>{t('From')}</Label>\n\t\t\t\t\t<InputBox type='date' flexShrink={0} placeholder={t('From')} onChange={handleFrom} value={from} />\n\t\t\t\t</Box>\n\t\t\t\t<Box display='flex' mie='x8' flexGrow={0} flexDirection='column'>\n\t\t\t\t\t<Label mb='x4'>{t('To')}</Label>\n\t\t\t\t\t<InputBox type='date' flexShrink={0} placeholder={t('To')} onChange={handleTo} value={to} />\n\t\t\t\t</Box>\n\n\t\t\t\t<RemoveAllClosed handleClearFilters={handleClearFilters} handleRemoveClosed={handleRemoveClosed} />\n\t\t\t</Box>\n\t\t\t<Box display='flex' marginBlockStart='x8' flexGrow={1} flexDirection='column'>\n\t\t\t\t<Box display='flex' mie='x8' flexGrow={1} flexDirection='column'>\n\t\t\t\t\t<Label mb='x4'>{t('Department')}</Label>\n\t\t\t\t\t<AutoCompleteDepartment haveAll value={department} onChange={handleDepartment} label={t('All')} onlyMyDepartments />\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t{Tags && (\n\t\t\t\t<Box display='flex' flexDirection='row' marginBlockStart='x8' {...props}>\n\t\t\t\t\t<Box display='flex' mie='x8' flexGrow={1} flexDirection='column'>\n\t\t\t\t\t\t<Label mb='x4'>{t('Tags')}</Label>\n\t\t\t\t\t\t<Tags value={tags} handler={handleTags} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t{allCustomFields && (\n\t\t\t\t<Box display='flex' flexDirection='row' marginBlockStart='x8' {...props}>\n\t\t\t\t\t<Box display='flex' mie='x8' flexGrow={1} flexDirection='column'>\n\t\t\t\t\t\t<Label mb='x4'>{t('Custom_Fields')}</Label>\n\t\t\t\t\t\t<MultiSelect options={customFieldsOptions} value={customFields} onChange={handleCustomFields} flexGrow={1} {...props} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</Box>\n\t);\n};\n\nexport default FilterByText;\n"]}