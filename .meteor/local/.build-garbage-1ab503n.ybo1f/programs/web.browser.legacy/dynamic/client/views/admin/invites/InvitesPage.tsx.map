{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/invites/InvitesPage.tsx"],"names":[],"mappings":"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","file":"dynamic/client/views/admin/invites/InvitesPage.tsx","sourcesContent":["import { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport React, { ReactElement } from 'react';\n\nimport GenericModal from '../../../components/GenericModal';\nimport {\n\tGenericTable,\n\tGenericTableBody,\n\tGenericTableHeader,\n\tGenericTableHeaderCell,\n\tGenericTableLoadingTable,\n} from '../../../components/GenericTable';\nimport Page from '../../../components/Page';\nimport { useSetModal } from '../../../contexts/ModalContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useEndpointData } from '../../../hooks/useEndpointData';\nimport { AsyncStatePhase } from '../../../lib/asyncState';\nimport InviteRow from './InviteRow';\n\nconst InvitesPage = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst setModal = useSetModal();\n\n\tconst { phase, value, reload } = useEndpointData('listInvites');\n\n\tconst onRemove = (removeInvite: () => void): void => {\n\t\tconst confirmRemove = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait removeInvite();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Invite_removed') });\n\t\t\t\treload();\n\t\t\t} catch (error) {\n\t\t\t\tif (typeof error === 'string' || error instanceof Error) {\n\t\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tsetModal();\n\t\t\t}\n\t\t};\n\n\t\tsetModal(\n\t\t\t<GenericModal\n\t\t\t\ttitle={t('Are_you_sure')}\n\t\t\t\tchildren={t('Are_you_sure_you_want_to_delete_this_record')}\n\t\t\t\tvariant='danger'\n\t\t\t\tconfirmText={t('Yes')}\n\t\t\t\tcancelText={t('No')}\n\t\t\t\tonClose={(): void => setModal()}\n\t\t\t\tonCancel={(): void => setModal()}\n\t\t\t\tonConfirm={confirmRemove}\n\t\t\t/>,\n\t\t);\n\t};\n\n\tconst notSmall = useMediaQuery('(min-width: 768px)');\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Invites')} />\n\t\t\t<Page.Content>\n\t\t\t\t<GenericTable>\n\t\t\t\t\t<GenericTableHeader>\n\t\t\t\t\t\t<GenericTableHeaderCell w={notSmall ? '20%' : '80%'}>{t('Token')}</GenericTableHeaderCell>\n\t\t\t\t\t\t{notSmall && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<GenericTableHeaderCell w='35%'>{t('Created_at')}</GenericTableHeaderCell>\n\t\t\t\t\t\t\t\t<GenericTableHeaderCell w='20%'>{t('Expiration')}</GenericTableHeaderCell>\n\t\t\t\t\t\t\t\t<GenericTableHeaderCell w='10%'>{t('Uses')}</GenericTableHeaderCell>\n\t\t\t\t\t\t\t\t<GenericTableHeaderCell w='10%'>{t('Uses_left')}</GenericTableHeaderCell>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<GenericTableHeaderCell />\n\t\t\t\t\t</GenericTableHeader>\n\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t{phase === AsyncStatePhase.LOADING && <GenericTableLoadingTable headerCells={notSmall ? 4 : 1} />}\n\t\t\t\t\t\t{phase === AsyncStatePhase.RESOLVED &&\n\t\t\t\t\t\t\tArray.isArray(value) &&\n\t\t\t\t\t\t\tvalue.map((invite) => <InviteRow key={invite._id} {...invite} onRemove={onRemove} />)}\n\t\t\t\t\t</GenericTableBody>\n\t\t\t\t</GenericTable>\n\t\t\t</Page.Content>\n\t\t</Page>\n\t);\n};\n\nexport default InvitesPage;\n"]}