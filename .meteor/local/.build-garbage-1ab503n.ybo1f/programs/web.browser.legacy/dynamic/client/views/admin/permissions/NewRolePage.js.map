{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/permissions/NewRolePage.js"],"names":["_regeneratorRuntime","module","link","default","v","Box","ButtonGroup","Button","Margins","useMutableCallback","React","VerticalBar","useRoute","useEndpoint","useToastMessageDispatch","useTranslation","useForm","RoleForm","NewRolePage","t","router","dispatchToastMessage","name","description","scope","mandatory2fa","values","handlers","saveRole","handleSave","type","message","push","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/permissions/NewRolePage.js","sourcesContent":["import { Box, ButtonGroup, Button, Margins } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React from 'react';\n\nimport VerticalBar from '../../../components/VerticalBar';\nimport { useRoute } from '../../../contexts/RouterContext';\nimport { useEndpoint } from '../../../contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useForm } from '../../../hooks/useForm';\nimport RoleForm from './RoleForm';\n\nconst NewRolePage = () => {\n\tconst t = useTranslation();\n\tconst router = useRoute('admin-permissions');\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst { values, handlers } = useForm({\n\t\tname: '',\n\t\tdescription: '',\n\t\tscope: 'Users',\n\t\tmandatory2fa: false,\n\t});\n\n\tconst saveRole = useEndpoint('POST', 'roles.create');\n\n\tconst handleSave = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tawait saveRole(values);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\trouter.push({});\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<VerticalBar.ScrollableContent>\n\t\t\t\t<Box w='full' alignSelf='center' mb='neg-x8'>\n\t\t\t\t\t<Margins block='x8'>\n\t\t\t\t\t\t<RoleForm values={values} handlers={handlers} />\n\t\t\t\t\t</Margins>\n\t\t\t\t</Box>\n\t\t\t</VerticalBar.ScrollableContent>\n\t\t\t<VerticalBar.Footer>\n\t\t\t\t<ButtonGroup stretch w='full'>\n\t\t\t\t\t<Button primary onClick={handleSave}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</VerticalBar.Footer>\n\t\t</>\n\t);\n};\n\nexport default NewRolePage;\n"]}