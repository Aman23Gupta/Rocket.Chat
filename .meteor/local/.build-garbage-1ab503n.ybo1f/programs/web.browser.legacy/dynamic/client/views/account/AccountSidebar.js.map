{"version":3,"sources":["meteor://ðŸ’»app/client/views/account/AccountSidebar.js"],"names":["_toConsumableArray","module","link","default","v","_toArray","React","memo","useCallback","useEffect","useSubscription","menu","SideNav","Sidebar","useRoutePath","useCurrentRoute","useTranslation","isLayoutEmbedded","SettingsProvider","itemsSubscription","AccountSidebar","t","items","closeFlex","close","currentRouteName","rest","currentPath","exportDefault"],"mappings":"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","file":"dynamic/client/views/account/AccountSidebar.js","sourcesContent":["import React, { memo, useCallback, useEffect } from 'react';\nimport { useSubscription } from 'use-subscription';\n\nimport { menu, SideNav } from '../../../app/ui-utils/client';\nimport Sidebar from '../../components/Sidebar';\nimport { useRoutePath, useCurrentRoute } from '../../contexts/RouterContext';\nimport { useTranslation } from '../../contexts/TranslationContext';\nimport { isLayoutEmbedded } from '../../lib/utils/isLayoutEmbedded';\nimport SettingsProvider from '../../providers/SettingsProvider';\nimport { itemsSubscription } from './sidebarItems';\n\nconst AccountSidebar = () => {\n\tconst t = useTranslation();\n\n\tconst items = useSubscription(itemsSubscription);\n\n\tconst closeFlex = useCallback(() => {\n\t\tif (isLayoutEmbedded()) {\n\t\t\tmenu.close();\n\t\t\treturn;\n\t\t}\n\n\t\tSideNav.closeFlex();\n\t}, []);\n\n\tconst [currentRouteName, ...rest] = useCurrentRoute();\n\tconst currentPath = useRoutePath(currentRouteName, ...rest);\n\n\tuseEffect(() => {\n\t\tif (currentRouteName !== 'account') {\n\t\t\tSideNav.closeFlex();\n\t\t}\n\t}, [currentRouteName]);\n\n\t// TODO: uplift this provider\n\treturn (\n\t\t<SettingsProvider privileged>\n\t\t\t<Sidebar>\n\t\t\t\t<Sidebar.Header onClose={closeFlex} title={t('Account')} />\n\t\t\t\t<Sidebar.Content>\n\t\t\t\t\t<Sidebar.ItemsAssembler items={items} currentPath={currentPath} />\n\t\t\t\t</Sidebar.Content>\n\t\t\t</Sidebar>\n\t\t</SettingsProvider>\n\t);\n};\n\nexport default memo(AccountSidebar);\n"]}