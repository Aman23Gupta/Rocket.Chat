{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/webhooks/WebhooksPageContainer.js"],"names":["_objectSpread","module","link","default","v","Callout","React","NotAuthorizedPage","Page","PageSkeleton","usePermission","useTranslation","AsyncStatePhase","useEndpointData","WebhooksPage","reduceSettings","settings","reduce","acc","_id","value","WebhooksPageContainer","t","data","state","phase","error","canViewLivechatWebhooks","LOADING","success","exportDefault"],"mappings":"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","file":"dynamic/client/views/omnichannel/webhooks/WebhooksPageContainer.js","sourcesContent":["import { Callout } from '@rocket.chat/fuselage';\nimport React from 'react';\n\nimport NotAuthorizedPage from '../../../components/NotAuthorizedPage';\nimport Page from '../../../components/Page';\nimport PageSkeleton from '../../../components/PageSkeleton';\nimport { usePermission } from '../../../contexts/AuthorizationContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { AsyncStatePhase } from '../../../hooks/useAsyncState';\nimport { useEndpointData } from '../../../hooks/useEndpointData';\nimport WebhooksPage from './WebhooksPage';\n\nconst reduceSettings = (settings) =>\n\tsettings.reduce((acc, { _id, value }) => {\n\t\tacc = { ...acc, [_id]: value };\n\t\treturn acc;\n\t}, {});\n\nconst WebhooksPageContainer = () => {\n\tconst t = useTranslation();\n\n\tconst { value: data, phase: state, error } = useEndpointData('livechat/integrations.settings');\n\n\tconst canViewLivechatWebhooks = usePermission('view-livechat-webhooks');\n\n\tif (!canViewLivechatWebhooks) {\n\t\treturn <NotAuthorizedPage />;\n\t}\n\n\tif (state === AsyncStatePhase.LOADING) {\n\t\treturn <PageSkeleton />;\n\t}\n\n\tif (!data || !data.success || !data.settings || error) {\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Page.Header title={t('Webhooks')} />\n\t\t\t\t<Page.ScrollableContentWithShadow>\n\t\t\t\t\t<Callout type='danger'>{t('Error')}</Callout>\n\t\t\t\t</Page.ScrollableContentWithShadow>\n\t\t\t</Page>\n\t\t);\n\t}\n\n\treturn <WebhooksPage settings={reduceSettings(data.settings)} />;\n};\n\nexport default WebhooksPageContainer;\n"]}