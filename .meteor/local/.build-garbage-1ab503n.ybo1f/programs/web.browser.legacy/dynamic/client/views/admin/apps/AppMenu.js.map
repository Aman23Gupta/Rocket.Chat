{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/apps/AppMenu.js"],"names":["_regeneratorRuntime","module","link","default","v","_extends","_objectSpread","_objectWithoutProperties","Box","Icon","Menu","React","useMemo","useCallback","useSetModal","useRoute","useMethod","useEndpoint","useTranslation","CloudLoginModal","IframeModal","WarningModal","appEnabledStatuses","warnStatusChange","handleAPIError","AppMenu","app","props","t","setModal","appsRoute","checkUserLoggedIn","setAppStatus","id","buildExternalUrl","syncApp","uninstallApp","canAppBeSubscribed","purchaseType","isSubscribed","subscriptionInfo","includes","status","isAppEnabled","closeModal","handleEnable","name","handleViewLogs","push","context","handleSubscription","appId","details","data","confirm","url","handleDisable","handleUninstall","uninstall","menuOptions","subscribe","label","action","viewLogs","disable","enable","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/apps/AppMenu.js","sourcesContent":["import { Box, Icon, Menu } from '@rocket.chat/fuselage';\nimport React, { useMemo, useCallback } from 'react';\n\nimport { useSetModal } from '../../../contexts/ModalContext';\nimport { useRoute } from '../../../contexts/RouterContext';\nimport { useMethod, useEndpoint } from '../../../contexts/ServerContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport CloudLoginModal from './CloudLoginModal';\nimport IframeModal from './IframeModal';\nimport WarningModal from './WarningModal';\nimport { appEnabledStatuses, warnStatusChange, handleAPIError } from './helpers';\n\nfunction AppMenu({ app, ...props }) {\n\tconst t = useTranslation();\n\tconst setModal = useSetModal();\n\tconst appsRoute = useRoute('admin-apps');\n\tconst checkUserLoggedIn = useMethod('cloud:checkUserLoggedIn');\n\n\tconst setAppStatus = useEndpoint('POST', `/apps/${app.id}/status`);\n\tconst buildExternalUrl = useEndpoint('GET', '/apps');\n\tconst syncApp = useEndpoint('POST', `/apps/${app.id}/sync`);\n\tconst uninstallApp = useEndpoint('DELETE', `/apps/${app.id}`);\n\n\tconst canAppBeSubscribed = app.purchaseType === 'subscription';\n\tconst isSubscribed = app.subscriptionInfo && ['active', 'trialing'].includes(app.subscriptionInfo.status);\n\tconst isAppEnabled = appEnabledStatuses.includes(app.status);\n\n\tconst closeModal = useCallback(() => {\n\t\tsetModal(null);\n\t}, [setModal]);\n\n\tconst handleEnable = useCallback(async () => {\n\t\ttry {\n\t\t\tconst { status } = await setAppStatus({ status: 'manually_enabled' });\n\t\t\twarnStatusChange(app.name, status);\n\t\t} catch (error) {\n\t\t\thandleAPIError(error);\n\t\t}\n\t}, [app.name, setAppStatus]);\n\n\tconst handleViewLogs = useCallback(() => {\n\t\tappsRoute.push({ context: 'logs', id: app.id });\n\t}, [app.id, appsRoute]);\n\n\tconst handleSubscription = useCallback(async () => {\n\t\tif (!(await checkUserLoggedIn())) {\n\t\t\tsetModal(<CloudLoginModal />);\n\t\t\treturn;\n\t\t}\n\n\t\tlet data;\n\t\ttry {\n\t\t\tdata = await buildExternalUrl({\n\t\t\t\tbuildExternalUrl: 'true',\n\t\t\t\tappId: app.id,\n\t\t\t\tpurchaseType: app.purchaseType,\n\t\t\t\tdetails: true,\n\t\t\t});\n\t\t} catch (error) {\n\t\t\thandleAPIError(error);\n\t\t\treturn;\n\t\t}\n\n\t\tconst confirm = async () => {\n\t\t\ttry {\n\t\t\t\tawait syncApp();\n\t\t\t} catch (error) {\n\t\t\t\thandleAPIError(error);\n\t\t\t}\n\t\t};\n\n\t\tsetModal(<IframeModal url={data.url} confirm={confirm} cancel={closeModal} />);\n\t}, [checkUserLoggedIn, setModal, closeModal, buildExternalUrl, app.id, app.purchaseType, syncApp]);\n\n\tconst handleDisable = useCallback(() => {\n\t\tconst confirm = async () => {\n\t\t\tcloseModal();\n\t\t\ttry {\n\t\t\t\tconst { status } = await setAppStatus({ status: 'manually_disabled' });\n\t\t\t\twarnStatusChange(app.name, status);\n\t\t\t} catch (error) {\n\t\t\t\thandleAPIError(error);\n\t\t\t}\n\t\t};\n\t\tsetModal(\n\t\t\t<WarningModal close={closeModal} confirm={confirm} text={t('Apps_Marketplace_Deactivate_App_Prompt')} confirmText={t('Yes')} />,\n\t\t);\n\t}, [app.name, closeModal, setAppStatus, setModal, t]);\n\n\tconst handleUninstall = useCallback(() => {\n\t\tconst uninstall = async () => {\n\t\t\tcloseModal();\n\t\t\ttry {\n\t\t\t\tawait uninstallApp();\n\t\t\t} catch (error) {\n\t\t\t\thandleAPIError(error);\n\t\t\t}\n\t\t};\n\n\t\tif (isSubscribed) {\n\t\t\tconst confirm = async () => {\n\t\t\t\tawait handleSubscription();\n\t\t\t};\n\n\t\t\tsetModal(\n\t\t\t\t<WarningModal\n\t\t\t\t\tclose={closeModal}\n\t\t\t\t\tcancel={uninstall}\n\t\t\t\t\tconfirm={confirm}\n\t\t\t\t\ttext={t('Apps_Marketplace_Uninstall_Subscribed_App_Prompt')}\n\t\t\t\t\tconfirmText={t('Apps_Marketplace_Modify_App_Subscription')}\n\t\t\t\t\tcancelText={t('Apps_Marketplace_Uninstall_Subscribed_App_Anyway')}\n\t\t\t\t/>,\n\t\t\t);\n\t\t}\n\n\t\tsetModal(\n\t\t\t<WarningModal close={closeModal} confirm={uninstall} text={t('Apps_Marketplace_Uninstall_App_Prompt')} confirmText={t('Yes')} />,\n\t\t);\n\t}, [closeModal, handleSubscription, isSubscribed, setModal, t, uninstallApp]);\n\n\tconst menuOptions = useMemo(\n\t\t() => ({\n\t\t\t...(canAppBeSubscribed && {\n\t\t\t\tsubscribe: {\n\t\t\t\t\tlabel: (\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Icon name='card' size='x16' marginInlineEnd='x4' />\n\t\t\t\t\t\t\t{t('Subscription')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t),\n\t\t\t\t\taction: handleSubscription,\n\t\t\t\t},\n\t\t\t}),\n\t\t\tviewLogs: {\n\t\t\t\tlabel: (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Icon name='list-alt' size='x16' marginInlineEnd='x4' />\n\t\t\t\t\t\t{t('View_Logs')}\n\t\t\t\t\t</Box>\n\t\t\t\t),\n\t\t\t\taction: handleViewLogs,\n\t\t\t},\n\t\t\t...(isAppEnabled && {\n\t\t\t\tdisable: {\n\t\t\t\t\tlabel: (\n\t\t\t\t\t\t<Box color='warning'>\n\t\t\t\t\t\t\t<Icon name='ban' size='x16' marginInlineEnd='x4' />\n\t\t\t\t\t\t\t{t('Disable')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t),\n\t\t\t\t\taction: handleDisable,\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...(!isAppEnabled && {\n\t\t\t\tenable: {\n\t\t\t\t\tlabel: (\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Icon name='check' size='x16' marginInlineEnd='x4' />\n\t\t\t\t\t\t\t{t('Enable')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t),\n\t\t\t\t\taction: handleEnable,\n\t\t\t\t},\n\t\t\t}),\n\t\t\tuninstall: {\n\t\t\t\tlabel: (\n\t\t\t\t\t<Box color='danger'>\n\t\t\t\t\t\t<Icon name='trash' size='x16' marginInlineEnd='x4' />\n\t\t\t\t\t\t{t('Uninstall')}\n\t\t\t\t\t</Box>\n\t\t\t\t),\n\t\t\t\taction: handleUninstall,\n\t\t\t},\n\t\t}),\n\t\t[canAppBeSubscribed, t, handleSubscription, handleViewLogs, isAppEnabled, handleDisable, handleEnable, handleUninstall],\n\t);\n\n\treturn <Menu options={menuOptions} placement='bottom-start' {...props} />;\n}\n\nexport default AppMenu;\n"]}