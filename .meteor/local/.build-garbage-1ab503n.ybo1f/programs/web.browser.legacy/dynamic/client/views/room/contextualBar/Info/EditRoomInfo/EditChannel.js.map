{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/Info/EditRoomInfo/EditChannel.js"],"names":["_regeneratorRuntime","module","link","default","v","_objectWithoutProperties","_slicedToArray","_objectSpread","Field","TextInput","PasswordInput","ToggleSwitch","MultiSelect","Accordion","Callout","NumberInput","FieldGroup","Button","ButtonGroup","Box","Icon","TextAreaInput","useMutableCallback","React","useCallback","useMemo","useRef","e2e","MessageTypesValues","roomTypes","RoomSettingsEnum","GenericModal","RawText","VerticalBar","RoomAvatarEditor","usePermission","useAtLeastOnePermission","useRole","useSetModal","useMethod","useSetting","useTranslation","useEndpointActionExperimental","useForm","typeMap","c","p","d","useInitialValues","room","settings","t","ro","archived","topic","description","announcement","joinCodeRequired","sysMes","encrypted","retention","retentionPolicyEnabled","maxAgeDefault","retentionEnabledDefault","excludePinnedDefault","filesOnlyDefault","roomName","usernames","join","getRoomName","type","roomType","readOnly","reactWhenReadOnly","roomTopic","roomDescription","roomAnnouncement","roomAvatar","undefined","joinCode","systemMessages","Array","isArray","hideSysMes","length","retentionEnabled","enabled","retentionOverrideGlobal","overrideGlobal","retentionMaxAge","Math","min","maxAge","retentionExcludePinned","excludePinned","retentionFilesOnly","filesOnly","getCanChangeType","canCreateChannel","canCreateGroup","isAdmin","EditChannel","onClickClose","onClickBack","setModal","saveData","onChange","initialValue","value","key","current","JSON","stringify","values","handlers","hasUnsavedChanges","reset","commit","sysMesOptions","map","i18nLabel","handleJoinCode","handleJoinCodeRequired","handleSystemMessages","handleEncrypted","handleHideSysMes","handleRoomName","handleReadOnly","handleArchived","handleRoomAvatar","handleReactWhenReadOnly","handleRoomType","handleRoomTopic","handleRoomDescription","handleRoomAnnouncement","handleRetentionEnabled","handleRetentionOverrideGlobal","handleRetentionMaxAge","handleRetentionExcludePinned","handleRetentionFilesOnly","isAllowed","getConfig","allowRoomSettingChange","NAME","TOPIC","ANNOUNCEMENT","ARCHIVE_OR_UNARCHIVE","DESCRIPTION","TYPE","READ_ONLY","SYSTEM_MESSAGES","JOIN_CODE","REACT_WHEN_READ_ONLY","E2E","canViewName","canViewTopic","canViewAnnouncement","canViewArchived","canViewDescription","canViewType","canViewReadOnly","canViewHideSysMes","canViewJoinCode","canViewReactWhenReadOnly","canViewEncrypted","canChangeType","canSetRo","_id","canSetReactWhenRo","canEditRoomRetentionPolicy","canArchiveOrUnarchive","canDelete","canToggleEncryption","isReady","changeArchivation","archiveSelector","archiveMessage","saveAction","archiveAction","handleSave","data","save","rid","archive","action","Promise","all","filter","Boolean","deleteRoom","handleDelete","onCancel","onConfirm","changeRoomType","onChangeMaxAge","e","max","Number","currentTarget","preventDefault","exportDefault"],"mappings":"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","file":"dynamic/client/views/room/contextualBar/Info/EditRoomInfo/EditChannel.js","sourcesContent":["import {\n\tField,\n\tTextInput,\n\tPasswordInput,\n\tToggleSwitch,\n\tMultiSelect,\n\tAccordion,\n\tCallout,\n\tNumberInput,\n\tFieldGroup,\n\tButton,\n\tButtonGroup,\n\tBox,\n\tIcon,\n\tTextAreaInput,\n} from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { useCallback, useMemo, useRef } from 'react';\n\nimport { e2e } from '../../../../../../app/e2e/client/rocketchat.e2e';\nimport { MessageTypesValues } from '../../../../../../app/lib/lib/MessageTypes';\nimport { roomTypes, RoomSettingsEnum } from '../../../../../../app/utils/client';\nimport GenericModal from '../../../../../components/GenericModal';\nimport RawText from '../../../../../components/RawText';\nimport VerticalBar from '../../../../../components/VerticalBar';\nimport RoomAvatarEditor from '../../../../../components/avatar/RoomAvatarEditor';\nimport { usePermission, useAtLeastOnePermission, useRole } from '../../../../../contexts/AuthorizationContext';\nimport { useSetModal } from '../../../../../contexts/ModalContext';\nimport { useMethod } from '../../../../../contexts/ServerContext';\nimport { useSetting } from '../../../../../contexts/SettingsContext';\nimport { useTranslation } from '../../../../../contexts/TranslationContext';\nimport { useEndpointActionExperimental } from '../../../../../hooks/useEndpointActionExperimental';\nimport { useForm } from '../../../../../hooks/useForm';\n\nconst typeMap = {\n\tc: 'Channels',\n\tp: 'Groups',\n\td: 'DMs',\n};\n\nconst useInitialValues = (room, settings) => {\n\tconst { t, ro, archived, topic, description, announcement, joinCodeRequired, sysMes, encrypted, retention = {} } = room;\n\n\tconst { retentionPolicyEnabled, maxAgeDefault } = settings;\n\n\tconst retentionEnabledDefault = useSetting(`RetentionPolicy_AppliesTo${typeMap[room.t]}`);\n\tconst excludePinnedDefault = useSetting('RetentionPolicy_DoNotPrunePinned');\n\tconst filesOnlyDefault = useSetting('RetentionPolicy_FilesOnly');\n\n\treturn useMemo(\n\t\t() => ({\n\t\t\troomName: t === 'd' ? room.usernames.join(' x ') : roomTypes.getRoomName(t, { type: t, ...room }),\n\t\t\troomType: t,\n\t\t\treadOnly: !!ro,\n\t\t\treactWhenReadOnly: false,\n\t\t\tarchived: !!archived,\n\t\t\troomTopic: topic ?? '',\n\t\t\troomDescription: description ?? '',\n\t\t\troomAnnouncement: announcement ?? '',\n\t\t\troomAvatar: undefined,\n\t\t\tjoinCode: '',\n\t\t\tjoinCodeRequired: !!joinCodeRequired,\n\t\t\tsystemMessages: Array.isArray(sysMes) ? sysMes : [],\n\t\t\thideSysMes: !!sysMes?.length,\n\t\t\tencrypted,\n\t\t\t...(retentionPolicyEnabled && {\n\t\t\t\tretentionEnabled: retention.enabled ?? retentionEnabledDefault,\n\t\t\t\tretentionOverrideGlobal: !!retention.overrideGlobal,\n\t\t\t\tretentionMaxAge: Math.min(retention.maxAge, maxAgeDefault) || maxAgeDefault,\n\t\t\t\tretentionExcludePinned: retention.excludePinned ?? excludePinnedDefault,\n\t\t\t\tretentionFilesOnly: retention.filesOnly ?? filesOnlyDefault,\n\t\t\t}),\n\t\t}),\n\t\t[\n\t\t\tannouncement,\n\t\t\tarchived,\n\t\t\tdescription,\n\t\t\texcludePinnedDefault,\n\t\t\tfilesOnlyDefault,\n\t\t\tjoinCodeRequired,\n\t\t\tmaxAgeDefault,\n\t\t\tretention.enabled,\n\t\t\tretention.excludePinned,\n\t\t\tretention.filesOnly,\n\t\t\tretention.maxAge,\n\t\t\tretention.overrideGlobal,\n\t\t\tretentionEnabledDefault,\n\t\t\tretentionPolicyEnabled,\n\t\t\tro,\n\t\t\troom,\n\t\t\tsysMes,\n\t\t\tt,\n\t\t\ttopic,\n\t\t\tencrypted,\n\t\t],\n\t);\n};\n\nconst getCanChangeType = (room, canCreateChannel, canCreateGroup, isAdmin) =>\n\t(!room.default || isAdmin) && ((room.t === 'p' && canCreateChannel) || (room.t === 'c' && canCreateGroup));\n\nfunction EditChannel({ room, onClickClose, onClickBack }) {\n\tconst t = useTranslation();\n\n\tconst setModal = useSetModal();\n\n\tconst retentionPolicyEnabled = useSetting('RetentionPolicy_Enabled');\n\tconst maxAgeDefault = useSetting(`RetentionPolicy_MaxAge_${typeMap[room.t]}`) || 30;\n\n\tconst saveData = useRef({});\n\n\tconst onChange = useCallback(({ initialValue, value, key }) => {\n\t\tconst { current } = saveData;\n\t\tif (JSON.stringify(initialValue) !== JSON.stringify(value)) {\n\t\t\tif (key === 'systemMessages' && value?.length > 0) {\n\t\t\t\tcurrent.hideSysMes = true;\n\t\t\t}\n\t\t\tcurrent[key] = value;\n\t\t} else {\n\t\t\tdelete current[key];\n\t\t}\n\t}, []);\n\n\tconst { values, handlers, hasUnsavedChanges, reset, commit } = useForm(\n\t\tuseInitialValues(room, { retentionPolicyEnabled, maxAgeDefault }),\n\t\tonChange,\n\t);\n\n\tconst sysMesOptions = useMemo(() => MessageTypesValues.map(({ key, i18nLabel }) => [key, t(i18nLabel)]), [t]);\n\n\tconst {\n\t\troomName,\n\t\troomType,\n\t\treadOnly,\n\t\tencrypted,\n\t\troomAvatar,\n\t\tarchived,\n\t\troomTopic,\n\t\troomDescription,\n\t\troomAnnouncement,\n\t\treactWhenReadOnly,\n\t\tjoinCode,\n\t\tjoinCodeRequired,\n\t\tsystemMessages,\n\t\thideSysMes,\n\t\tretentionEnabled,\n\t\tretentionOverrideGlobal,\n\t\tretentionMaxAge,\n\t\tretentionExcludePinned,\n\t\tretentionFilesOnly,\n\t} = values;\n\n\tconst {\n\t\thandleJoinCode,\n\t\thandleJoinCodeRequired,\n\t\thandleSystemMessages,\n\t\thandleEncrypted,\n\t\thandleHideSysMes,\n\t\thandleRoomName,\n\t\thandleReadOnly,\n\t\thandleArchived,\n\t\thandleRoomAvatar,\n\t\thandleReactWhenReadOnly,\n\t\thandleRoomType,\n\t\thandleRoomTopic,\n\t\thandleRoomDescription,\n\t\thandleRoomAnnouncement,\n\t\thandleRetentionEnabled,\n\t\thandleRetentionOverrideGlobal,\n\t\thandleRetentionMaxAge,\n\t\thandleRetentionExcludePinned,\n\t\thandleRetentionFilesOnly,\n\t} = handlers;\n\n\tconst [\n\t\tcanViewName,\n\t\tcanViewTopic,\n\t\tcanViewAnnouncement,\n\t\tcanViewArchived,\n\t\tcanViewDescription,\n\t\tcanViewType,\n\t\tcanViewReadOnly,\n\t\tcanViewHideSysMes,\n\t\tcanViewJoinCode,\n\t\tcanViewReactWhenReadOnly,\n\t\tcanViewEncrypted,\n\t] = useMemo(() => {\n\t\tconst isAllowed = roomTypes.getConfig(room.t)?.allowRoomSettingChange || (() => {});\n\t\treturn [\n\t\t\tisAllowed(room, RoomSettingsEnum.NAME),\n\t\t\tisAllowed(room, RoomSettingsEnum.TOPIC),\n\t\t\tisAllowed(room, RoomSettingsEnum.ANNOUNCEMENT),\n\t\t\tisAllowed(room, RoomSettingsEnum.ARCHIVE_OR_UNARCHIVE),\n\t\t\tisAllowed(room, RoomSettingsEnum.DESCRIPTION),\n\t\t\tisAllowed(room, RoomSettingsEnum.TYPE),\n\t\t\tisAllowed(room, RoomSettingsEnum.READ_ONLY),\n\t\t\tisAllowed(room, RoomSettingsEnum.SYSTEM_MESSAGES),\n\t\t\tisAllowed(room, RoomSettingsEnum.JOIN_CODE),\n\t\t\tisAllowed(room, RoomSettingsEnum.REACT_WHEN_READ_ONLY),\n\t\t\tisAllowed(room, RoomSettingsEnum.E2E),\n\t\t];\n\t}, [room]);\n\n\tconst isAdmin = useRole('admin');\n\n\tconst canCreateChannel = usePermission('create-c');\n\tconst canCreateGroup = usePermission('create-p');\n\tconst canChangeType = getCanChangeType(room, canCreateChannel, canCreateGroup, isAdmin);\n\tconst canSetRo = usePermission('set-readonly', room._id);\n\tconst canSetReactWhenRo = usePermission('set-react-when-readonly', room._id);\n\tconst canEditRoomRetentionPolicy = usePermission('edit-room-retention-policy', room._id);\n\tconst canArchiveOrUnarchive = useAtLeastOnePermission(\n\t\tuseMemo(() => ['archive-room', 'unarchive-room'], []),\n\t\troom._id,\n\t);\n\tconst canDelete = usePermission(`delete-${room.t}`);\n\tconst canToggleEncryption = usePermission('toggle-room-e2e-encryption', room._id) && (room.encrypted || e2e.isReady());\n\n\tconst changeArchivation = archived !== !!room.archived;\n\tconst archiveSelector = room.archived ? 'unarchive' : 'archive';\n\tconst archiveMessage = room.archived ? 'Room_has_been_unarchived' : 'Room_has_been_archived';\n\tconst saveAction = useEndpointActionExperimental('POST', 'rooms.saveRoomSettings', t('Room_updated_successfully'));\n\tconst archiveAction = useEndpointActionExperimental('POST', 'rooms.changeArchivationState', t(archiveMessage));\n\n\tconst handleSave = useMutableCallback(async () => {\n\t\tconst { joinCodeRequired, hideSysMes, ...data } = saveData.current;\n\t\tdelete data.archived;\n\t\tconst save = () =>\n\t\t\tsaveAction({\n\t\t\t\trid: room._id,\n\t\t\t\t...data,\n\t\t\t\t...(joinCode && { joinCode: joinCodeRequired ? joinCode : '' }),\n\t\t\t\t...((data.systemMessages || !hideSysMes) && {\n\t\t\t\t\tsystemMessages: hideSysMes && systemMessages,\n\t\t\t\t}),\n\t\t\t});\n\n\t\tconst archive = () => archiveAction({ rid: room._id, action: archiveSelector });\n\n\t\tawait Promise.all([hasUnsavedChanges && save(), changeArchivation && archive()].filter(Boolean));\n\t\tsaveData.current = {};\n\t\tcommit();\n\t});\n\n\tconst deleteRoom = useMethod('eraseRoom');\n\n\tconst handleDelete = useMutableCallback(() => {\n\t\tconst onCancel = () => setModal(undefined);\n\t\tconst onConfirm = async () => {\n\t\t\tawait deleteRoom(room._id);\n\t\t\tonCancel();\n\t\t};\n\n\t\tsetModal(\n\t\t\t<GenericModal variant='danger' onConfirm={onConfirm} onCancel={onCancel} confirmText={t('Yes_delete_it')}>\n\t\t\t\t{t('Delete_Room_Warning')}\n\t\t\t</GenericModal>,\n\t\t);\n\t});\n\n\tconst changeRoomType = useMutableCallback(() => {\n\t\thandleRoomType(roomType === 'p' ? 'c' : 'p');\n\t});\n\n\tconst onChangeMaxAge = useMutableCallback((e) => {\n\t\thandleRetentionMaxAge(Math.max(1, Number(e.currentTarget.value)));\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<VerticalBar.Header>\n\t\t\t\t{onClickBack && <VerticalBar.Back onClick={onClickBack} />}\n\t\t\t\t<VerticalBar.Text>{t('edit-room')}</VerticalBar.Text>\n\t\t\t\t{onClickClose && <VerticalBar.Close onClick={onClickClose} />}\n\t\t\t</VerticalBar.Header>\n\n\t\t\t<VerticalBar.ScrollableContent p='x24' is='form' onSubmit={useMutableCallback((e) => e.preventDefault())}>\n\t\t\t\t<Box display='flex' justifyContent='center'>\n\t\t\t\t\t<RoomAvatarEditor room={room} roomAvatar={roomAvatar} onChangeAvatar={handleRoomAvatar} />\n\t\t\t\t</Box>\n\t\t\t\t<Field>\n\t\t\t\t\t<Field.Label>{t('Name')}</Field.Label>\n\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t<TextInput disabled={!canViewName} value={roomName} onChange={handleRoomName} flexGrow={1} />\n\t\t\t\t\t</Field.Row>\n\t\t\t\t</Field>\n\t\t\t\t{canViewDescription && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Description')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TextAreaInput rows={4} value={roomDescription} onChange={handleRoomDescription} flexGrow={1} />\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewAnnouncement && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Announcement')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TextAreaInput rows={4} value={roomAnnouncement} onChange={handleRoomAnnouncement} flexGrow={1} />\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewTopic && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Topic')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TextAreaInput rows={4} value={roomTopic} onChange={handleRoomTopic} flexGrow={1} />\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewType && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Private')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch disabled={!canChangeType} checked={roomType === 'p'} onChange={changeRoomType} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Field.Hint>{t('Teams_New_Private_Description_Enabled')}</Field.Hint>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewReadOnly && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Read_only')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch disabled={!canSetRo} checked={readOnly} onChange={handleReadOnly} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Field.Hint>{t('Only_authorized_users_can_write_new_messages')}</Field.Hint>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewReactWhenReadOnly && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('React_when_read_only')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch disabled={!canSetReactWhenRo} checked={reactWhenReadOnly} onChange={handleReactWhenReadOnly} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Field.Hint>{t('Only_authorized_users_can_react_to_messages')}</Field.Hint>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewArchived && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Room_archivation_state_true')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch disabled={!canArchiveOrUnarchive} checked={archived} onChange={handleArchived} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewJoinCode && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Password_to_access')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch checked={joinCodeRequired} onChange={handleJoinCodeRequired} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\tdisabled={!joinCodeRequired}\n\t\t\t\t\t\t\t\tvalue={joinCode}\n\t\t\t\t\t\t\t\tonChange={handleJoinCode}\n\t\t\t\t\t\t\t\tplaceholder={t('Reset_password')}\n\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewHideSysMes && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Hide_System_Messages')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch checked={hideSysMes} onChange={handleHideSysMes} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<MultiSelect\n\t\t\t\t\t\t\t\tmaxWidth='100%'\n\t\t\t\t\t\t\t\toptions={sysMesOptions}\n\t\t\t\t\t\t\t\tdisabled={!hideSysMes}\n\t\t\t\t\t\t\t\tvalue={systemMessages}\n\t\t\t\t\t\t\t\tonChange={handleSystemMessages}\n\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewEncrypted && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Encrypted')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch disabled={!canToggleEncryption} checked={encrypted} onChange={handleEncrypted} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{retentionPolicyEnabled && (\n\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t<Accordion.Item title={t('Prune')}>\n\t\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t\t<Field.Label>{t('RetentionPolicyRoom_Enabled')}</Field.Label>\n\t\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch checked={retentionEnabled} onChange={handleRetentionEnabled} />\n\t\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t\t<Field.Label>{t('RetentionPolicyRoom_OverrideGlobal')}</Field.Label>\n\t\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!retentionEnabled || !canEditRoomRetentionPolicy}\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={retentionOverrideGlobal}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleRetentionOverrideGlobal}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t{retentionOverrideGlobal && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Callout type='danger'>\n\t\t\t\t\t\t\t\t\t\t\t<RawText>{t('RetentionPolicyRoom_ReadTheDocs')}</RawText>\n\t\t\t\t\t\t\t\t\t\t</Callout>\n\t\t\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t\t\t<Field.Label>{t('RetentionPolicyRoom_MaxAge', { max: maxAgeDefault })}</Field.Label>\n\t\t\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t\t\t<NumberInput value={retentionMaxAge} onChange={onChangeMaxAge} flexGrow={1} />\n\t\t\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field.Label>{t('RetentionPolicyRoom_ExcludePinned')}</Field.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch checked={retentionExcludePinned} onChange={handleRetentionExcludePinned} />\n\t\t\t\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field.Label>{t('RetentionPolicyRoom_FilesOnly')}</Field.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch checked={retentionFilesOnly} onChange={handleRetentionFilesOnly} />\n\t\t\t\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t</Accordion>\n\t\t\t\t)}\n\t\t\t\t<Field>\n\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' w='full'>\n\t\t\t\t\t\t\t<ButtonGroup stretch flexGrow={1}>\n\t\t\t\t\t\t\t\t<Button type='reset' disabled={!hasUnsavedChanges} onClick={reset}>\n\t\t\t\t\t\t\t\t\t{t('Reset')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button flexGrow={1} disabled={!hasUnsavedChanges} onClick={handleSave}>\n\t\t\t\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field.Row>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t<Button flexGrow={1} primary danger disabled={!canDelete} onClick={handleDelete}>\n\t\t\t\t\t\t\t<Icon name='trash' size='x16' />\n\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Field.Row>\n\t\t\t\t</Field>\n\t\t\t</VerticalBar.ScrollableContent>\n\t\t</>\n\t);\n}\n\nexport default EditChannel;\n"]}