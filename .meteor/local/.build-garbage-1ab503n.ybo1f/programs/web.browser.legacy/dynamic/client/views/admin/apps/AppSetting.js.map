{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/apps/AppSetting.js"],"names":["_extends","module","link","default","v","_objectWithoutProperties","React","useMemo","useCallback","MarkdownText","useRouteParameter","useTranslation","MemoizedSetting","useAppTranslation","appId","t","tApp","key","appKey","args","has","AppSetting","appSetting","onChange","value","props","id","type","i18nLabel","i18nDescription","values","required","label","hint","translatedValues","length","map","selectFieldEntry","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/apps/AppSetting.js","sourcesContent":["import React, { useMemo, useCallback } from 'react';\n\nimport MarkdownText from '../../../components/MarkdownText';\nimport { useRouteParameter } from '../../../contexts/RouterContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport MemoizedSetting from '../settings/MemoizedSetting';\n\nconst useAppTranslation = (appId) => {\n\tconst t = useTranslation();\n\n\tconst tApp = useCallback(\n\t\t(key, ...args) => {\n\t\t\tif (!key) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tconst appKey = `project:apps-${appId}-${key}`;\n\t\t\treturn t(t.has(appKey) ? appKey : key, ...args);\n\t\t},\n\t\t[t, appId],\n\t);\n\n\ttApp.has = useCallback(\n\t\t(key) => {\n\t\t\tif (!key) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn t.has(`project:apps-${appId}-${key}`) || t.has(key);\n\t\t},\n\t\t[t, appId],\n\t);\n\n\treturn tApp;\n};\n\nfunction AppSetting({ appSetting, onChange, value, ...props }) {\n\tconst appId = useRouteParameter('id');\n\tconst tApp = useAppTranslation(appId);\n\n\tconst { id, type, i18nLabel, i18nDescription, values, required } = appSetting;\n\n\tconst label = (i18nLabel && tApp(i18nLabel)) + (required ? ' *' : '') || id || tApp(id);\n\tconst hint = useMemo(() => i18nDescription && <MarkdownText content={tApp(i18nDescription)} />, [i18nDescription, tApp]);\n\n\tlet translatedValues;\n\tif (values?.length) {\n\t\ttranslatedValues = values.map((selectFieldEntry) => {\n\t\t\tconst { key, i18nLabel } = selectFieldEntry;\n\n\t\t\tif (!i18nLabel) {\n\t\t\t\treturn selectFieldEntry;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\ti18nLabel: tApp(i18nLabel),\n\t\t\t};\n\t\t});\n\t}\n\n\treturn (\n\t\t<MemoizedSetting\n\t\t\ttype={type}\n\t\t\tlabel={label}\n\t\t\thint={hint}\n\t\t\tvalue={value}\n\t\t\tonChangeValue={onChange}\n\t\t\t_id={id}\n\t\t\tvalues={translatedValues}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport default AppSetting;\n"]}