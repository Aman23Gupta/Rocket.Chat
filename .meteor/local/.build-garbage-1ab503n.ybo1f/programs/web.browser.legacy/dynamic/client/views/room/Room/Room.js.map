{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/Room/Room.js"],"names":["_extends","module","link","default","v","useMutableCallback","React","useDebugValue","useMemo","ErrorBoundary","useTranslation","useUserPreference","Header","BlazeTemplate","RoomTemplate","VerticalBarOldActions","useRoom","AppsContextualBar","useAppsContextualBar","useTab","useTabBarOpen","useTabBarClose","useTabBarOpenUserInfo","Aside","Body","Footer","LazyComponent","Room","t","room","tab","open","close","openUserInfo","hideFlexTab","isOpen","template","appsContextualBarContext","tabBar","_id","undefined","id","teamId","viewId","roomId","payload","appInfo","exportDefault","Object","assign"],"mappings":"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","file":"dynamic/client/views/room/Room/Room.js","sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { useDebugValue, useMemo } from 'react';\n\nimport { ErrorBoundary } from '../../../components/ErrorBoundary';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useUserPreference } from '../../../contexts/UserContext';\nimport Header from '../Header';\nimport BlazeTemplate from '../components/BlazeTemplate';\nimport { RoomTemplate } from '../components/RoomTemplate/RoomTemplate';\nimport VerticalBarOldActions from '../components/VerticalBarOldActions';\nimport { useRoom } from '../contexts/RoomContext';\nimport AppsContextualBar from '../contextualBar/Apps';\nimport { useAppsContextualBar } from '../hooks/useAppsContextualBar';\nimport { useTab, useTabBarOpen, useTabBarClose, useTabBarOpenUserInfo } from '../providers/ToolboxProvider';\nimport Aside from './Aside';\nimport Body from './Body';\nimport Footer from './Footer';\nimport LazyComponent from './LazyComponent';\n\nconst Room = () => {\n\tconst t = useTranslation();\n\tconst room = useRoom();\n\tconst tab = useTab();\n\tconst open = useTabBarOpen();\n\tconst close = useTabBarClose();\n\tconst openUserInfo = useTabBarOpenUserInfo();\n\n\tconst hideFlexTab = useUserPreference('hideFlexTab');\n\tconst isOpen = useMutableCallback(() => !!(tab && tab.template));\n\n\tconst appsContextualBarContext = useAppsContextualBar();\n\n\tconst tabBar = useMemo(() => ({ open, close, isOpen, openUserInfo }), [open, close, isOpen, openUserInfo]);\n\n\tuseDebugValue(room);\n\tuseDebugValue(tab);\n\treturn (\n\t\t<RoomTemplate aria-label={t('Channel')} data-qa-rc-room={room._id}>\n\t\t\t<RoomTemplate.Header>\n\t\t\t\t<Header room={room} rid={room._id} />\n\t\t\t</RoomTemplate.Header>\n\t\t\t<RoomTemplate.Body>\n\t\t\t\t<BlazeTemplate onClick={hideFlexTab ? close : undefined} name='roomOld' tabBar={tabBar} rid={room._id} _id={room._id} />\n\t\t\t</RoomTemplate.Body>\n\t\t\t{tab && (\n\t\t\t\t<RoomTemplate.Aside data-qa-tabbar-name={tab.id}>\n\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t{typeof tab.template === 'string' && (\n\t\t\t\t\t\t\t<VerticalBarOldActions {...tab} name={tab.template} tabBar={tabBar} rid={room._id} _id={room._id} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{typeof tab.template !== 'string' && (\n\t\t\t\t\t\t\t<LazyComponent template={tab.template} tabBar={tabBar} rid={room._id} teamId={room.teamId} _id={room._id} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t</RoomTemplate.Aside>\n\t\t\t)}\n\t\t\t{appsContextualBarContext && (\n\t\t\t\t<RoomTemplate.Aside data-qa-tabbar-name={appsContextualBarContext.viewId}>\n\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t<LazyComponent\n\t\t\t\t\t\t\ttemplate={AppsContextualBar}\n\t\t\t\t\t\t\tviewId={appsContextualBarContext.viewId}\n\t\t\t\t\t\t\troomId={appsContextualBarContext.roomId}\n\t\t\t\t\t\t\tpayload={appsContextualBarContext.payload}\n\t\t\t\t\t\t\tappInfo={appsContextualBarContext.appInfo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t</RoomTemplate.Aside>\n\t\t\t)}\n\t\t</RoomTemplate>\n\t);\n};\n\nexport default Object.assign(Room, {\n\tHeader,\n\tBody,\n\tFooter,\n\tAside,\n});\n"]}