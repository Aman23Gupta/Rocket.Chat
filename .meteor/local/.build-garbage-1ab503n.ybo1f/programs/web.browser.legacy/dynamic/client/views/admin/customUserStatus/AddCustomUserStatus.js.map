{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/customUserStatus/AddCustomUserStatus.js"],"names":["_regeneratorRuntime","module","link","default","v","_slicedToArray","_objectWithoutProperties","Button","ButtonGroup","TextInput","Field","Select","React","useCallback","useState","VerticalBar","useMethod","useToastMessageDispatch","useTranslation","AddCustomUserStatus","goToNew","close","onChange","props","t","dispatchToastMessage","name","setName","statusType","setStatusType","saveStatus","handleSave","result","type","message","presenceOptions","e","currentTarget","value","exportDefault"],"mappings":"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","file":"dynamic/client/views/admin/customUserStatus/AddCustomUserStatus.js","sourcesContent":["import { Button, ButtonGroup, TextInput, Field, Select } from '@rocket.chat/fuselage';\nimport React, { useCallback, useState } from 'react';\n\nimport VerticalBar from '../../../components/VerticalBar';\nimport { useMethod } from '../../../contexts/ServerContext';\nimport { useToastMessageDispatch } from '../../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\n\nfunction AddCustomUserStatus({ goToNew, close, onChange, ...props }) {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst [name, setName] = useState('');\n\tconst [statusType, setStatusType] = useState('online');\n\n\tconst saveStatus = useMethod('insertOrUpdateUserStatus');\n\tconst handleSave = useCallback(async () => {\n\t\ttry {\n\t\t\tconst result = await saveStatus({\n\t\t\t\tname,\n\t\t\t\tstatusType,\n\t\t\t});\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('Custom_User_Status_Updated_Successfully'),\n\t\t\t});\n\t\t\tgoToNew(result)();\n\t\t\tonChange();\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [dispatchToastMessage, goToNew, name, onChange, saveStatus, statusType, t]);\n\n\tconst presenceOptions = [\n\t\t['online', t('Online')],\n\t\t['busy', t('Busy')],\n\t\t['away', t('Away')],\n\t\t['offline', t('Offline')],\n\t];\n\n\treturn (\n\t\t<VerticalBar.ScrollableContent {...props}>\n\t\t\t<Field>\n\t\t\t\t<Field.Label>{t('Name')}</Field.Label>\n\t\t\t\t<Field.Row>\n\t\t\t\t\t<TextInput value={name} onChange={(e) => setName(e.currentTarget.value)} placeholder={t('Name')} />\n\t\t\t\t</Field.Row>\n\t\t\t</Field>\n\t\t\t<Field>\n\t\t\t\t<Field.Label>{t('Presence')}</Field.Label>\n\t\t\t\t<Field.Row>\n\t\t\t\t\t<Select value={statusType} onChange={(value) => setStatusType(value)} placeholder={t('Presence')} options={presenceOptions} />\n\t\t\t\t</Field.Row>\n\t\t\t</Field>\n\t\t\t<Field>\n\t\t\t\t<Field.Row>\n\t\t\t\t\t<ButtonGroup stretch w='full'>\n\t\t\t\t\t\t<Button mie='x4' onClick={close}>\n\t\t\t\t\t\t\t{t('Cancel')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button primary onClick={handleSave} disabled={name === ''}>\n\t\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</Field.Row>\n\t\t\t</Field>\n\t\t</VerticalBar.ScrollableContent>\n\t);\n}\n\nexport default AddCustomUserStatus;\n"]}