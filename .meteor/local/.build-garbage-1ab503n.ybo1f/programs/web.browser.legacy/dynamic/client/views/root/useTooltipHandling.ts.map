{"version":3,"sources":["meteor://ðŸ’»app/client/views/root/useTooltipHandling.ts"],"names":[],"mappings":";;;;;;;;AAAA,OAAO,MAAP,CAAS;AAAA,oBAAwB,EAAC;AAAA;AAAA;AAAzB,CAAT;AAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAM3B,IAAM,kBAAkB,GAAG,YAAW;AAC5C,WAAS,CAAC,YAAK;AACd,WAAO,CAAC,IAAR;AACA,GAFQ,EAEN,EAFM,CAAT;AAIA,MAAM,aAAa,GAAG,iBAAiB,CAAC,eAAD,EAAkB,KAAlB,CAAvC;AAEA,WAAS,CAAC,YAAK;AACd,QAAI,CAAC,aAAL,EAAoB;AACnB;AACA;;AAED,QAAM,gBAAgB,GAAG,SAAS,CAAC,QAAV,CAAmB;AAC3C,YAAM,EAAE,QAAQ,CAAC,IAD0B;AAE3C,eAAS,EAAE,YAFgC;AAG3C,qBAAe,EAAE,cAH0B;AAI3C,cAAQ,EAAE,UAAC,KAAD,EAAQ,OAAR,EAAmB;AAC5B,YAAM,QAAQ,GAAG,OAAO,YAAY,WAAnB,GAAiC,OAAO,CAAC,OAAR,CAAgB,QAAjD,GAA4D,IAA7E;;AACA,YAAI,CAAC,QAAL,EAAe;AACd;AACA;;AAED,aAAK,CAAC,eAAN;AACA,YAAM,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,MAAvB,CAAb;AACA,YAAI,CAAC,SAAL,GAAiB,QAAjB;AACA,eAAO,CAAC,WAAR,CAAoB,IAApB,EAA0B,OAA1B;AACA;AAd0C,KAAnB,CAAzB;AAiBA,QAAM,gBAAgB,GAAG,SAAS,CAAC,QAAV,CAAmB;AAC3C,YAAM,EAAE,QAAQ,CAAC,IAD0B;AAE3C,eAAS,EAAE,YAFgC;AAG3C,qBAAe,EAAE,cAH0B;AAI3C,cAAQ,EAAE,YAAK;AACd,eAAO,CAAC,IAAR;AACA;AAN0C,KAAnB,CAAzB;AASA,WAAO,YAAW;AACjB,sBAAgB;AAChB,sBAAgB;AAChB,KAHD;AAIA,GAnCQ,EAmCN,CAAC,aAAD,CAnCM,CAAT;AAoCA,CA3CM,C","file":"dynamic/client/views/root/useTooltipHandling.ts","sourcesContent":["import { useEffect } from 'react';\n\nimport { tooltip } from '../../../app/ui/client/components/tooltip';\nimport { useUserPreference } from '../../contexts/UserContext';\nimport * as domEvents from '../../lib/utils/domEvents';\n\nexport const useTooltipHandling = (): void => {\n\tuseEffect(() => {\n\t\ttooltip.init();\n\t}, []);\n\n\tconst hideUsernames = useUserPreference('hideUsernames', false);\n\n\tuseEffect(() => {\n\t\tif (!hideUsernames) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst detachMouseEnter = domEvents.delegate({\n\t\t\tparent: document.body,\n\t\t\teventName: 'mouseenter',\n\t\t\telementSelector: 'button.thumb',\n\t\t\tlistener: (event, element) => {\n\t\t\t\tconst username = element instanceof HTMLElement ? element.dataset.username : null;\n\t\t\t\tif (!username) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tconst span = document.createElement('span');\n\t\t\t\tspan.innerText = username;\n\t\t\t\ttooltip.showElement(span, element);\n\t\t\t},\n\t\t});\n\n\t\tconst detachMouseLeave = domEvents.delegate({\n\t\t\tparent: document.body,\n\t\t\teventName: 'mouseleave',\n\t\t\telementSelector: 'button.thumb',\n\t\t\tlistener: () => {\n\t\t\t\ttooltip.hide();\n\t\t\t},\n\t\t});\n\n\t\treturn (): void => {\n\t\t\tdetachMouseEnter();\n\t\t\tdetachMouseLeave();\n\t\t};\n\t}, [hideUsernames]);\n};\n"]}