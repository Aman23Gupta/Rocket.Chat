{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/departments/EditDepartmentWithData.js"],"names":["Box","module","link","v","React","FormSkeleton","useTranslation","AsyncStatePhase","useEndpointData","EditDepartment","EditDepartmentWithAllowedForwardData","param","onlyMyDepartments","EditDepartmentWithData","id","reload","title","t","data","value","state","phase","error","includes","LOADING","department","departmentsAllowedToForward","length","exportDefault"],"mappings":"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","file":"dynamic/client/views/omnichannel/departments/EditDepartmentWithData.js","sourcesContent":["import { Box } from '@rocket.chat/fuselage';\nimport React from 'react';\n\nimport { FormSkeleton } from '../../../components/Skeleton';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { AsyncStatePhase } from '../../../hooks/useAsyncState';\nimport { useEndpointData } from '../../../hooks/useEndpointData';\nimport EditDepartment from './EditDepartment';\nimport EditDepartmentWithAllowedForwardData from './EditDepartmentWithAllowedForwardData';\n\nconst param = { onlyMyDepartments: true };\nfunction EditDepartmentWithData({ id, reload, title }) {\n\tconst t = useTranslation();\n\tconst { value: data, phase: state, error } = useEndpointData(`livechat/department/${id}`, param);\n\n\tif ([state].includes(AsyncStatePhase.LOADING)) {\n\t\treturn <FormSkeleton />;\n\t}\n\n\tif (error || (id && !data?.department)) {\n\t\treturn <Box mbs='x16'>{t('Department_not_found')}</Box>;\n\t}\n\treturn (\n\t\t<>\n\t\t\t{data && data.department && data.department.departmentsAllowedToForward && data.department.departmentsAllowedToForward.length > 0 ? (\n\t\t\t\t<EditDepartmentWithAllowedForwardData id={id} data={data} reload={reload} title={title} />\n\t\t\t) : (\n\t\t\t\t<EditDepartment id={id} data={data} reload={reload} title={title} />\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default EditDepartmentWithData;\n"]}