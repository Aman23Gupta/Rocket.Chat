{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/header/actions/CreateRoom.js"],"names":["_extends","module","link","default","v","Box","Sidebar","Dropdown","React","useRef","createPortal","useAtLeastOnePermission","useDropdownVisibility","CreateRoomList","CREATE_ROOM_PERMISSIONS","CreateRoom","props","reference","target","isVisible","toggle","showCreate","document","body","exportDefault"],"mappings":"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","file":"dynamic/client/sidebar/header/actions/CreateRoom.js","sourcesContent":["import { Box, Sidebar, Dropdown } from '@rocket.chat/fuselage';\nimport React, { useRef } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { useAtLeastOnePermission } from '../../../contexts/AuthorizationContext';\nimport { useDropdownVisibility } from '../hooks/useDropdownVisibility';\nimport CreateRoomList from './CreateRoomList';\n\nconst CREATE_ROOM_PERMISSIONS = ['create-c', 'create-p', 'create-d', 'start-discussion', 'start-discussion-other-user'];\n\nconst CreateRoom = (props) => {\n\tconst reference = useRef(null);\n\tconst target = useRef(null);\n\tconst { isVisible, toggle } = useDropdownVisibility({ reference, target });\n\n\tconst showCreate = useAtLeastOnePermission(CREATE_ROOM_PERMISSIONS);\n\n\treturn (\n\t\t<>\n\t\t\t{showCreate && (\n\t\t\t\t<Box ref={reference}>\n\t\t\t\t\t<Sidebar.TopBar.Action {...props} icon='edit-rounded' onClick={toggle} />\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t{isVisible &&\n\t\t\t\tcreatePortal(\n\t\t\t\t\t<Dropdown reference={reference} ref={target}>\n\t\t\t\t\t\t<CreateRoomList closeList={() => toggle(false)} />\n\t\t\t\t\t</Dropdown>,\n\t\t\t\t\tdocument.body,\n\t\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default CreateRoom;\n"]}