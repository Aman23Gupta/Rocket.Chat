{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/hooks/useSidebarPaletteColor.js"],"names":["_regeneratorRuntime","module","link","default","v","_objectSpread","_slicedToArray","export","useSidebarPaletteColor","colors","useLayoutEffect","useEffect","useMemo","useSettings","isIE11","oldPallet","getStyleTag","style","document","getElementById","newElement","createElement","id","setAttribute","head","appendChild","lightenDarkenColor","col","amt","usePound","slice","num","parseInt","r","b","g","toString","h2r","hex","a","match","hash","map","value","join","modifier","query","_id","useTheme","customColors","result","n900","find","n800","sibebarSurface","n700","n600","n500","n400","n300","n200","n100","toVar","color","getStyle","selector","b900","b800","b700","b600","b500","b400","b300","b200","b100","useSidebarPaletteColorIE11","Promise","all","cssVars","CSSOM","innerHTML","fuselageStyle","sidebarStyle","cloneNode","fuselageStyleRules","innerText","filter","text","test","sheet","parse","filterSelectors","insertSelector","replace","group","g2","g3","offset","cssRules","rule","selectorText","split","Array","from","length","_","index","forEach","key","removeProperty","cssText","include","onlyLegacy","preserveStatic","silent","console","log","remove"],"mappings":"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","file":"dynamic/client/sidebar/hooks/useSidebarPaletteColor.js","sourcesContent":["import colors from '@rocket.chat/fuselage-tokens/colors';\nimport { useLayoutEffect, useEffect, useMemo } from 'react';\n\nimport { useSettings } from '../../contexts/SettingsContext';\nimport { isIE11 } from '../../lib/utils/isIE11';\n\nconst oldPallet = {\n\t'color-dark-100': '#0c0d0f',\n\t'color-dark-90': '#1e232a',\n\t'color-dark-80': '#2e343e',\n\t'color-dark-70': '#53585f',\n\t'color-dark-30': '#9da2a9',\n\t'color-dark-20': '#caced1',\n\t'color-dark-10': '#e0e5e8',\n\t'color-dark-05': '#f1f2f4',\n\t'color-dark-blue': '#175cc4',\n\t'color-blue': '#1d74f5',\n\t'color-light-blue': '#4eb2f5',\n\t'color-lighter-blue': '#e8f2ff',\n\t'color-purple': '#861da8',\n\t'color-red': '#f5455c',\n\t'color-dark-red': '#e0364d',\n\t'color-orange': '#f38c39',\n\t'color-yellow': '#ffd21f',\n\t'color-dark-yellow': '#f6c502',\n\t'color-green': '#2de0a5',\n\t'color-dark-green': '#26d198',\n\t'color-darkest': '#1f2329',\n\t'color-dark': '#2f343d',\n\t'color-dark-medium': '#414852',\n\t'color-dark-light': '#6c727a',\n\t'color-gray': '#9ea2a8',\n\t'color-gray-medium': '#cbced1',\n\t'color-gray-light': '#e1e5e8',\n\t'color-gray-lightest': '#f2f3f5',\n\t'color-black': '#000000',\n\t'color-white': '#ffffff',\n};\n\nconst getStyleTag = () => {\n\tconst style = document.getElementById('sidebar-style');\n\tif (style) {\n\t\treturn style;\n\t}\n\tconst newElement = document.createElement('style');\n\n\tnewElement.id = 'sidebar-style';\n\tnewElement.setAttribute('type', 'text/css');\n\n\tdocument.head.appendChild(newElement);\n\treturn newElement;\n};\n\nfunction lightenDarkenColor(col, amt) {\n\tlet usePound = false;\n\n\tif (col[0] === '#') {\n\t\tcol = col.slice(1);\n\t\tusePound = true;\n\t}\n\n\tconst num = parseInt(col, 16);\n\n\tlet r = (num >> 16) + amt;\n\n\tif (r > 255) {\n\t\tr = 255;\n\t} else if (r < 0) {\n\t\tr = 0;\n\t}\n\n\tlet b = ((num >> 8) & 0x00ff) + amt;\n\n\tif (b > 255) {\n\t\tb = 255;\n\t} else if (b < 0) {\n\t\tb = 0;\n\t}\n\n\tlet g = (num & 0x0000ff) + amt;\n\n\tif (g > 255) {\n\t\tg = 255;\n\t} else if (g < 0) {\n\t\tg = 0;\n\t}\n\n\treturn (usePound ? '#' : '') + (g | (b << 8) | (r << 16)).toString(16);\n}\n\nfunction h2r(hex = '', a) {\n\tconst [hash, r, g, b] = hex.match(/#([0-f]{2})([0-f]{2})([0-f]{2})/i) || [];\n\n\treturn hash ? `rgba(${[r, g, b].map((value) => parseInt(value, 16)).join()}, ${a})` : hex;\n}\n\nconst modifier = '.sidebar--custom-colors';\n\nconst query = { _id: /theme-color-rc/ };\nconst useTheme = () => {\n\tconst customColors = useSettings(query);\n\tconst result = useMemo(() => {\n\t\tconst n900 = customColors.find(({ _id }) => _id === 'theme-color-rc-color-primary-darkest');\n\t\tconst n800 = customColors.find(({ _id }) => _id === 'theme-color-rc-color-primary-dark');\n\t\tconst sibebarSurface = customColors.find(({ _id }) => _id === 'theme-color-rc-color-primary-background');\n\t\tconst n700 = customColors.find(({ _id }) => _id === '');\n\t\tconst n600 = customColors.find(({ _id }) => _id === 'theme-color-rc-color-primary-light');\n\t\tconst n500 = customColors.find(({ _id }) => _id === 'theme-color-rc-primary-light-medium');\n\n\t\tconst n400 = customColors.find(({ _id }) => _id === '');\n\t\tconst n300 = customColors.find(({ _id }) => _id === '');\n\n\t\tconst n200 = customColors.find(({ _id }) => _id === 'theme-color-rc-color-primary-lightest');\n\t\tconst n100 = customColors.find(({ _id }) => _id === '');\n\t\treturn {\n\t\t\t...colors,\n\t\t\t...(n900 && { n900: n900.value }),\n\t\t\t...(n800 && { n800: n800.value }),\n\t\t\t...((sibebarSurface || n800) && { sibebarSurface: sibebarSurface.value || n800.value }),\n\t\t\t...((n700?.value[0] === '#' || n800?.value[0] === '#') && {\n\t\t\t\tn700: n700?.value || lightenDarkenColor(n800.value, 10),\n\t\t\t}),\n\t\t\t...(n700 && { n700: n700.value }),\n\t\t\t...(n600 && { n600: n600.value }),\n\t\t\t...(n500 && { n500: n500.value }),\n\n\t\t\t...(n400 && { n400: n400.value }),\n\t\t\t...(n300 && { n300: n300.value }),\n\n\t\t\t...(n200 && { n200: n200.value }),\n\t\t\t...(n100 && { n100: n100.value }),\n\t\t};\n\t}, [customColors]);\n\treturn result;\n};\n\nconst toVar = (color) => (color && color[0] === '#' ? color : oldPallet[color] || `var(--${color})`);\n\nconst getStyle = (\n\t(selector) => (colors) =>\n\t\t`\n\t\t${selector} {\n\t\t\t--rcx-color-neutral-100: ${toVar(colors.n900)};\n\t\t\t--rcx-color-neutral-200: ${toVar(colors.n800)};\n\t\t\t--rcx-color-neutral-300: ${toVar(colors.n700)};\n\t\t\t--rcx-color-neutral-400: ${toVar(colors.n600)};\n\t\t\t--rcx-color-neutral-500: ${toVar(colors.n500)};\n\t\t\t--rcx-color-neutral-600: ${toVar(colors.n400)};\n\t\t\t--rcx-color-neutral-700: ${toVar(colors.n300)};\n\t\t\t--rcx-color-neutral-800: ${toVar(colors.n200)};\n\t\t\t--rcx-color-neutral-900: ${toVar(colors.n100)};\n\n\t\t\t--rcx-color-primary-100: ${toVar(colors.b900)};\n\t\t\t--rcx-color-primary-200: ${toVar(colors.b800)};\n\t\t\t--rcx-color-primary-300: ${toVar(colors.b700)};\n\t\t\t--rcx-color-primary-400: ${toVar(colors.b600)};\n\t\t\t--rcx-color-primary-500: ${toVar(colors.b500)};\n\t\t\t--rcx-color-primary-600: ${toVar(colors.b400)};\n\t\t\t--rcx-color-primary-700: ${toVar(colors.b300)};\n\t\t\t--rcx-color-primary-800: ${toVar(colors.b200)};\n\t\t\t--rcx-color-primary-900: ${toVar(colors.b100)};\n\n\t\t\t--rcx-button-colors-ghost-active-border-color: ${toVar(colors.n900)};\n\t\t\t--rcx-button-colors-ghost-active-background-color: ${toVar(colors.n800)};\n\t\t\t--rcx-button-colors-ghost-color: ${toVar(colors.n600)};\n\t\t\t--rcx-button-colors-ghost-border-color: ${toVar(colors.sibebarSurface)};\n\t\t\t--rcx-button-colors-ghost-background-color: ${toVar(colors.sibebarSurface)};\n\t\t\t--rcx-button-colors-ghost-hover-background-color: ${toVar(colors.n900)};\n\t\t\t--rcx-button-colors-ghost-hover-border-color: ${toVar(colors.n900)};\n\n\t\t\t--rcx-button-colors-ghost-success-active-border-color: ${toVar(colors.n900)};\n\t\t\t--rcx-button-colors-ghost-success-active-background-color: ${toVar(colors.n800)};\n\t\t\t--rcx-button-colors-ghost-success-color: ${toVar(colors.n600)};\n\t\t\t--rcx-button-colors-ghost-success-border-color: ${toVar(colors.sibebarSurface)};\n\t\t\t--rcx-button-colors-ghost-success-background-color: ${toVar(colors.sibebarSurface)};\n\t\t\t--rcx-button-colors-ghost-success-hover-background-color: ${toVar(colors.n900)};\n\t\t\t--rcx-button-colors-ghost-success-hover-border-color: ${toVar(colors.n900)};\n\n\n\t\t\t--rcx-sidebar-item-background-color-hover: ${toVar(colors.n900)};\n\t\t\t--rcx-sidebar-item-background-color-selected: ${h2r(toVar(colors.n700 || colors.n800), 0.3)};\n\t\t\t--rcx-badge-colors-ghost-background-color: ${toVar(colors.n700)};\n\t\t\t--rcx-tag-colors-ghost-background-color: ${toVar(colors.n700)};\n\t\t\t--rcx-color-surface: ${toVar(colors.n900)};\n\n\t\t\t--rcx-divider-color: ${h2r(toVar(colors.n900), 0.4)};\n\t\t\t--rcx-color-foreground-alternative: ${toVar(colors.n100)};\n\t\t\t--rcx-color-foreground-hint: ${toVar(colors.n600)};\n\t\t}\n\t\t.rcx-sidebar {\n\t\t\tbackground-color: ${toVar(colors.sibebarSurface)};\n\t\t}\n\t`\n)(isIE11 ? ':root' : modifier);\n\nconst useSidebarPaletteColorIE11 = () => {\n\tconst colors = useTheme();\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst [{ default: cssVars }, CSSOM] = await Promise.all([import('css-vars-ponyfill'), import('cssom')]);\n\t\t\ttry {\n\t\t\t\tgetStyleTag().innerHTML = getStyle(colors);\n\t\t\t\tconst fuselageStyle = document.getElementById('fuselage-style');\n\n\t\t\t\tif (!fuselageStyle) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst sidebarStyle = fuselageStyle.cloneNode(true);\n\t\t\t\tsidebarStyle.setAttribute('id', 'sidebar-modifier');\n\t\t\t\tdocument.head.appendChild(sidebarStyle);\n\n\t\t\t\tconst fuselageStyleRules = sidebarStyle.innerText\n\t\t\t\t\t.match(/(.|\\n)*?\\{((.|\\n)*?)\\}(.|\\n)*?/gi)\n\t\t\t\t\t.filter((text) => /\\.rcx-(sidebar|button|divider|input)/.test(text));\n\n\t\t\t\tconst sheet = CSSOM.parse(\n\t\t\t\t\tfuselageStyleRules\n\t\t\t\t\t\t.join(' ')\n\t\t\t\t\t\t.match(/((?!\\}).|\\n)*?\\{|(.)*(color|background|shadow)(.)*|\\}/gi)\n\t\t\t\t\t\t.join(' '),\n\t\t\t\t);\n\n\t\t\t\tconst filterSelectors = (selector) => /rcx-(sidebar|button|divider|input)/.test(selector);\n\t\t\t\tconst insertSelector = (selector) =>\n\t\t\t\t\tselector.replace(/^((html:not\\(\\.js-focus-visible\\)|\\.js-focus-visible)|\\.)(.*)/, (match, group, g2, g3, offset, text) => {\n\t\t\t\t\t\tif (group === '.') {\n\t\t\t\t\t\t\treturn `${modifier} ${text}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn `${match} ${modifier} ${g3}`;\n\t\t\t\t\t});\n\n\t\t\t\tsidebarStyle.innerHTML = sheet.cssRules\n\t\t\t\t\t.map((rule) => {\n\t\t\t\t\t\trule.selectorText = rule.selectorText\n\t\t\t\t\t\t\t.split(/,[ \\n]/)\n\t\t\t\t\t\t\t.filter(filterSelectors)\n\t\t\t\t\t\t\t.map(insertSelector)\n\t\t\t\t\t\t\t.join();\n\t\t\t\t\t\tArray.from(rule.style.length)\n\t\t\t\t\t\t\t.map((_, index) => rule.style[index])\n\t\t\t\t\t\t\t.forEach((key, index) => !/color|background|shadow/.test(key) && rule.style.removeProperty(rule.style[index]));\n\t\t\t\t\t\treturn rule.cssText;\n\t\t\t\t\t})\n\t\t\t\t\t.join('');\n\t\t\t\tcssVars({\n\t\t\t\t\tinclude: 'style#sidebar-style,style#sidebar-modifier',\n\t\t\t\t\tonlyLegacy: false,\n\t\t\t\t\tpreserveStatic: true,\n\t\t\t\t\t// preserveVars: true,\n\t\t\t\t\tsilent: true,\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t})();\n\t\treturn () => {\n\t\t\tgetStyleTag().remove();\n\t\t};\n\t}, [colors]);\n};\n\nexport const useSidebarPaletteColor = isIE11\n\t? useSidebarPaletteColorIE11\n\t: () => {\n\t\t\tconst colors = useTheme();\n\t\t\tuseLayoutEffect(() => {\n\t\t\t\tgetStyleTag().innerHTML = getStyle(colors);\n\n\t\t\t\treturn () => {\n\t\t\t\t\tgetStyleTag().innerHTML = '';\n\t\t\t\t};\n\t\t\t}, [colors]);\n\t  };\n"]}