{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/RoomList/normalizeSidebarMessage.js"],"names":["module","export","normalizeSidebarMessage","escapeHTML","link","v","filterMarkdown","message","t","msg","attachments","attachment","find","title","description"],"mappings":";;;;;;;;AAAAA,MAAM,CAACC,MAAP,CAAc;AAACC,yBAAuB,EAAC,YAAU;AAAC,WAAOA,uBAAP;AAA+B;AAAnE,CAAd;AAAoF,IAAIC,UAAJ;AAAeH,MAAM,CAACI,IAAP,CAAY,6BAAZ,EAA0C;AAACD,YAAU,EAAC,UAASE,CAAT,EAAW;AAACF,cAAU,GAACE,CAAX;AAAa;AAArC,CAA1C,EAAiF,CAAjF;AAAoF,IAAIC,cAAJ;AAAmBN,MAAM,CAACI,IAAP,CAAY,oCAAZ,EAAiD;AAACE,gBAAc,EAAC,UAASD,CAAT,EAAW;AAACC,kBAAc,GAACD,CAAf;AAAiB;AAA7C,CAAjD,EAAgG,CAAhG;;AAInM,IAAMH,uBAAuB,GAAG,UAACK,OAAD,EAAUC,CAAV,EAAgB;AACtD,MAAID,OAAO,CAACE,GAAZ,EAAiB;AAChB,WAAON,UAAU,CAACG,cAAc,CAACC,OAAO,CAACE,GAAT,CAAf,CAAjB;AACA;;AAED,MAAIF,OAAO,CAACG,WAAZ,EAAyB;AACxB,QAAMC,UAAU,GAAGJ,OAAO,CAACG,WAAR,CAAoBE,IAApB,CAAyB,UAACD,UAAD;AAAA,aAAgBA,UAAU,CAACE,KAAX,IAAoBF,UAAU,CAACG,WAA/C;AAAA,KAAzB,CAAnB;;AAEA,QAAIH,UAAU,IAAIA,UAAU,CAACG,WAA7B,EAA0C;AACzC,aAAOX,UAAU,CAACQ,UAAU,CAACG,WAAZ,CAAjB;AACA;;AAED,QAAIH,UAAU,IAAIA,UAAU,CAACE,KAA7B,EAAoC;AACnC,aAAOV,UAAU,CAACQ,UAAU,CAACE,KAAZ,CAAjB;AACA;;AAED,WAAOL,CAAC,CAAC,oBAAD,CAAR;AACA;AACD,CAlBM,C","file":"dynamic/client/sidebar/RoomList/normalizeSidebarMessage.js","sourcesContent":["import { escapeHTML } from '@rocket.chat/string-helpers';\n\nimport { filterMarkdown } from '../../../app/markdown/lib/markdown';\n\nexport const normalizeSidebarMessage = (message, t) => {\n\tif (message.msg) {\n\t\treturn escapeHTML(filterMarkdown(message.msg));\n\t}\n\n\tif (message.attachments) {\n\t\tconst attachment = message.attachments.find((attachment) => attachment.title || attachment.description);\n\n\t\tif (attachment && attachment.description) {\n\t\t\treturn escapeHTML(attachment.description);\n\t\t}\n\n\t\tif (attachment && attachment.title) {\n\t\t\treturn escapeHTML(attachment.title);\n\t\t}\n\n\t\treturn t('Sent_an_attachment');\n\t}\n};\n"]}