{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/amangupta/Documents/Open-Source/Rocket.Chat/ee/app/livechat-enterprise/server/settings.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.arm64"},"sourceFileName":"ee/app/livechat-enterprise/server/settings.ts","filename":"/Users/amangupta/Documents/Open-Source/Rocket.Chat/ee/app/livechat-enterprise/server/settings.ts","inputSourceMap":{"version":3,"file":"ee/app/livechat-enterprise/server/settings.ts","sourceRoot":"","sources":["ee/app/livechat-enterprise/server/settings.ts"],"names":[],"mappings":"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","sourcesContent":["import { settingsRegistry } from '../../../../app/settings/server';\nimport { Settings } from '../../../../app/models/server';\n\nconst omnichannelEnabledQuery = { _id: 'Livechat_enabled', value: true };\nconst businessHoursEnabled = { _id: 'Livechat_enable_business_hours', value: true };\n\nexport const createSettings = (): void => {\n\tsettingsRegistry.add('Livechat_abandoned_rooms_action', 'none', {\n\t\ttype: 'select',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Sessions',\n\t\tvalues: [\n\t\t\t{ key: 'none', i18nLabel: 'Do_Nothing' },\n\t\t\t{ key: 'close', i18nLabel: 'Livechat_close_chat' },\n\t\t\t{ key: 'on-hold', i18nLabel: 'Omnichannel_onHold_Chat' },\n\t\t],\n\t\tenterprise: true,\n\t\tpublic: true,\n\t\tinvalidValue: 'none',\n\t\tmodules: ['livechat-enterprise'],\n\t\tenableQuery: omnichannelEnabledQuery,\n\t});\n\n\tsettingsRegistry.add('Livechat_abandoned_rooms_closed_custom_message', '', {\n\t\ttype: 'string',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Sessions',\n\t\ti18nLabel: 'Livechat_abandoned_rooms_closed_custom_message',\n\t\tenableQuery: [{ _id: 'Livechat_abandoned_rooms_action', value: 'close' }, omnichannelEnabledQuery],\n\t\tenterprise: true,\n\t\tinvalidValue: '',\n\t\tmodules: ['livechat-enterprise'],\n\t});\n\n\tsettingsRegistry.add('Livechat_last_chatted_agent_routing', false, {\n\t\ttype: 'boolean',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Routing',\n\t\tenterprise: true,\n\t\tinvalidValue: false,\n\t\tmodules: ['livechat-enterprise'],\n\t\tenableQuery: omnichannelEnabledQuery,\n\t});\n\n\tsettingsRegistry.addGroup('Omnichannel', function () {\n\t\tthis.section('Business_Hours', function () {\n\t\t\tthis.add('Livechat_business_hour_type', 'Single', {\n\t\t\t\ttype: 'select',\n\t\t\t\tvalues: [\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'Single',\n\t\t\t\t\t\ti18nLabel: 'Single',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'Multiple',\n\t\t\t\t\t\ti18nLabel: 'Multiple',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tpublic: true,\n\t\t\t\ti18nLabel: 'Livechat_business_hour_type',\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: 'Single',\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t\tenableQuery: [omnichannelEnabledQuery, businessHoursEnabled],\n\t\t\t});\n\t\t});\n\n\t\tthis.section('Queue_management', function () {\n\t\t\tthis.add('Livechat_waiting_queue', false, {\n\t\t\t\ttype: 'boolean',\n\t\t\t\tgroup: 'Omnichannel',\n\t\t\t\tsection: 'Queue_management',\n\t\t\t\ti18nLabel: 'Waiting_queue',\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: false,\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t\tenableQuery: omnichannelEnabledQuery,\n\t\t\t});\n\n\t\t\tthis.add('Livechat_waiting_queue_message', '', {\n\t\t\t\ttype: 'string',\n\t\t\t\tgroup: 'Omnichannel',\n\t\t\t\tsection: 'Queue_management',\n\t\t\t\ti18nLabel: 'Waiting_queue_message',\n\t\t\t\ti18nDescription: 'Waiting_queue_message_description',\n\t\t\t\tenableQuery: [{ _id: 'Livechat_waiting_queue', value: true }, omnichannelEnabledQuery],\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: '',\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t});\n\n\t\t\tthis.add('Livechat_maximum_chats_per_agent', 0, {\n\t\t\t\ttype: 'int',\n\t\t\t\tgroup: 'Omnichannel',\n\t\t\t\tsection: 'Queue_management',\n\t\t\t\ti18nLabel: 'Max_number_of_chats_per_agent',\n\t\t\t\ti18nDescription: 'Max_number_of_chats_per_agent_description',\n\t\t\t\tenableQuery: [{ _id: 'Livechat_waiting_queue', value: true }, omnichannelEnabledQuery],\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: 0,\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t});\n\n\t\t\tthis.add('Omnichannel_calculate_dispatch_service_queue_statistics', true, {\n\t\t\t\ttype: 'boolean',\n\t\t\t\tgroup: 'Omnichannel',\n\t\t\t\tsection: 'Queue_management',\n\t\t\t\ti18nLabel: 'Omnichannel_calculate_dispatch_service_queue_statistics',\n\t\t\t\tenableQuery: [{ _id: 'Livechat_waiting_queue', value: true }, omnichannelEnabledQuery],\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: false,\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t});\n\n\t\t\tthis.add('Omnichannel_queue_delay_timeout', 5, {\n\t\t\t\ttype: 'int',\n\t\t\t\tgroup: 'Omnichannel',\n\t\t\t\tsection: 'Queue_management',\n\t\t\t\ti18nLabel: 'Queue_delay_timeout',\n\t\t\t\ti18nDescription: 'Time_in_seconds',\n\t\t\t\tenableQuery: [\n\t\t\t\t\t{ _id: 'Livechat_waiting_queue', value: true },\n\t\t\t\t\t{ _id: 'Livechat_Routing_Method', value: { $ne: 'Manual_Selection' } },\n\t\t\t\t\tomnichannelEnabledQuery,\n\t\t\t\t],\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: 5,\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t});\n\n\t\t\tthis.add('Livechat_number_most_recent_chats_estimate_wait_time', 100, {\n\t\t\t\ttype: 'int',\n\t\t\t\tgroup: 'Omnichannel',\n\t\t\t\tsection: 'Queue_management',\n\t\t\t\ti18nLabel: 'Number_of_most_recent_chats_estimate_wait_time',\n\t\t\t\ti18nDescription: 'Number_of_most_recent_chats_estimate_wait_time_description',\n\t\t\t\tenableQuery: [{ _id: 'Livechat_waiting_queue', value: true }, omnichannelEnabledQuery],\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: 100,\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t});\n\n\t\t\tthis.add('Livechat_max_queue_wait_time', -1, {\n\t\t\t\ttype: 'int',\n\t\t\t\tgroup: 'Omnichannel',\n\t\t\t\tsection: 'Queue_management',\n\t\t\t\ti18nLabel: 'Livechat_maximum_queue_wait_time',\n\t\t\t\tenableQuery: omnichannelEnabledQuery,\n\t\t\t\ti18nDescription: 'Livechat_maximum_queue_wait_time_description',\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: -1,\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t});\n\t\t});\n\t});\n\n\tsettingsRegistry.add('Omnichannel_contact_manager_routing', true, {\n\t\ttype: 'boolean',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Routing',\n\t\tenterprise: true,\n\t\tinvalidValue: false,\n\t\tmodules: ['livechat-enterprise'],\n\t\tenableQuery: omnichannelEnabledQuery,\n\t});\n\n\tsettingsRegistry.add('Livechat_auto_close_on_hold_chats_timeout', 3600, {\n\t\ttype: 'int',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Sessions',\n\t\tenterprise: true,\n\t\tinvalidValue: 0,\n\t\tmodules: ['livechat-enterprise'],\n\t\tenableQuery: omnichannelEnabledQuery,\n\t});\n\n\tsettingsRegistry.add('Livechat_auto_close_on_hold_chats_custom_message', '', {\n\t\ttype: 'string',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Sessions',\n\t\tenableQuery: [{ _id: 'Livechat_auto_close_on_hold_chats_timeout', value: { $gte: 1 } }, omnichannelEnabledQuery],\n\t\tenterprise: true,\n\t\tinvalidValue: '',\n\t\tmodules: ['livechat-enterprise'],\n\t});\n\n\tsettingsRegistry.add('Livechat_allow_manual_on_hold', false, {\n\t\ttype: 'boolean',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Sessions',\n\t\tenterprise: true,\n\t\tinvalidValue: false,\n\t\tpublic: true,\n\t\tmodules: ['livechat-enterprise'],\n\t\tenableQuery: omnichannelEnabledQuery,\n\t});\n\n\tsettingsRegistry.add('Livechat_auto_transfer_chat_timeout', 0, {\n\t\ttype: 'int',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Sessions',\n\t\ti18nDescription: 'Livechat_auto_transfer_chat_timeout_description',\n\t\tenterprise: true,\n\t\tinvalidValue: 0,\n\t\tmodules: ['livechat-enterprise'],\n\t\tenableQuery: omnichannelEnabledQuery,\n\t});\n\n\tSettings.addOptionValueById('Livechat_Routing_Method', {\n\t\tkey: 'Load_Balancing',\n\t\ti18nLabel: 'Load_Balancing',\n\t});\n\tSettings.addOptionValueById('Livechat_Routing_Method', {\n\t\tkey: 'Load_Rotation',\n\t\ti18nLabel: 'Load_Rotation',\n\t});\n};\n"]},"targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/amangupta/Documents/Open-Source/Rocket.Chat","root":"/Users/amangupta/Documents/Open-Source/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/amangupta/Documents/Open-Source/Rocket.Chat/ee/app/livechat-enterprise/server/settings.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"ee/app/livechat-enterprise/server/settings.ts"}},"code":"module.export({\n  createSettings: () => createSettings\n});\nlet settingsRegistry;\nmodule.link(\"../../../../app/settings/server\", {\n  settingsRegistry(v) {\n    settingsRegistry = v;\n  }\n\n}, 0);\nlet Settings;\nmodule.link(\"../../../../app/models/server\", {\n  Settings(v) {\n    Settings = v;\n  }\n\n}, 1);\nconst omnichannelEnabledQuery = {\n  _id: 'Livechat_enabled',\n  value: true\n};\nconst businessHoursEnabled = {\n  _id: 'Livechat_enable_business_hours',\n  value: true\n};\n\nconst createSettings = () => {\n  settingsRegistry.add('Livechat_abandoned_rooms_action', 'none', {\n    type: 'select',\n    group: 'Omnichannel',\n    section: 'Sessions',\n    values: [{\n      key: 'none',\n      i18nLabel: 'Do_Nothing'\n    }, {\n      key: 'close',\n      i18nLabel: 'Livechat_close_chat'\n    }, {\n      key: 'on-hold',\n      i18nLabel: 'Omnichannel_onHold_Chat'\n    }],\n    enterprise: true,\n    public: true,\n    invalidValue: 'none',\n    modules: ['livechat-enterprise'],\n    enableQuery: omnichannelEnabledQuery\n  });\n  settingsRegistry.add('Livechat_abandoned_rooms_closed_custom_message', '', {\n    type: 'string',\n    group: 'Omnichannel',\n    section: 'Sessions',\n    i18nLabel: 'Livechat_abandoned_rooms_closed_custom_message',\n    enableQuery: [{\n      _id: 'Livechat_abandoned_rooms_action',\n      value: 'close'\n    }, omnichannelEnabledQuery],\n    enterprise: true,\n    invalidValue: '',\n    modules: ['livechat-enterprise']\n  });\n  settingsRegistry.add('Livechat_last_chatted_agent_routing', false, {\n    type: 'boolean',\n    group: 'Omnichannel',\n    section: 'Routing',\n    enterprise: true,\n    invalidValue: false,\n    modules: ['livechat-enterprise'],\n    enableQuery: omnichannelEnabledQuery\n  });\n  settingsRegistry.addGroup('Omnichannel', function () {\n    this.section('Business_Hours', function () {\n      this.add('Livechat_business_hour_type', 'Single', {\n        type: 'select',\n        values: [{\n          key: 'Single',\n          i18nLabel: 'Single'\n        }, {\n          key: 'Multiple',\n          i18nLabel: 'Multiple'\n        }],\n        public: true,\n        i18nLabel: 'Livechat_business_hour_type',\n        enterprise: true,\n        invalidValue: 'Single',\n        modules: ['livechat-enterprise'],\n        enableQuery: [omnichannelEnabledQuery, businessHoursEnabled]\n      });\n    });\n    this.section('Queue_management', function () {\n      this.add('Livechat_waiting_queue', false, {\n        type: 'boolean',\n        group: 'Omnichannel',\n        section: 'Queue_management',\n        i18nLabel: 'Waiting_queue',\n        enterprise: true,\n        invalidValue: false,\n        modules: ['livechat-enterprise'],\n        enableQuery: omnichannelEnabledQuery\n      });\n      this.add('Livechat_waiting_queue_message', '', {\n        type: 'string',\n        group: 'Omnichannel',\n        section: 'Queue_management',\n        i18nLabel: 'Waiting_queue_message',\n        i18nDescription: 'Waiting_queue_message_description',\n        enableQuery: [{\n          _id: 'Livechat_waiting_queue',\n          value: true\n        }, omnichannelEnabledQuery],\n        enterprise: true,\n        invalidValue: '',\n        modules: ['livechat-enterprise']\n      });\n      this.add('Livechat_maximum_chats_per_agent', 0, {\n        type: 'int',\n        group: 'Omnichannel',\n        section: 'Queue_management',\n        i18nLabel: 'Max_number_of_chats_per_agent',\n        i18nDescription: 'Max_number_of_chats_per_agent_description',\n        enableQuery: [{\n          _id: 'Livechat_waiting_queue',\n          value: true\n        }, omnichannelEnabledQuery],\n        enterprise: true,\n        invalidValue: 0,\n        modules: ['livechat-enterprise']\n      });\n      this.add('Omnichannel_calculate_dispatch_service_queue_statistics', true, {\n        type: 'boolean',\n        group: 'Omnichannel',\n        section: 'Queue_management',\n        i18nLabel: 'Omnichannel_calculate_dispatch_service_queue_statistics',\n        enableQuery: [{\n          _id: 'Livechat_waiting_queue',\n          value: true\n        }, omnichannelEnabledQuery],\n        enterprise: true,\n        invalidValue: false,\n        modules: ['livechat-enterprise']\n      });\n      this.add('Omnichannel_queue_delay_timeout', 5, {\n        type: 'int',\n        group: 'Omnichannel',\n        section: 'Queue_management',\n        i18nLabel: 'Queue_delay_timeout',\n        i18nDescription: 'Time_in_seconds',\n        enableQuery: [{\n          _id: 'Livechat_waiting_queue',\n          value: true\n        }, {\n          _id: 'Livechat_Routing_Method',\n          value: {\n            $ne: 'Manual_Selection'\n          }\n        }, omnichannelEnabledQuery],\n        enterprise: true,\n        invalidValue: 5,\n        modules: ['livechat-enterprise']\n      });\n      this.add('Livechat_number_most_recent_chats_estimate_wait_time', 100, {\n        type: 'int',\n        group: 'Omnichannel',\n        section: 'Queue_management',\n        i18nLabel: 'Number_of_most_recent_chats_estimate_wait_time',\n        i18nDescription: 'Number_of_most_recent_chats_estimate_wait_time_description',\n        enableQuery: [{\n          _id: 'Livechat_waiting_queue',\n          value: true\n        }, omnichannelEnabledQuery],\n        enterprise: true,\n        invalidValue: 100,\n        modules: ['livechat-enterprise']\n      });\n      this.add('Livechat_max_queue_wait_time', -1, {\n        type: 'int',\n        group: 'Omnichannel',\n        section: 'Queue_management',\n        i18nLabel: 'Livechat_maximum_queue_wait_time',\n        enableQuery: omnichannelEnabledQuery,\n        i18nDescription: 'Livechat_maximum_queue_wait_time_description',\n        enterprise: true,\n        invalidValue: -1,\n        modules: ['livechat-enterprise']\n      });\n    });\n  });\n  settingsRegistry.add('Omnichannel_contact_manager_routing', true, {\n    type: 'boolean',\n    group: 'Omnichannel',\n    section: 'Routing',\n    enterprise: true,\n    invalidValue: false,\n    modules: ['livechat-enterprise'],\n    enableQuery: omnichannelEnabledQuery\n  });\n  settingsRegistry.add('Livechat_auto_close_on_hold_chats_timeout', 3600, {\n    type: 'int',\n    group: 'Omnichannel',\n    section: 'Sessions',\n    enterprise: true,\n    invalidValue: 0,\n    modules: ['livechat-enterprise'],\n    enableQuery: omnichannelEnabledQuery\n  });\n  settingsRegistry.add('Livechat_auto_close_on_hold_chats_custom_message', '', {\n    type: 'string',\n    group: 'Omnichannel',\n    section: 'Sessions',\n    enableQuery: [{\n      _id: 'Livechat_auto_close_on_hold_chats_timeout',\n      value: {\n        $gte: 1\n      }\n    }, omnichannelEnabledQuery],\n    enterprise: true,\n    invalidValue: '',\n    modules: ['livechat-enterprise']\n  });\n  settingsRegistry.add('Livechat_allow_manual_on_hold', false, {\n    type: 'boolean',\n    group: 'Omnichannel',\n    section: 'Sessions',\n    enterprise: true,\n    invalidValue: false,\n    public: true,\n    modules: ['livechat-enterprise'],\n    enableQuery: omnichannelEnabledQuery\n  });\n  settingsRegistry.add('Livechat_auto_transfer_chat_timeout', 0, {\n    type: 'int',\n    group: 'Omnichannel',\n    section: 'Sessions',\n    i18nDescription: 'Livechat_auto_transfer_chat_timeout_description',\n    enterprise: true,\n    invalidValue: 0,\n    modules: ['livechat-enterprise'],\n    enableQuery: omnichannelEnabledQuery\n  });\n  Settings.addOptionValueById('Livechat_Routing_Method', {\n    key: 'Load_Balancing',\n    i18nLabel: 'Load_Balancing'\n  });\n  Settings.addOptionValueById('Livechat_Routing_Method', {\n    key: 'Load_Rotation',\n    i18nLabel: 'Load_Rotation'\n  });\n};","map":{"version":3,"sources":["ee/app/livechat-enterprise/server/settings.ts"],"names":[],"mappings":"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","sourcesContent":["import { settingsRegistry } from '../../../../app/settings/server';\nimport { Settings } from '../../../../app/models/server';\n\nconst omnichannelEnabledQuery = { _id: 'Livechat_enabled', value: true };\nconst businessHoursEnabled = { _id: 'Livechat_enable_business_hours', value: true };\n\nexport const createSettings = (): void => {\n\tsettingsRegistry.add('Livechat_abandoned_rooms_action', 'none', {\n\t\ttype: 'select',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Sessions',\n\t\tvalues: [\n\t\t\t{ key: 'none', i18nLabel: 'Do_Nothing' },\n\t\t\t{ key: 'close', i18nLabel: 'Livechat_close_chat' },\n\t\t\t{ key: 'on-hold', i18nLabel: 'Omnichannel_onHold_Chat' },\n\t\t],\n\t\tenterprise: true,\n\t\tpublic: true,\n\t\tinvalidValue: 'none',\n\t\tmodules: ['livechat-enterprise'],\n\t\tenableQuery: omnichannelEnabledQuery,\n\t});\n\n\tsettingsRegistry.add('Livechat_abandoned_rooms_closed_custom_message', '', {\n\t\ttype: 'string',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Sessions',\n\t\ti18nLabel: 'Livechat_abandoned_rooms_closed_custom_message',\n\t\tenableQuery: [{ _id: 'Livechat_abandoned_rooms_action', value: 'close' }, omnichannelEnabledQuery],\n\t\tenterprise: true,\n\t\tinvalidValue: '',\n\t\tmodules: ['livechat-enterprise'],\n\t});\n\n\tsettingsRegistry.add('Livechat_last_chatted_agent_routing', false, {\n\t\ttype: 'boolean',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Routing',\n\t\tenterprise: true,\n\t\tinvalidValue: false,\n\t\tmodules: ['livechat-enterprise'],\n\t\tenableQuery: omnichannelEnabledQuery,\n\t});\n\n\tsettingsRegistry.addGroup('Omnichannel', function () {\n\t\tthis.section('Business_Hours', function () {\n\t\t\tthis.add('Livechat_business_hour_type', 'Single', {\n\t\t\t\ttype: 'select',\n\t\t\t\tvalues: [\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'Single',\n\t\t\t\t\t\ti18nLabel: 'Single',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'Multiple',\n\t\t\t\t\t\ti18nLabel: 'Multiple',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tpublic: true,\n\t\t\t\ti18nLabel: 'Livechat_business_hour_type',\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: 'Single',\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t\tenableQuery: [omnichannelEnabledQuery, businessHoursEnabled],\n\t\t\t});\n\t\t});\n\n\t\tthis.section('Queue_management', function () {\n\t\t\tthis.add('Livechat_waiting_queue', false, {\n\t\t\t\ttype: 'boolean',\n\t\t\t\tgroup: 'Omnichannel',\n\t\t\t\tsection: 'Queue_management',\n\t\t\t\ti18nLabel: 'Waiting_queue',\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: false,\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t\tenableQuery: omnichannelEnabledQuery,\n\t\t\t});\n\n\t\t\tthis.add('Livechat_waiting_queue_message', '', {\n\t\t\t\ttype: 'string',\n\t\t\t\tgroup: 'Omnichannel',\n\t\t\t\tsection: 'Queue_management',\n\t\t\t\ti18nLabel: 'Waiting_queue_message',\n\t\t\t\ti18nDescription: 'Waiting_queue_message_description',\n\t\t\t\tenableQuery: [{ _id: 'Livechat_waiting_queue', value: true }, omnichannelEnabledQuery],\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: '',\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t});\n\n\t\t\tthis.add('Livechat_maximum_chats_per_agent', 0, {\n\t\t\t\ttype: 'int',\n\t\t\t\tgroup: 'Omnichannel',\n\t\t\t\tsection: 'Queue_management',\n\t\t\t\ti18nLabel: 'Max_number_of_chats_per_agent',\n\t\t\t\ti18nDescription: 'Max_number_of_chats_per_agent_description',\n\t\t\t\tenableQuery: [{ _id: 'Livechat_waiting_queue', value: true }, omnichannelEnabledQuery],\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: 0,\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t});\n\n\t\t\tthis.add('Omnichannel_calculate_dispatch_service_queue_statistics', true, {\n\t\t\t\ttype: 'boolean',\n\t\t\t\tgroup: 'Omnichannel',\n\t\t\t\tsection: 'Queue_management',\n\t\t\t\ti18nLabel: 'Omnichannel_calculate_dispatch_service_queue_statistics',\n\t\t\t\tenableQuery: [{ _id: 'Livechat_waiting_queue', value: true }, omnichannelEnabledQuery],\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: false,\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t});\n\n\t\t\tthis.add('Omnichannel_queue_delay_timeout', 5, {\n\t\t\t\ttype: 'int',\n\t\t\t\tgroup: 'Omnichannel',\n\t\t\t\tsection: 'Queue_management',\n\t\t\t\ti18nLabel: 'Queue_delay_timeout',\n\t\t\t\ti18nDescription: 'Time_in_seconds',\n\t\t\t\tenableQuery: [\n\t\t\t\t\t{ _id: 'Livechat_waiting_queue', value: true },\n\t\t\t\t\t{ _id: 'Livechat_Routing_Method', value: { $ne: 'Manual_Selection' } },\n\t\t\t\t\tomnichannelEnabledQuery,\n\t\t\t\t],\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: 5,\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t});\n\n\t\t\tthis.add('Livechat_number_most_recent_chats_estimate_wait_time', 100, {\n\t\t\t\ttype: 'int',\n\t\t\t\tgroup: 'Omnichannel',\n\t\t\t\tsection: 'Queue_management',\n\t\t\t\ti18nLabel: 'Number_of_most_recent_chats_estimate_wait_time',\n\t\t\t\ti18nDescription: 'Number_of_most_recent_chats_estimate_wait_time_description',\n\t\t\t\tenableQuery: [{ _id: 'Livechat_waiting_queue', value: true }, omnichannelEnabledQuery],\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: 100,\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t});\n\n\t\t\tthis.add('Livechat_max_queue_wait_time', -1, {\n\t\t\t\ttype: 'int',\n\t\t\t\tgroup: 'Omnichannel',\n\t\t\t\tsection: 'Queue_management',\n\t\t\t\ti18nLabel: 'Livechat_maximum_queue_wait_time',\n\t\t\t\tenableQuery: omnichannelEnabledQuery,\n\t\t\t\ti18nDescription: 'Livechat_maximum_queue_wait_time_description',\n\t\t\t\tenterprise: true,\n\t\t\t\tinvalidValue: -1,\n\t\t\t\tmodules: ['livechat-enterprise'],\n\t\t\t});\n\t\t});\n\t});\n\n\tsettingsRegistry.add('Omnichannel_contact_manager_routing', true, {\n\t\ttype: 'boolean',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Routing',\n\t\tenterprise: true,\n\t\tinvalidValue: false,\n\t\tmodules: ['livechat-enterprise'],\n\t\tenableQuery: omnichannelEnabledQuery,\n\t});\n\n\tsettingsRegistry.add('Livechat_auto_close_on_hold_chats_timeout', 3600, {\n\t\ttype: 'int',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Sessions',\n\t\tenterprise: true,\n\t\tinvalidValue: 0,\n\t\tmodules: ['livechat-enterprise'],\n\t\tenableQuery: omnichannelEnabledQuery,\n\t});\n\n\tsettingsRegistry.add('Livechat_auto_close_on_hold_chats_custom_message', '', {\n\t\ttype: 'string',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Sessions',\n\t\tenableQuery: [{ _id: 'Livechat_auto_close_on_hold_chats_timeout', value: { $gte: 1 } }, omnichannelEnabledQuery],\n\t\tenterprise: true,\n\t\tinvalidValue: '',\n\t\tmodules: ['livechat-enterprise'],\n\t});\n\n\tsettingsRegistry.add('Livechat_allow_manual_on_hold', false, {\n\t\ttype: 'boolean',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Sessions',\n\t\tenterprise: true,\n\t\tinvalidValue: false,\n\t\tpublic: true,\n\t\tmodules: ['livechat-enterprise'],\n\t\tenableQuery: omnichannelEnabledQuery,\n\t});\n\n\tsettingsRegistry.add('Livechat_auto_transfer_chat_timeout', 0, {\n\t\ttype: 'int',\n\t\tgroup: 'Omnichannel',\n\t\tsection: 'Sessions',\n\t\ti18nDescription: 'Livechat_auto_transfer_chat_timeout_description',\n\t\tenterprise: true,\n\t\tinvalidValue: 0,\n\t\tmodules: ['livechat-enterprise'],\n\t\tenableQuery: omnichannelEnabledQuery,\n\t});\n\n\tSettings.addOptionValueById('Livechat_Routing_Method', {\n\t\tkey: 'Load_Balancing',\n\t\ti18nLabel: 'Load_Balancing',\n\t});\n\tSettings.addOptionValueById('Livechat_Routing_Method', {\n\t\tkey: 'Load_Rotation',\n\t\ti18nLabel: 'Load_Rotation',\n\t});\n};\n"],"sourceRoot":""},"sourceType":"module","hash":"7a560e4f8c541b3f162c26ecbf8079fbc7b1ef58"}
