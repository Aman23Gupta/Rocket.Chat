{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/amangupta/Documents/Open-Source/Rocket.Chat/ee/server/settings/ldap.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.arm64"},"sourceFileName":"ee/server/settings/ldap.ts","filename":"/Users/amangupta/Documents/Open-Source/Rocket.Chat/ee/server/settings/ldap.ts","inputSourceMap":{"version":3,"file":"ee/server/settings/ldap.ts","sourceRoot":"","sources":["ee/server/settings/ldap.ts"],"names":[],"mappings":"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","sourcesContent":["import { settingsRegistry } from '../../../app/settings/server';\n\nexport function addSettings(): void {\n\tsettingsRegistry.addGroup('LDAP', function () {\n\t\tconst enableQuery = { _id: 'LDAP_Enable', value: true };\n\n\t\tthis.with(\n\t\t\t{\n\t\t\t\ttab: 'LDAP_Enterprise',\n\t\t\t\tenterprise: true,\n\t\t\t\tmodules: ['ldap-enterprise'],\n\t\t\t},\n\t\t\tfunction () {\n\t\t\t\tthis.section('LDAP_DataSync_BackgroundSync', function () {\n\t\t\t\t\tthis.add('LDAP_Background_Sync', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tconst backgroundSyncQuery = [enableQuery, { _id: 'LDAP_Background_Sync', value: true }];\n\n\t\t\t\t\tthis.add('LDAP_Background_Sync_Interval', 'Every 24 hours', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: backgroundSyncQuery,\n\t\t\t\t\t\tinvalidValue: 'Every 24 hours',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Background_Sync_Import_New_Users', true, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery: backgroundSyncQuery,\n\t\t\t\t\t\tinvalidValue: true,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Background_Sync_Keep_Existant_Users_Updated', true, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery: backgroundSyncQuery,\n\t\t\t\t\t\tinvalidValue: true,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Background_Sync_Avatars', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Background_Sync_Avatars_Interval', 'Every 24 hours', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: [enableQuery, { _id: 'LDAP_Background_Sync_Avatars', value: true }],\n\t\t\t\t\t\tinvalidValue: 'Every 24 hours',\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.section('LDAP_DataSync_Advanced', function () {\n\t\t\t\t\tthis.add('LDAP_Sync_User_Active_State', 'disable', {\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t{ key: 'none', i18nLabel: 'LDAP_Sync_User_Active_State_Nothing' },\n\t\t\t\t\t\t\t{ key: 'disable', i18nLabel: 'LDAP_Sync_User_Active_State_Disable' },\n\t\t\t\t\t\t\t{ key: 'both', i18nLabel: 'LDAP_Sync_User_Active_State_Both' },\n\t\t\t\t\t\t],\n\t\t\t\t\t\ti18nDescription: 'LDAP_Sync_User_Active_State_Description',\n\t\t\t\t\t\tenableQuery: { _id: 'LDAP_Enable', value: true },\n\t\t\t\t\t\tinvalidValue: 'none',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_User_Search_AttributesToQuery', '*,+', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: { _id: 'LDAP_Enable', value: true },\n\t\t\t\t\t\tinvalidValue: '*,+',\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.section('LDAP_DataSync_AutoLogout', function () {\n\t\t\t\t\tthis.add('LDAP_Sync_AutoLogout_Enabled', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Sync_AutoLogout_Interval', 'Every 5 minutes', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: [enableQuery, { _id: 'LDAP_Sync_AutoLogout_Enabled', value: true }],\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.section('LDAP_DataSync_CustomFields', function () {\n\t\t\t\t\tthis.add('LDAP_Sync_Custom_Fields', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_CustomFieldMap', '{}', {\n\t\t\t\t\t\ttype: 'code',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t\tenableQuery: [enableQuery, { _id: 'LDAP_Sync_Custom_Fields', value: true }],\n\t\t\t\t\t\tinvalidValue: '{}',\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.section('LDAP_DataSync_Roles', function () {\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Roles', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\t\t\t\t\tconst syncRolesQuery = [enableQuery, { _id: 'LDAP_Sync_User_Data_Roles', value: true }];\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Roles_AutoRemove', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery: syncRolesQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Roles_Filter', '(&(cn=#{groupName})(memberUid=#{username}))', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: syncRolesQuery,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Roles_BaseDN', '', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: syncRolesQuery,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_RolesMap', '{\\n\\t\"rocket-admin\": \"admin\",\\n\\t\"tech-support\": \"support\"\\n}', {\n\t\t\t\t\t\ttype: 'code',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t\tpublic: false,\n\t\t\t\t\t\tcode: 'application/json',\n\t\t\t\t\t\tenableQuery: syncRolesQuery,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.section('LDAP_DataSync_Channels', function () {\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Channels', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tconst syncChannelsQuery = [enableQuery, { _id: 'LDAP_Sync_User_Data_Channels', value: true }];\n\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Channels_Admin', 'rocket.cat', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: syncChannelsQuery,\n\t\t\t\t\t\tinvalidValue: 'rocket.cat',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Channels_Filter', '(&(cn=#{groupName})(memberUid=#{username}))', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: syncChannelsQuery,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Channels_BaseDN', '', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: syncChannelsQuery,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add(\n\t\t\t\t\t\t'LDAP_Sync_User_Data_ChannelsMap',\n\t\t\t\t\t\t'{\\n\\t\"employee\": \"general\",\\n\\t\"techsupport\": [\\n\\t\\t\"helpdesk\",\\n\\t\\t\"support\"\\n\\t]\\n}',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'code',\n\t\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t\t\tpublic: false,\n\t\t\t\t\t\t\tcode: 'application/json',\n\t\t\t\t\t\t\tenableQuery: syncChannelsQuery,\n\t\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Channels_Enforce_AutoChannels', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery: syncChannelsQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.section('LDAP_DataSync_Teams', function () {\n\t\t\t\t\tthis.add('LDAP_Enable_LDAP_Groups_To_RC_Teams', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery: { _id: 'LDAP_Enable', value: true },\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tconst enableQueryTeams = { _id: 'LDAP_Enable_LDAP_Groups_To_RC_Teams', value: true };\n\n\t\t\t\t\tthis.add('LDAP_Groups_To_Rocket_Chat_Teams', '{}', {\n\t\t\t\t\t\ttype: 'code',\n\t\t\t\t\t\tenableQuery: enableQueryTeams,\n\t\t\t\t\t\tinvalidValue: '{}',\n\t\t\t\t\t});\n\t\t\t\t\tthis.add('LDAP_Validate_Teams_For_Each_Login', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery: enableQueryTeams,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\t\t\t\t\tthis.add('LDAP_Teams_BaseDN', '', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: enableQueryTeams,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\t\t\t\t\tthis.add('LDAP_Teams_Name_Field', 'ou,cn', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: enableQueryTeams,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Query_To_Get_User_Teams', '(&(ou=*)(uniqueMember=#{userdn}))', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: enableQueryTeams,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t);\n\t});\n}\n"]},"targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/amangupta/Documents/Open-Source/Rocket.Chat","root":"/Users/amangupta/Documents/Open-Source/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/amangupta/Documents/Open-Source/Rocket.Chat/ee/server/settings/ldap.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"ee/server/settings/ldap.ts"}},"code":"module.export({\n  addSettings: () => addSettings\n});\nlet settingsRegistry;\nmodule.link(\"../../../app/settings/server\", {\n  settingsRegistry(v) {\n    settingsRegistry = v;\n  }\n\n}, 0);\n\nfunction addSettings() {\n  settingsRegistry.addGroup('LDAP', function () {\n    const enableQuery = {\n      _id: 'LDAP_Enable',\n      value: true\n    };\n    this.with({\n      tab: 'LDAP_Enterprise',\n      enterprise: true,\n      modules: ['ldap-enterprise']\n    }, function () {\n      this.section('LDAP_DataSync_BackgroundSync', function () {\n        this.add('LDAP_Background_Sync', false, {\n          type: 'boolean',\n          enableQuery,\n          invalidValue: false\n        });\n        const backgroundSyncQuery = [enableQuery, {\n          _id: 'LDAP_Background_Sync',\n          value: true\n        }];\n        this.add('LDAP_Background_Sync_Interval', 'Every 24 hours', {\n          type: 'string',\n          enableQuery: backgroundSyncQuery,\n          invalidValue: 'Every 24 hours'\n        });\n        this.add('LDAP_Background_Sync_Import_New_Users', true, {\n          type: 'boolean',\n          enableQuery: backgroundSyncQuery,\n          invalidValue: true\n        });\n        this.add('LDAP_Background_Sync_Keep_Existant_Users_Updated', true, {\n          type: 'boolean',\n          enableQuery: backgroundSyncQuery,\n          invalidValue: true\n        });\n        this.add('LDAP_Background_Sync_Avatars', false, {\n          type: 'boolean',\n          enableQuery,\n          invalidValue: false\n        });\n        this.add('LDAP_Background_Sync_Avatars_Interval', 'Every 24 hours', {\n          type: 'string',\n          enableQuery: [enableQuery, {\n            _id: 'LDAP_Background_Sync_Avatars',\n            value: true\n          }],\n          invalidValue: 'Every 24 hours'\n        });\n      });\n      this.section('LDAP_DataSync_Advanced', function () {\n        this.add('LDAP_Sync_User_Active_State', 'disable', {\n          type: 'select',\n          values: [{\n            key: 'none',\n            i18nLabel: 'LDAP_Sync_User_Active_State_Nothing'\n          }, {\n            key: 'disable',\n            i18nLabel: 'LDAP_Sync_User_Active_State_Disable'\n          }, {\n            key: 'both',\n            i18nLabel: 'LDAP_Sync_User_Active_State_Both'\n          }],\n          i18nDescription: 'LDAP_Sync_User_Active_State_Description',\n          enableQuery: {\n            _id: 'LDAP_Enable',\n            value: true\n          },\n          invalidValue: 'none'\n        });\n        this.add('LDAP_User_Search_AttributesToQuery', '*,+', {\n          type: 'string',\n          enableQuery: {\n            _id: 'LDAP_Enable',\n            value: true\n          },\n          invalidValue: '*,+'\n        });\n      });\n      this.section('LDAP_DataSync_AutoLogout', function () {\n        this.add('LDAP_Sync_AutoLogout_Enabled', false, {\n          type: 'boolean',\n          enableQuery,\n          invalidValue: false\n        });\n        this.add('LDAP_Sync_AutoLogout_Interval', 'Every 5 minutes', {\n          type: 'string',\n          enableQuery: [enableQuery, {\n            _id: 'LDAP_Sync_AutoLogout_Enabled',\n            value: true\n          }],\n          invalidValue: ''\n        });\n      });\n      this.section('LDAP_DataSync_CustomFields', function () {\n        this.add('LDAP_Sync_Custom_Fields', false, {\n          type: 'boolean',\n          enableQuery,\n          invalidValue: false\n        });\n        this.add('LDAP_CustomFieldMap', '{}', {\n          type: 'code',\n          multiline: true,\n          enableQuery: [enableQuery, {\n            _id: 'LDAP_Sync_Custom_Fields',\n            value: true\n          }],\n          invalidValue: '{}'\n        });\n      });\n      this.section('LDAP_DataSync_Roles', function () {\n        this.add('LDAP_Sync_User_Data_Roles', false, {\n          type: 'boolean',\n          enableQuery,\n          invalidValue: false\n        });\n        const syncRolesQuery = [enableQuery, {\n          _id: 'LDAP_Sync_User_Data_Roles',\n          value: true\n        }];\n        this.add('LDAP_Sync_User_Data_Roles_AutoRemove', false, {\n          type: 'boolean',\n          enableQuery: syncRolesQuery,\n          invalidValue: false\n        });\n        this.add('LDAP_Sync_User_Data_Roles_Filter', '(&(cn=#{groupName})(memberUid=#{username}))', {\n          type: 'string',\n          enableQuery: syncRolesQuery,\n          invalidValue: ''\n        });\n        this.add('LDAP_Sync_User_Data_Roles_BaseDN', '', {\n          type: 'string',\n          enableQuery: syncRolesQuery,\n          invalidValue: ''\n        });\n        this.add('LDAP_Sync_User_Data_RolesMap', '{\\n\\t\"rocket-admin\": \"admin\",\\n\\t\"tech-support\": \"support\"\\n}', {\n          type: 'code',\n          multiline: true,\n          public: false,\n          code: 'application/json',\n          enableQuery: syncRolesQuery,\n          invalidValue: ''\n        });\n      });\n      this.section('LDAP_DataSync_Channels', function () {\n        this.add('LDAP_Sync_User_Data_Channels', false, {\n          type: 'boolean',\n          enableQuery,\n          invalidValue: false\n        });\n        const syncChannelsQuery = [enableQuery, {\n          _id: 'LDAP_Sync_User_Data_Channels',\n          value: true\n        }];\n        this.add('LDAP_Sync_User_Data_Channels_Admin', 'rocket.cat', {\n          type: 'string',\n          enableQuery: syncChannelsQuery,\n          invalidValue: 'rocket.cat'\n        });\n        this.add('LDAP_Sync_User_Data_Channels_Filter', '(&(cn=#{groupName})(memberUid=#{username}))', {\n          type: 'string',\n          enableQuery: syncChannelsQuery,\n          invalidValue: ''\n        });\n        this.add('LDAP_Sync_User_Data_Channels_BaseDN', '', {\n          type: 'string',\n          enableQuery: syncChannelsQuery,\n          invalidValue: ''\n        });\n        this.add('LDAP_Sync_User_Data_ChannelsMap', '{\\n\\t\"employee\": \"general\",\\n\\t\"techsupport\": [\\n\\t\\t\"helpdesk\",\\n\\t\\t\"support\"\\n\\t]\\n}', {\n          type: 'code',\n          multiline: true,\n          public: false,\n          code: 'application/json',\n          enableQuery: syncChannelsQuery,\n          invalidValue: ''\n        });\n        this.add('LDAP_Sync_User_Data_Channels_Enforce_AutoChannels', false, {\n          type: 'boolean',\n          enableQuery: syncChannelsQuery,\n          invalidValue: false\n        });\n      });\n      this.section('LDAP_DataSync_Teams', function () {\n        this.add('LDAP_Enable_LDAP_Groups_To_RC_Teams', false, {\n          type: 'boolean',\n          enableQuery: {\n            _id: 'LDAP_Enable',\n            value: true\n          },\n          invalidValue: false\n        });\n        const enableQueryTeams = {\n          _id: 'LDAP_Enable_LDAP_Groups_To_RC_Teams',\n          value: true\n        };\n        this.add('LDAP_Groups_To_Rocket_Chat_Teams', '{}', {\n          type: 'code',\n          enableQuery: enableQueryTeams,\n          invalidValue: '{}'\n        });\n        this.add('LDAP_Validate_Teams_For_Each_Login', false, {\n          type: 'boolean',\n          enableQuery: enableQueryTeams,\n          invalidValue: false\n        });\n        this.add('LDAP_Teams_BaseDN', '', {\n          type: 'string',\n          enableQuery: enableQueryTeams,\n          invalidValue: ''\n        });\n        this.add('LDAP_Teams_Name_Field', 'ou,cn', {\n          type: 'string',\n          enableQuery: enableQueryTeams,\n          invalidValue: ''\n        });\n        this.add('LDAP_Query_To_Get_User_Teams', '(&(ou=*)(uniqueMember=#{userdn}))', {\n          type: 'string',\n          enableQuery: enableQueryTeams,\n          invalidValue: ''\n        });\n      });\n    });\n  });\n}","map":{"version":3,"sources":["ee/server/settings/ldap.ts"],"names":[],"mappings":"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","sourcesContent":["import { settingsRegistry } from '../../../app/settings/server';\n\nexport function addSettings(): void {\n\tsettingsRegistry.addGroup('LDAP', function () {\n\t\tconst enableQuery = { _id: 'LDAP_Enable', value: true };\n\n\t\tthis.with(\n\t\t\t{\n\t\t\t\ttab: 'LDAP_Enterprise',\n\t\t\t\tenterprise: true,\n\t\t\t\tmodules: ['ldap-enterprise'],\n\t\t\t},\n\t\t\tfunction () {\n\t\t\t\tthis.section('LDAP_DataSync_BackgroundSync', function () {\n\t\t\t\t\tthis.add('LDAP_Background_Sync', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tconst backgroundSyncQuery = [enableQuery, { _id: 'LDAP_Background_Sync', value: true }];\n\n\t\t\t\t\tthis.add('LDAP_Background_Sync_Interval', 'Every 24 hours', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: backgroundSyncQuery,\n\t\t\t\t\t\tinvalidValue: 'Every 24 hours',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Background_Sync_Import_New_Users', true, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery: backgroundSyncQuery,\n\t\t\t\t\t\tinvalidValue: true,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Background_Sync_Keep_Existant_Users_Updated', true, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery: backgroundSyncQuery,\n\t\t\t\t\t\tinvalidValue: true,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Background_Sync_Avatars', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Background_Sync_Avatars_Interval', 'Every 24 hours', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: [enableQuery, { _id: 'LDAP_Background_Sync_Avatars', value: true }],\n\t\t\t\t\t\tinvalidValue: 'Every 24 hours',\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.section('LDAP_DataSync_Advanced', function () {\n\t\t\t\t\tthis.add('LDAP_Sync_User_Active_State', 'disable', {\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\tvalues: [\n\t\t\t\t\t\t\t{ key: 'none', i18nLabel: 'LDAP_Sync_User_Active_State_Nothing' },\n\t\t\t\t\t\t\t{ key: 'disable', i18nLabel: 'LDAP_Sync_User_Active_State_Disable' },\n\t\t\t\t\t\t\t{ key: 'both', i18nLabel: 'LDAP_Sync_User_Active_State_Both' },\n\t\t\t\t\t\t],\n\t\t\t\t\t\ti18nDescription: 'LDAP_Sync_User_Active_State_Description',\n\t\t\t\t\t\tenableQuery: { _id: 'LDAP_Enable', value: true },\n\t\t\t\t\t\tinvalidValue: 'none',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_User_Search_AttributesToQuery', '*,+', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: { _id: 'LDAP_Enable', value: true },\n\t\t\t\t\t\tinvalidValue: '*,+',\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.section('LDAP_DataSync_AutoLogout', function () {\n\t\t\t\t\tthis.add('LDAP_Sync_AutoLogout_Enabled', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Sync_AutoLogout_Interval', 'Every 5 minutes', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: [enableQuery, { _id: 'LDAP_Sync_AutoLogout_Enabled', value: true }],\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.section('LDAP_DataSync_CustomFields', function () {\n\t\t\t\t\tthis.add('LDAP_Sync_Custom_Fields', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_CustomFieldMap', '{}', {\n\t\t\t\t\t\ttype: 'code',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t\tenableQuery: [enableQuery, { _id: 'LDAP_Sync_Custom_Fields', value: true }],\n\t\t\t\t\t\tinvalidValue: '{}',\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.section('LDAP_DataSync_Roles', function () {\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Roles', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\t\t\t\t\tconst syncRolesQuery = [enableQuery, { _id: 'LDAP_Sync_User_Data_Roles', value: true }];\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Roles_AutoRemove', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery: syncRolesQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Roles_Filter', '(&(cn=#{groupName})(memberUid=#{username}))', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: syncRolesQuery,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Roles_BaseDN', '', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: syncRolesQuery,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_RolesMap', '{\\n\\t\"rocket-admin\": \"admin\",\\n\\t\"tech-support\": \"support\"\\n}', {\n\t\t\t\t\t\ttype: 'code',\n\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t\tpublic: false,\n\t\t\t\t\t\tcode: 'application/json',\n\t\t\t\t\t\tenableQuery: syncRolesQuery,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.section('LDAP_DataSync_Channels', function () {\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Channels', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tconst syncChannelsQuery = [enableQuery, { _id: 'LDAP_Sync_User_Data_Channels', value: true }];\n\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Channels_Admin', 'rocket.cat', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: syncChannelsQuery,\n\t\t\t\t\t\tinvalidValue: 'rocket.cat',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Channels_Filter', '(&(cn=#{groupName})(memberUid=#{username}))', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: syncChannelsQuery,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Channels_BaseDN', '', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: syncChannelsQuery,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add(\n\t\t\t\t\t\t'LDAP_Sync_User_Data_ChannelsMap',\n\t\t\t\t\t\t'{\\n\\t\"employee\": \"general\",\\n\\t\"techsupport\": [\\n\\t\\t\"helpdesk\",\\n\\t\\t\"support\"\\n\\t]\\n}',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'code',\n\t\t\t\t\t\t\tmultiline: true,\n\t\t\t\t\t\t\tpublic: false,\n\t\t\t\t\t\t\tcode: 'application/json',\n\t\t\t\t\t\t\tenableQuery: syncChannelsQuery,\n\t\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t\t},\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.add('LDAP_Sync_User_Data_Channels_Enforce_AutoChannels', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery: syncChannelsQuery,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.section('LDAP_DataSync_Teams', function () {\n\t\t\t\t\tthis.add('LDAP_Enable_LDAP_Groups_To_RC_Teams', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery: { _id: 'LDAP_Enable', value: true },\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tconst enableQueryTeams = { _id: 'LDAP_Enable_LDAP_Groups_To_RC_Teams', value: true };\n\n\t\t\t\t\tthis.add('LDAP_Groups_To_Rocket_Chat_Teams', '{}', {\n\t\t\t\t\t\ttype: 'code',\n\t\t\t\t\t\tenableQuery: enableQueryTeams,\n\t\t\t\t\t\tinvalidValue: '{}',\n\t\t\t\t\t});\n\t\t\t\t\tthis.add('LDAP_Validate_Teams_For_Each_Login', false, {\n\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\tenableQuery: enableQueryTeams,\n\t\t\t\t\t\tinvalidValue: false,\n\t\t\t\t\t});\n\t\t\t\t\tthis.add('LDAP_Teams_BaseDN', '', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: enableQueryTeams,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\t\t\t\t\tthis.add('LDAP_Teams_Name_Field', 'ou,cn', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: enableQueryTeams,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.add('LDAP_Query_To_Get_User_Teams', '(&(ou=*)(uniqueMember=#{userdn}))', {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tenableQuery: enableQueryTeams,\n\t\t\t\t\t\tinvalidValue: '',\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t);\n\t});\n}\n"],"sourceRoot":""},"sourceType":"module","hash":"a315b69baa19a0fd0eb19dd03ceb76f322f1afe0"}
