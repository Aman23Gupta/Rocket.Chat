{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/amangupta/Documents/Open-Source/Rocket.Chat/app/lib/server/functions/addOAuthService.ts","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.arm64"},"sourceFileName":"app/lib/server/functions/addOAuthService.ts","filename":"/Users/amangupta/Documents/Open-Source/Rocket.Chat/app/lib/server/functions/addOAuthService.ts","inputSourceMap":{"version":3,"file":"app/lib/server/functions/addOAuthService.ts","sourceRoot":"","sources":["app/lib/server/functions/addOAuthService.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint no-multi-spaces: 0 */\n/* eslint comma-spacing: 0 */\nimport { capitalize } from '@rocket.chat/string-helpers';\n\nimport { settingsRegistry } from '../../../settings/server';\n\nexport function addOAuthService(name: string, values: { [k: string]: string | boolean | undefined } = {}): void {\n\tname = name.toLowerCase().replace(/[^a-z0-9_]/g, '');\n\tname = capitalize(name);\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}`, values.enabled || false, {\n\t\ttype: 'boolean',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Enable',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-url`, values.serverURL || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'URL',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-token_path`, values.tokenPath || '/oauth/token', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Token_Path',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-token_sent_via`, values.tokenSentVia || 'payload', {\n\t\ttype: 'select',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Token_Sent_Via',\n\t\tpersistent: true,\n\t\tvalues: [\n\t\t\t{ key: 'header', i18nLabel: 'Header' },\n\t\t\t{ key: 'payload', i18nLabel: 'Payload' },\n\t\t],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-identity_token_sent_via`, values.identityTokenSentVia || 'default', {\n\t\ttype: 'select',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Identity_Token_Sent_Via',\n\t\tpersistent: true,\n\t\tvalues: [\n\t\t\t{ key: 'default', i18nLabel: 'Same_As_Token_Sent_Via' },\n\t\t\t{ key: 'header', i18nLabel: 'Header' },\n\t\t\t{ key: 'payload', i18nLabel: 'Payload' },\n\t\t],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-identity_path`, values.identityPath || '/me', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Identity_Path',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-authorize_path`, values.authorizePath || '/oauth/authorize', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Authorize_Path',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-scope`, values.scope || 'openid', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Scope',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-access_token_param`, values.accessTokenParam || 'access_token', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Access_Token_Param',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-id`, values.clientId || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_id',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-secret`, values.clientSecret || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Secret',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-login_style`, values.loginStyle || 'popup', {\n\t\ttype: 'select',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Login_Style',\n\t\tpersistent: true,\n\t\tvalues: [\n\t\t\t{ key: 'redirect', i18nLabel: 'Redirect' },\n\t\t\t{ key: 'popup', i18nLabel: 'Popup' },\n\t\t\t{ key: '', i18nLabel: 'Default' },\n\t\t],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-button_label_text`, values.buttonLabelText || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Button_Label_Text',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-button_label_color`, values.buttonLabelColor || '#FFFFFF', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Button_Label_Color',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-button_color`, values.buttonColor || '#1d74f5', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Button_Color',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-key_field`, values.keyField || 'username', {\n\t\ttype: 'select',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Key_Field',\n\t\tpersistent: true,\n\t\tvalues: [\n\t\t\t{ key: 'username', i18nLabel: 'Username' },\n\t\t\t{ key: 'email', i18nLabel: 'Email' },\n\t\t],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-username_field`, values.usernameField || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Username_Field',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-email_field`, values.emailField || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Email_Field',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-name_field`, values.nameField || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Name_Field',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-avatar_field`, values.avatarField || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Avatar_Field',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-roles_claim`, values.rolesClaim || 'roles', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Roles_Claim',\n\t\tenterprise: true,\n\t\tinvalidValue: 'roles',\n\t\tmodules: ['oauth-enterprise'],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-groups_claim`, values.groupsClaim || 'groups', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Groups_Claim',\n\t\tenterprise: true,\n\t\tinvalidValue: 'groups',\n\t\tmodules: ['oauth-enterprise'],\n\t});\n\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-channels_admin`, values.channelsAdmin || 'rocket.cat', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Channel_Admin',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-map_channels`, values.mapChannels || false, {\n\t\ttype: 'boolean',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Map_Channels',\n\t\tenterprise: true,\n\t\tinvalidValue: false,\n\t\tmodules: ['oauth-enterprise'],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-merge_roles`, values.mergeRoles || false, {\n\t\ttype: 'boolean',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Merge_Roles',\n\t\tenterprise: true,\n\t\tinvalidValue: false,\n\t\tmodules: ['oauth-enterprise'],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-roles_to_sync`, values.rolesToSync || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Roles_To_Sync',\n\t\ti18nDescription: 'Accounts_OAuth_Custom_Roles_To_Sync_Description',\n\t\tenterprise: true,\n\t\tenableQuery: {\n\t\t\t_id: `Accounts_OAuth_Custom-${name}-merge_roles`,\n\t\t\tvalue: true,\n\t\t},\n\t\tinvalidValue: '',\n\t\tmodules: ['oauth-enterprise'],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-merge_users`, values.mergeUsers || false, {\n\t\ttype: 'boolean',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Merge_Users',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-show_button`, values.showButton || true, {\n\t\ttype: 'boolean',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Show_Button_On_Login_Page',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(\n\t\t`Accounts_OAuth_Custom-${name}-groups_channel_map`,\n\t\tvalues.channelsMap || '{\\n\\t\"rocket-admin\": \"admin\",\\n\\t\"tech-support\": \"support\"\\n}',\n\t\t{\n\t\t\ttype: 'code',\n\t\t\tmultiline: true,\n\t\t\tcode: 'application/json',\n\t\t\tgroup: 'OAuth',\n\t\t\tsection: `Custom OAuth: ${name}`,\n\t\t\ti18nLabel: 'Accounts_OAuth_Custom_Channel_Map',\n\t\t\tpersistent: true,\n\t\t},\n\t);\n}\n"]},"targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/amangupta/Documents/Open-Source/Rocket.Chat","root":"/Users/amangupta/Documents/Open-Source/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/amangupta/Documents/Open-Source/Rocket.Chat/app/lib/server/functions/addOAuthService.ts","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"app/lib/server/functions/addOAuthService.ts"}},"code":"module.export({\n  addOAuthService: () => addOAuthService\n});\nlet capitalize;\nmodule.link(\"@rocket.chat/string-helpers\", {\n  capitalize(v) {\n    capitalize = v;\n  }\n\n}, 0);\nlet settingsRegistry;\nmodule.link(\"../../../settings/server\", {\n  settingsRegistry(v) {\n    settingsRegistry = v;\n  }\n\n}, 1);\n\nfunction addOAuthService(name) {\n  let values = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  name = name.toLowerCase().replace(/[^a-z0-9_]/g, '');\n  name = capitalize(name);\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name), values.enabled || false, {\n    type: 'boolean',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Enable',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-url\"), values.serverURL || '', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'URL',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-token_path\"), values.tokenPath || '/oauth/token', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Token_Path',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-token_sent_via\"), values.tokenSentVia || 'payload', {\n    type: 'select',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Token_Sent_Via',\n    persistent: true,\n    values: [{\n      key: 'header',\n      i18nLabel: 'Header'\n    }, {\n      key: 'payload',\n      i18nLabel: 'Payload'\n    }]\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-identity_token_sent_via\"), values.identityTokenSentVia || 'default', {\n    type: 'select',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Identity_Token_Sent_Via',\n    persistent: true,\n    values: [{\n      key: 'default',\n      i18nLabel: 'Same_As_Token_Sent_Via'\n    }, {\n      key: 'header',\n      i18nLabel: 'Header'\n    }, {\n      key: 'payload',\n      i18nLabel: 'Payload'\n    }]\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-identity_path\"), values.identityPath || '/me', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Identity_Path',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-authorize_path\"), values.authorizePath || '/oauth/authorize', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Authorize_Path',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-scope\"), values.scope || 'openid', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Scope',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-access_token_param\"), values.accessTokenParam || 'access_token', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Access_Token_Param',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-id\"), values.clientId || '', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_id',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-secret\"), values.clientSecret || '', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Secret',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-login_style\"), values.loginStyle || 'popup', {\n    type: 'select',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Login_Style',\n    persistent: true,\n    values: [{\n      key: 'redirect',\n      i18nLabel: 'Redirect'\n    }, {\n      key: 'popup',\n      i18nLabel: 'Popup'\n    }, {\n      key: '',\n      i18nLabel: 'Default'\n    }]\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-button_label_text\"), values.buttonLabelText || '', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Button_Label_Text',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-button_label_color\"), values.buttonLabelColor || '#FFFFFF', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Button_Label_Color',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-button_color\"), values.buttonColor || '#1d74f5', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Button_Color',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-key_field\"), values.keyField || 'username', {\n    type: 'select',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Key_Field',\n    persistent: true,\n    values: [{\n      key: 'username',\n      i18nLabel: 'Username'\n    }, {\n      key: 'email',\n      i18nLabel: 'Email'\n    }]\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-username_field\"), values.usernameField || '', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Username_Field',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-email_field\"), values.emailField || '', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Email_Field',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-name_field\"), values.nameField || '', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Name_Field',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-avatar_field\"), values.avatarField || '', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Avatar_Field',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-roles_claim\"), values.rolesClaim || 'roles', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Roles_Claim',\n    enterprise: true,\n    invalidValue: 'roles',\n    modules: ['oauth-enterprise']\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-groups_claim\"), values.groupsClaim || 'groups', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Groups_Claim',\n    enterprise: true,\n    invalidValue: 'groups',\n    modules: ['oauth-enterprise']\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-channels_admin\"), values.channelsAdmin || 'rocket.cat', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Channel_Admin',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-map_channels\"), values.mapChannels || false, {\n    type: 'boolean',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Map_Channels',\n    enterprise: true,\n    invalidValue: false,\n    modules: ['oauth-enterprise']\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-merge_roles\"), values.mergeRoles || false, {\n    type: 'boolean',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Merge_Roles',\n    enterprise: true,\n    invalidValue: false,\n    modules: ['oauth-enterprise']\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-roles_to_sync\"), values.rolesToSync || '', {\n    type: 'string',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Roles_To_Sync',\n    i18nDescription: 'Accounts_OAuth_Custom_Roles_To_Sync_Description',\n    enterprise: true,\n    enableQuery: {\n      _id: \"Accounts_OAuth_Custom-\".concat(name, \"-merge_roles\"),\n      value: true\n    },\n    invalidValue: '',\n    modules: ['oauth-enterprise']\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-merge_users\"), values.mergeUsers || false, {\n    type: 'boolean',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Merge_Users',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-show_button\"), values.showButton || true, {\n    type: 'boolean',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Show_Button_On_Login_Page',\n    persistent: true\n  });\n  settingsRegistry.add(\"Accounts_OAuth_Custom-\".concat(name, \"-groups_channel_map\"), values.channelsMap || '{\\n\\t\"rocket-admin\": \"admin\",\\n\\t\"tech-support\": \"support\"\\n}', {\n    type: 'code',\n    multiline: true,\n    code: 'application/json',\n    group: 'OAuth',\n    section: \"Custom OAuth: \".concat(name),\n    i18nLabel: 'Accounts_OAuth_Custom_Channel_Map',\n    persistent: true\n  });\n}","map":{"version":3,"sources":["app/lib/server/functions/addOAuthService.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint no-multi-spaces: 0 */\n/* eslint comma-spacing: 0 */\nimport { capitalize } from '@rocket.chat/string-helpers';\n\nimport { settingsRegistry } from '../../../settings/server';\n\nexport function addOAuthService(name: string, values: { [k: string]: string | boolean | undefined } = {}): void {\n\tname = name.toLowerCase().replace(/[^a-z0-9_]/g, '');\n\tname = capitalize(name);\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}`, values.enabled || false, {\n\t\ttype: 'boolean',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Enable',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-url`, values.serverURL || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'URL',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-token_path`, values.tokenPath || '/oauth/token', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Token_Path',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-token_sent_via`, values.tokenSentVia || 'payload', {\n\t\ttype: 'select',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Token_Sent_Via',\n\t\tpersistent: true,\n\t\tvalues: [\n\t\t\t{ key: 'header', i18nLabel: 'Header' },\n\t\t\t{ key: 'payload', i18nLabel: 'Payload' },\n\t\t],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-identity_token_sent_via`, values.identityTokenSentVia || 'default', {\n\t\ttype: 'select',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Identity_Token_Sent_Via',\n\t\tpersistent: true,\n\t\tvalues: [\n\t\t\t{ key: 'default', i18nLabel: 'Same_As_Token_Sent_Via' },\n\t\t\t{ key: 'header', i18nLabel: 'Header' },\n\t\t\t{ key: 'payload', i18nLabel: 'Payload' },\n\t\t],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-identity_path`, values.identityPath || '/me', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Identity_Path',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-authorize_path`, values.authorizePath || '/oauth/authorize', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Authorize_Path',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-scope`, values.scope || 'openid', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Scope',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-access_token_param`, values.accessTokenParam || 'access_token', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Access_Token_Param',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-id`, values.clientId || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_id',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-secret`, values.clientSecret || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Secret',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-login_style`, values.loginStyle || 'popup', {\n\t\ttype: 'select',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Login_Style',\n\t\tpersistent: true,\n\t\tvalues: [\n\t\t\t{ key: 'redirect', i18nLabel: 'Redirect' },\n\t\t\t{ key: 'popup', i18nLabel: 'Popup' },\n\t\t\t{ key: '', i18nLabel: 'Default' },\n\t\t],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-button_label_text`, values.buttonLabelText || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Button_Label_Text',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-button_label_color`, values.buttonLabelColor || '#FFFFFF', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Button_Label_Color',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-button_color`, values.buttonColor || '#1d74f5', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Button_Color',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-key_field`, values.keyField || 'username', {\n\t\ttype: 'select',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Key_Field',\n\t\tpersistent: true,\n\t\tvalues: [\n\t\t\t{ key: 'username', i18nLabel: 'Username' },\n\t\t\t{ key: 'email', i18nLabel: 'Email' },\n\t\t],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-username_field`, values.usernameField || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Username_Field',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-email_field`, values.emailField || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Email_Field',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-name_field`, values.nameField || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Name_Field',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-avatar_field`, values.avatarField || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Avatar_Field',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-roles_claim`, values.rolesClaim || 'roles', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Roles_Claim',\n\t\tenterprise: true,\n\t\tinvalidValue: 'roles',\n\t\tmodules: ['oauth-enterprise'],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-groups_claim`, values.groupsClaim || 'groups', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Groups_Claim',\n\t\tenterprise: true,\n\t\tinvalidValue: 'groups',\n\t\tmodules: ['oauth-enterprise'],\n\t});\n\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-channels_admin`, values.channelsAdmin || 'rocket.cat', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Channel_Admin',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-map_channels`, values.mapChannels || false, {\n\t\ttype: 'boolean',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Map_Channels',\n\t\tenterprise: true,\n\t\tinvalidValue: false,\n\t\tmodules: ['oauth-enterprise'],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-merge_roles`, values.mergeRoles || false, {\n\t\ttype: 'boolean',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Merge_Roles',\n\t\tenterprise: true,\n\t\tinvalidValue: false,\n\t\tmodules: ['oauth-enterprise'],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-roles_to_sync`, values.rolesToSync || '', {\n\t\ttype: 'string',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Roles_To_Sync',\n\t\ti18nDescription: 'Accounts_OAuth_Custom_Roles_To_Sync_Description',\n\t\tenterprise: true,\n\t\tenableQuery: {\n\t\t\t_id: `Accounts_OAuth_Custom-${name}-merge_roles`,\n\t\t\tvalue: true,\n\t\t},\n\t\tinvalidValue: '',\n\t\tmodules: ['oauth-enterprise'],\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-merge_users`, values.mergeUsers || false, {\n\t\ttype: 'boolean',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Merge_Users',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(`Accounts_OAuth_Custom-${name}-show_button`, values.showButton || true, {\n\t\ttype: 'boolean',\n\t\tgroup: 'OAuth',\n\t\tsection: `Custom OAuth: ${name}`,\n\t\ti18nLabel: 'Accounts_OAuth_Custom_Show_Button_On_Login_Page',\n\t\tpersistent: true,\n\t});\n\tsettingsRegistry.add(\n\t\t`Accounts_OAuth_Custom-${name}-groups_channel_map`,\n\t\tvalues.channelsMap || '{\\n\\t\"rocket-admin\": \"admin\",\\n\\t\"tech-support\": \"support\"\\n}',\n\t\t{\n\t\t\ttype: 'code',\n\t\t\tmultiline: true,\n\t\t\tcode: 'application/json',\n\t\t\tgroup: 'OAuth',\n\t\t\tsection: `Custom OAuth: ${name}`,\n\t\t\ti18nLabel: 'Accounts_OAuth_Custom_Channel_Map',\n\t\t\tpersistent: true,\n\t\t},\n\t);\n}\n"],"sourceRoot":""},"sourceType":"module","hash":"88aea26ea6d4f9c8c17d669dd3f6ecb937099243"}
